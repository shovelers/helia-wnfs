(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Libp2PPeerIdFactory = factory()}(typeof self !== 'undefined' ? self : this, function () {
"use strict";var Libp2PPeerIdFactory=(()=>{var Z0=Object.create;var en=Object.defineProperty;var $0=Object.getOwnPropertyDescriptor;var Q0=Object.getOwnPropertyNames;var X0=Object.getPrototypeOf,J0=Object.prototype.hasOwnProperty;var ft=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Bt=(t,e)=>{for(var r in e)en(t,r,{get:e[r],enumerable:!0})},Ms=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Q0(e))!J0.call(t,i)&&i!==r&&en(t,i,{get:()=>e[i],enumerable:!(n=$0(e,i))||n.enumerable});return t};var Mt=(t,e,r)=>(r=t!=null?Z0(X0(t)):{},Ms(e||!t||!t.__esModule?en(r,"default",{value:t,enumerable:!0}):r,t)),j0=t=>Ms(en({},"__esModule",{value:!0}),t);var st=ft((Nd,Vs)=>{Vs.exports={options:{usePureJavaScript:!1}}});var Hs=ft((Dd,Fs)=>{var Wn={};Fs.exports=Wn;var qs={};Wn.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(t instanceof Uint8Array))n=tf(t,e);else{var i=0,s=e.length,o=e.charAt(0),a=[0];for(i=0;i<t.length;++i){for(var f=0,c=t[i];f<a.length;++f)c+=a[f]<<8,a[f]=c%s,c=c/s|0;for(;c>0;)a.push(c%s),c=c/s|0}for(i=0;t[i]===0&&i<t.length-1;++i)n+=o;for(i=a.length-1;i>=0;--i)n+=e[a[i]]}if(r){var u=new RegExp(".{1,"+r+"}","g");n=n.match(u).join(`\r
`)}return n};Wn.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=qs[e];if(!r){r=qs[e]=[];for(var n=0;n<e.length;++n)r[e.charCodeAt(n)]=n}t=t.replace(/\s/g,"");for(var i=e.length,s=e.charAt(0),o=[0],n=0;n<t.length;n++){var a=r[t.charCodeAt(n)];if(a===void 0)return;for(var f=0,c=a;f<o.length;++f)c+=o[f]*i,o[f]=c&255,c>>=8;for(;c>0;)o.push(c&255),c>>=8}for(var u=0;t[u]===s&&u<t.length-1;++u)o.push(0);return typeof Buffer<"u"?Buffer.from(o.reverse()):new Uint8Array(o.reverse())};function tf(t,e){var r=0,n=e.length,i=e.charAt(0),s=[0];for(r=0;r<t.length();++r){for(var o=0,a=t.at(r);o<s.length;++o)a+=s[o]<<8,s[o]=a%n,a=a/n|0;for(;a>0;)s.push(a%n),a=a/n|0}var f="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)f+=i;for(r=s.length-1;r>=0;--r)f+=e[s[r]];return f}});var vt=ft((kd,Ys)=>{var zs=st(),Gs=Hs(),g=Ys.exports=zs.util=zs.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){g.nextTick=process.nextTick,typeof setImmediate=="function"?g.setImmediate=setImmediate:g.setImmediate=g.nextTick;return}if(typeof setImmediate=="function"){g.setImmediate=function(){return setImmediate.apply(void 0,arguments)},g.nextTick=function(a){return setImmediate(a)};return}if(g.setImmediate=function(a){setTimeout(a,0)},typeof window<"u"&&typeof window.postMessage=="function"){let a=function(f){if(f.source===window&&f.data===t){f.stopPropagation();var c=e.slice();e.length=0,c.forEach(function(u){u()})}};var o=a,t="forge.setImmediate",e=[];g.setImmediate=function(f){e.push(f),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",a,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),e=[];new MutationObserver(function(){var f=e.slice();e.length=0,f.forEach(function(c){c()})}).observe(i,{attributes:!0});var s=g.setImmediate;g.setImmediate=function(f){Date.now()-r>15?(r=Date.now(),s(f)):(e.push(f),e.length===1&&i.setAttribute("a",n=!n))}}g.nextTick=g.setImmediate})();g.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;g.globalScope=function(){return g.isNodejs?globalThis:typeof self>"u"?window:self}();g.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};g.isArrayBuffer=function(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer};g.isArrayBufferView=function(t){return t&&g.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function _r(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}g.ByteBuffer=Yn;function Yn(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(g.isArrayBuffer(t)||g.isArrayBufferView(t))if(typeof Buffer<"u"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch{for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof Yn||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}g.ByteStringBuffer=Yn;var ef=4096;g.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>ef&&(this.data.substr(0,1),this._constructedStringLength=0)};g.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};g.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};g.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};g.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};g.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};g.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(g.encodeUtf8(t))};g.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};g.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};g.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};g.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};g.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};g.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};g.ByteStringBuffer.prototype.putInt=function(t,e){_r(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};g.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};g.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};g.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};g.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};g.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};g.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};g.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};g.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};g.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};g.ByteStringBuffer.prototype.getInt=function(t){_r(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};g.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};g.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};g.ByteStringBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};g.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};g.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};g.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};g.ByteStringBuffer.prototype.copy=function(){var t=g.createBuffer(this.data);return t.read=this.read,t};g.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};g.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};g.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};g.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};g.ByteStringBuffer.prototype.toString=function(){return g.decodeUtf8(this.bytes())};function rf(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=g.isArrayBuffer(t),n=g.isArrayBufferView(t);if(r||n){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}g.DataBuffer=rf;g.DataBuffer.prototype.length=function(){return this.write-this.read};g.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};g.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this};g.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};g.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};g.DataBuffer.prototype.putBytes=function(t,e){if(g.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(g.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof g.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&g.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var i=new Uint8Array(t.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(t instanceof g.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var s;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=g.binary.hex.decode(t,s,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=g.binary.base64.decode(t,s,this.write),this;if(e==="utf8"&&(t=g.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=g.binary.raw.decode(s),this;if(e==="utf16")return this.accommodate(t.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=g.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};g.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};g.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};g.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};g.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};g.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};g.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};g.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};g.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};g.DataBuffer.prototype.putInt=function(t,e){_r(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};g.DataBuffer.prototype.putSignedInt=function(t,e){return _r(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};g.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};g.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};g.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};g.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};g.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};g.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};g.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};g.DataBuffer.prototype.getInt=function(t){_r(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};g.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};g.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};g.DataBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};g.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};g.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};g.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};g.DataBuffer.prototype.copy=function(){return new g.DataBuffer(this)};g.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};g.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};g.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};g.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};g.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return g.binary.raw.encode(e);if(t==="hex")return g.binary.hex.encode(e);if(t==="base64")return g.binary.base64.encode(e);if(t==="utf8")return g.text.utf8.decode(e);if(t==="utf16")return g.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};g.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=g.encodeUtf8(t)),new g.ByteBuffer(t)};g.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};g.xorBytes=function(t,e,r){for(var n="",i="",s="",o=0,a=0;r>0;--r,++o)i=t.charCodeAt(o)^e.charCodeAt(o),a>=10&&(n+=s,s="",a=0),s+=String.fromCharCode(i),++a;return n+=s,n};g.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};g.bytesToHex=function(t){return g.createBuffer(t).toHex()};g.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var Be="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Se=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],Ws="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";g.encode64=function(t,e){for(var r="",n="",i,s,o,a=0;a<t.length;)i=t.charCodeAt(a++),s=t.charCodeAt(a++),o=t.charCodeAt(a++),r+=Be.charAt(i>>2),r+=Be.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=Be.charAt((s&15)<<2|o>>6),r+=isNaN(o)?"=":Be.charAt(o&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};g.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,n,i,s,o=0;o<t.length;)r=Se[t.charCodeAt(o++)-43],n=Se[t.charCodeAt(o++)-43],i=Se[t.charCodeAt(o++)-43],s=Se[t.charCodeAt(o++)-43],e+=String.fromCharCode(r<<2|n>>4),i!==64&&(e+=String.fromCharCode((n&15)<<4|i>>2),s!==64&&(e+=String.fromCharCode((i&3)<<6|s)));return e};g.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};g.decodeUtf8=function(t){return decodeURIComponent(escape(t))};g.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:Gs.encode,decode:Gs.decode}};g.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};g.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,s=0;s<t.length;++s)n[i++]=t.charCodeAt(s);return e?i-r:n};g.binary.hex.encode=g.bytesToHex;g.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var i=0,s=r;for(t.length&1&&(i=1,n[s++]=parseInt(t[0],16));i<t.length;i+=2)n[s++]=parseInt(t.substr(i,2),16);return e?s-r:n};g.binary.base64.encode=function(t,e){for(var r="",n="",i,s,o,a=0;a<t.byteLength;)i=t[a++],s=t[a++],o=t[a++],r+=Be.charAt(i>>2),r+=Be.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=Be.charAt((s&15)<<2|o>>6),r+=isNaN(o)?"=":Be.charAt(o&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};g.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,s,o,a,f=0,c=r;f<t.length;)i=Se[t.charCodeAt(f++)-43],s=Se[t.charCodeAt(f++)-43],o=Se[t.charCodeAt(f++)-43],a=Se[t.charCodeAt(f++)-43],n[c++]=i<<2|s>>4,o!==64&&(n[c++]=(s&15)<<4|o>>2,a!==64&&(n[c++]=(o&3)<<6|a));return e?c-r:n.subarray(0,c)};g.binary.base58.encode=function(t,e){return g.binary.baseN.encode(t,Ws,e)};g.binary.base58.decode=function(t,e){return g.binary.baseN.decode(t,Ws,e)};g.text={utf8:{},utf16:{}};g.text.utf8.encode=function(t,e,r){t=g.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,s=0;s<t.length;++s)n[i++]=t.charCodeAt(s);return e?i-r:n};g.text.utf8.decode=function(t){return g.decodeUtf8(String.fromCharCode.apply(null,t))};g.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var s=r,o=r,a=0;a<t.length;++a)i[o++]=t.charCodeAt(a),s+=2;return e?s-r:n};g.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};g.deflate=function(t,e,r){if(e=g.decode64(t.deflate(g.encode64(e)).rval),r){var n=2,i=e.charCodeAt(1);i&32&&(n=6),e=e.substring(n,e.length-4)}return e};g.inflate=function(t,e,r){var n=t.inflate(g.encode64(e)).rval;return n===null?null:g.decode64(n)};var Zn=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(r===null?n=t.removeItem(e):(r=g.encode64(JSON.stringify(r)),n=t.setItem(e,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},$n=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(g.decode64(r))),r},nf=function(t,e,r,n){var i=$n(t,e);i===null&&(i={}),i[r]=n,Zn(t,e,i)},sf=function(t,e,r){var n=$n(t,e);return n!==null&&(n=r in n?n[r]:null),n},af=function(t,e,r){var n=$n(t,e);if(n!==null&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),Zn(t,e,n)}},of=function(t,e){Zn(t,e,null)},rn=function(t,e,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,s=!1,o=null;for(var a in r){i=r[a];try{if(i==="flash"||i==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");n=t.apply(this,e),s=i==="flash"}(i==="web"||i==="both")&&(e[0]=localStorage,n=t.apply(this,e),s=!0)}catch(f){o=f}if(s)break}if(!s)throw o;return n};g.setItem=function(t,e,r,n,i){rn(nf,arguments,i)};g.getItem=function(t,e,r,n){return rn(sf,arguments,n)};g.removeItem=function(t,e,r,n){rn(af,arguments,n)};g.clearItems=function(t,e,r){rn(of,arguments,r)};g.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};g.format=function(t){for(var e=/%./g,r,n,i=0,s=[],o=0;r=e.exec(t);){n=t.substring(o,e.lastIndex-2),n.length>0&&s.push(n),o=e.lastIndex;var a=r[0][1];switch(a){case"s":case"o":i<arguments.length?s.push(arguments[i+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+a+"?>")}}return s.push(t.substring(o)),s.join("")};g.formatNumber=function(t,e,r,n){var i=t,s=isNaN(e=Math.abs(e))?2:e,o=r===void 0?",":r,a=n===void 0?".":n,f=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",u=c.length>3?c.length%3:0;return f+(u?c.substr(0,u)+a:"")+c.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+a)+(s?o+Math.abs(i-c).toFixed(s).slice(2):"")};g.formatSize=function(t){return t>=1073741824?t=g.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=g.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=g.formatNumber(t/1024,0)+" KiB":t=g.formatNumber(t,0)+" bytes",t};g.bytesFromIP=function(t){return t.indexOf(".")!==-1?g.bytesFromIPv4(t):t.indexOf(":")!==-1?g.bytesFromIPv6(t):null};g.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=g.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()};g.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(o){return o.length===0&&++e,!0});for(var r=(8-t.length+e)*2,n=g.createBuffer(),i=0;i<8;++i){if(!t[i]||t[i].length===0){n.fillWithByte(0,r),r=0;continue}var s=g.hexToBytes(t[i]);s.length<2&&n.putByte(0),n.putBytes(s)}return n.getBytes()};g.bytesToIP=function(t){return t.length===4?g.bytesToIPv4(t):t.length===16?g.bytesToIPv6(t):null};g.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};g.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var s=g.bytesToHex(t[i]+t[i+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var o=r[r.length-1],a=e.length;!o||a!==o.end+1?r.push({start:a,end:a}):(o.end=a,o.end-o.start>r[n].end-r[n].start&&(n=r.length-1))}e.push(s)}if(r.length>0){var f=r[n];f.end-f.start>0&&(e.splice(f.start,f.end-f.start+1,""),f.start===0&&e.unshift(""),f.end===7&&e.push(""))}return e.join(":")};g.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in g&&!t.update)return e(null,g.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return g.cores=navigator.hardwareConcurrency,e(null,g.cores);if(typeof Worker>"u")return g.cores=1,e(null,g.cores);if(typeof Blob>"u")return g.cores=2,e(null,g.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(o){for(var a=Date.now(),f=a+4;Date.now()<f;);self.postMessage({st:a,et:f})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(o,a,f){if(a===0){var c=Math.floor(o.reduce(function(u,h){return u+h},0)/o.length);return g.cores=Math.max(1,c),URL.revokeObjectURL(r),e(null,g.cores)}i(f,function(u,h){o.push(s(f,h)),n(o,a-1,f)})}function i(o,a){for(var f=[],c=[],u=0;u<o;++u){var h=new Worker(r);h.addEventListener("message",function(d){if(c.push(d.data),c.length===o){for(var x=0;x<o;++x)f[x].terminate();a(null,c)}}),f.push(h)}for(var u=0;u<o;++u)f[u].postMessage(u)}function s(o,a){for(var f=[],c=0;c<o;++c)for(var u=a[c],h=f[c]=[],d=0;d<o;++d)if(c!==d){var x=a[d];(u.st>x.st&&u.st<x.et||x.st>u.st&&x.st<u.et)&&h.push(d)}return f.reduce(function(l,p){return Math.max(l,p.length)},0)}}});var nn=ft((Pd,Zs)=>{var Rr=st();Rr.pki=Rr.pki||{};var Qn=Zs.exports=Rr.pki.oids=Rr.oids=Rr.oids||{};function T(t,e){Qn[t]=e,Qn[e]=t}function rt(t,e){Qn[t]=e}T("1.2.840.113549.1.1.1","rsaEncryption");T("1.2.840.113549.1.1.4","md5WithRSAEncryption");T("1.2.840.113549.1.1.5","sha1WithRSAEncryption");T("1.2.840.113549.1.1.7","RSAES-OAEP");T("1.2.840.113549.1.1.8","mgf1");T("1.2.840.113549.1.1.9","pSpecified");T("1.2.840.113549.1.1.10","RSASSA-PSS");T("1.2.840.113549.1.1.11","sha256WithRSAEncryption");T("1.2.840.113549.1.1.12","sha384WithRSAEncryption");T("1.2.840.113549.1.1.13","sha512WithRSAEncryption");T("1.3.101.112","EdDSA25519");T("1.2.840.10040.4.3","dsa-with-sha1");T("1.3.14.3.2.7","desCBC");T("1.3.14.3.2.26","sha1");T("1.3.14.3.2.29","sha1WithRSASignature");T("2.16.840.1.101.3.4.2.1","sha256");T("2.16.840.1.101.3.4.2.2","sha384");T("2.16.840.1.101.3.4.2.3","sha512");T("2.16.840.1.101.3.4.2.4","sha224");T("2.16.840.1.101.3.4.2.5","sha512-224");T("2.16.840.1.101.3.4.2.6","sha512-256");T("1.2.840.113549.2.2","md2");T("1.2.840.113549.2.5","md5");T("1.2.840.113549.1.7.1","data");T("1.2.840.113549.1.7.2","signedData");T("1.2.840.113549.1.7.3","envelopedData");T("1.2.840.113549.1.7.4","signedAndEnvelopedData");T("1.2.840.113549.1.7.5","digestedData");T("1.2.840.113549.1.7.6","encryptedData");T("1.2.840.113549.1.9.1","emailAddress");T("1.2.840.113549.1.9.2","unstructuredName");T("1.2.840.113549.1.9.3","contentType");T("1.2.840.113549.1.9.4","messageDigest");T("1.2.840.113549.1.9.5","signingTime");T("1.2.840.113549.1.9.6","counterSignature");T("1.2.840.113549.1.9.7","challengePassword");T("1.2.840.113549.1.9.8","unstructuredAddress");T("1.2.840.113549.1.9.14","extensionRequest");T("1.2.840.113549.1.9.20","friendlyName");T("1.2.840.113549.1.9.21","localKeyId");T("1.2.840.113549.1.9.22.1","x509Certificate");T("1.2.840.113549.1.12.10.1.1","keyBag");T("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");T("1.2.840.113549.1.12.10.1.3","certBag");T("1.2.840.113549.1.12.10.1.4","crlBag");T("1.2.840.113549.1.12.10.1.5","secretBag");T("1.2.840.113549.1.12.10.1.6","safeContentsBag");T("1.2.840.113549.1.5.13","pkcs5PBES2");T("1.2.840.113549.1.5.12","pkcs5PBKDF2");T("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");T("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");T("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");T("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");T("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");T("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");T("1.2.840.113549.2.7","hmacWithSHA1");T("1.2.840.113549.2.8","hmacWithSHA224");T("1.2.840.113549.2.9","hmacWithSHA256");T("1.2.840.113549.2.10","hmacWithSHA384");T("1.2.840.113549.2.11","hmacWithSHA512");T("1.2.840.113549.3.7","des-EDE3-CBC");T("2.16.840.1.101.3.4.1.2","aes128-CBC");T("2.16.840.1.101.3.4.1.22","aes192-CBC");T("2.16.840.1.101.3.4.1.42","aes256-CBC");T("2.5.4.3","commonName");T("2.5.4.4","surname");T("2.5.4.5","serialNumber");T("2.5.4.6","countryName");T("2.5.4.7","localityName");T("2.5.4.8","stateOrProvinceName");T("2.5.4.9","streetAddress");T("2.5.4.10","organizationName");T("2.5.4.11","organizationalUnitName");T("2.5.4.12","title");T("2.5.4.13","description");T("2.5.4.15","businessCategory");T("2.5.4.17","postalCode");T("2.5.4.42","givenName");T("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");T("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");T("2.16.840.1.113730.1.1","nsCertType");T("2.16.840.1.113730.1.13","nsComment");rt("2.5.29.1","authorityKeyIdentifier");rt("2.5.29.2","keyAttributes");rt("2.5.29.3","certificatePolicies");rt("2.5.29.4","keyUsageRestriction");rt("2.5.29.5","policyMapping");rt("2.5.29.6","subtreesConstraint");rt("2.5.29.7","subjectAltName");rt("2.5.29.8","issuerAltName");rt("2.5.29.9","subjectDirectoryAttributes");rt("2.5.29.10","basicConstraints");rt("2.5.29.11","nameConstraints");rt("2.5.29.12","policyConstraints");rt("2.5.29.13","basicConstraints");T("2.5.29.14","subjectKeyIdentifier");T("2.5.29.15","keyUsage");rt("2.5.29.16","privateKeyUsagePeriod");T("2.5.29.17","subjectAltName");T("2.5.29.18","issuerAltName");T("2.5.29.19","basicConstraints");rt("2.5.29.20","cRLNumber");rt("2.5.29.21","cRLReason");rt("2.5.29.22","expirationDate");rt("2.5.29.23","instructionCode");rt("2.5.29.24","invalidityDate");rt("2.5.29.25","cRLDistributionPoints");rt("2.5.29.26","issuingDistributionPoint");rt("2.5.29.27","deltaCRLIndicator");rt("2.5.29.28","issuingDistributionPoint");rt("2.5.29.29","certificateIssuer");rt("2.5.29.30","nameConstraints");T("2.5.29.31","cRLDistributionPoints");T("2.5.29.32","certificatePolicies");rt("2.5.29.33","policyMappings");rt("2.5.29.34","policyConstraints");T("2.5.29.35","authorityKeyIdentifier");rt("2.5.29.36","policyConstraints");T("2.5.29.37","extKeyUsage");rt("2.5.29.46","freshestCRL");rt("2.5.29.54","inhibitAnyPolicy");T("1.3.6.1.4.1.11129.2.4.2","timestampList");T("1.3.6.1.5.5.7.1.1","authorityInfoAccess");T("1.3.6.1.5.5.7.3.1","serverAuth");T("1.3.6.1.5.5.7.3.2","clientAuth");T("1.3.6.1.5.5.7.3.3","codeSigning");T("1.3.6.1.5.5.7.3.4","emailProtection");T("1.3.6.1.5.5.7.3.8","timeStamping")});var Nr=ft((Kd,Qs)=>{var ct=st();vt();nn();var P=Qs.exports=ct.asn1=ct.asn1||{};P.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};P.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};P.create=function(t,e,r,n,i){if(ct.util.isArray(n)){for(var s=[],o=0;o<n.length;++o)n[o]!==void 0&&s.push(n[o]);n=s}var a={tagClass:t,type:e,constructed:r,composed:r||ct.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(a.bitStringContents=i.bitStringContents,a.original=P.copy(a)),a};P.copy=function(t,e){var r;if(ct.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(P.copy(t[n],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:P.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};P.equals=function(t,e,r){if(ct.util.isArray(t)){if(!ct.util.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!P.equals(t[n],e[n]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var i=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&P.equals(t.value,e.value);return r&&r.includeBitStringContents&&(i=i&&t.bitStringContents===e.bitStringContents),i};P.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,n=e&128;return n?r=t.getInt((e&127)<<3):r=e,r}};function Lr(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}var ff=function(t,e){var r=t.getByte();if(e--,r!==128){var n,i=r&128;if(!i)n=r;else{var s=r&127;Lr(t,e,s),n=t.getInt(s<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};P.fromDer=function(t,e){e===void 0&&(e={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"parseAllBytes"in e||(e.parseAllBytes=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=ct.util.createBuffer(t));var r=t.length(),n=sn(t,t.length(),0,e);if(e.parseAllBytes&&t.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=t.length(),i}return n};function sn(t,e,r,n){var i;Lr(t,e,2);var s=t.getByte();e--;var o=s&192,a=s&31;i=t.length();var f=ff(t,e);if(e-=i-t.length(),f!==void 0&&f>e){if(n.strict){var c=new Error("Too few bytes to read ASN.1 value.");throw c.available=t.length(),c.remaining=e,c.requested=f,c}f=e}var u,h,d=(s&32)===32;if(d)if(u=[],f===void 0)for(;;){if(Lr(t,e,2),t.bytes(2)==="\0\0"){t.getBytes(2),e-=2;break}i=t.length(),u.push(sn(t,e,r+1,n)),e-=i-t.length()}else for(;f>0;)i=t.length(),u.push(sn(t,f,r+1,n)),e-=i-t.length(),f-=i-t.length();if(u===void 0&&o===P.Class.UNIVERSAL&&a===P.Type.BITSTRING&&(h=t.bytes(f)),u===void 0&&n.decodeBitStrings&&o===P.Class.UNIVERSAL&&a===P.Type.BITSTRING&&f>1){var x=t.read,l=e,p=0;if(a===P.Type.BITSTRING&&(Lr(t,e,1),p=t.getByte(),e--),p===0)try{i=t.length();var y={strict:!0,decodeBitStrings:!0},m=sn(t,e,r+1,y),E=i-t.length();e-=E,a==P.Type.BITSTRING&&E++;var b=m.tagClass;E===f&&(b===P.Class.UNIVERSAL||b===P.Class.CONTEXT_SPECIFIC)&&(u=[m])}catch{}u===void 0&&(t.read=x,e=l)}if(u===void 0){if(f===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");f=e}if(a===P.Type.BMPSTRING)for(u="";f>0;f-=2)Lr(t,e,2),u+=String.fromCharCode(t.getInt16()),e-=2;else u=t.getBytes(f),e-=f}var R=h===void 0?null:{bitStringContents:h};return P.create(o,a,d,u,R)}P.toDer=function(t){var e=ct.util.createBuffer(),r=t.tagClass|t.type,n=ct.util.createBuffer(),i=!1;if("bitStringContents"in t&&(i=!0,t.original&&(i=P.equals(t,t.original))),i)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var s=0;s<t.value.length;++s)t.value[s]!==void 0&&n.putBuffer(P.toDer(t.value[s]))}else if(t.type===P.Type.BMPSTRING)for(var s=0;s<t.value.length;++s)n.putInt16(t.value.charCodeAt(s));else t.type===P.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&!(t.value.charCodeAt(1)&128)||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)===128)?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(n.length()&127);else{var o=n.length(),a="";do a+=String.fromCharCode(o&255),o=o>>>8;while(o>0);e.putByte(a.length|128);for(var s=a.length-1;s>=0;--s)e.putByte(a.charCodeAt(s))}return e.putBuffer(n),e};P.oidToDer=function(t){var e=t.split("."),r=ct.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,i,s,o,a=2;a<e.length;++a){n=!0,i=[],s=parseInt(e[a],10);do o=s&127,s=s>>>7,n||(o|=128),i.push(o),n=!1;while(s>0);for(var f=i.length-1;f>=0;--f)r.putByte(i[f])}return r};P.derToOid=function(t){var e;typeof t=="string"&&(t=ct.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)r=t.getByte(),n=n<<7,r&128?n+=r&127:(e+="."+(n+r),n=0);return e};P.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),s=parseInt(t.substr(6,2),10),o=parseInt(t.substr(8,2),10),a=0;if(t.length>11){var f=t.charAt(10),c=10;f!=="+"&&f!=="-"&&(a=parseInt(t.substr(10,2),10),c+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(s,o,a,0),c&&(f=t.charAt(c),f==="+"||f==="-")){var u=parseInt(t.substr(c+1,2),10),h=parseInt(t.substr(c+4,2),10),d=u*60+h;d*=6e4,f==="+"?e.setTime(+e-d):e.setTime(+e+d)}return e};P.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),s=parseInt(t.substr(8,2),10),o=parseInt(t.substr(10,2),10),a=parseInt(t.substr(12,2),10),f=0,c=0,u=!1;t.charAt(t.length-1)==="Z"&&(u=!0);var h=t.length-5,d=t.charAt(h);if(d==="+"||d==="-"){var x=parseInt(t.substr(h+1,2),10),l=parseInt(t.substr(h+4,2),10);c=x*60+l,c*=6e4,d==="+"&&(c*=-1),u=!0}return t.charAt(14)==="."&&(f=parseFloat(t.substr(14),10)*1e3),u?(e.setUTCFullYear(r,n,i),e.setUTCHours(s,o,a,f),e.setTime(+e+c)):(e.setFullYear(r,n,i),e.setHours(s,o,a,f)),e};P.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};P.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};P.integerToDer=function(t){var e=ct.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};P.derToInteger=function(t){typeof t=="string"&&(t=ct.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};P.validate=function(t,e,r,n){var i=!1;if((t.tagClass===e.tagClass||typeof e.tagClass>"u")&&(t.type===e.type||typeof e.type>"u"))if(t.constructed===e.constructed||typeof e.constructed>"u"){if(i=!0,e.value&&ct.util.isArray(e.value))for(var s=0,o=0;i&&o<e.value.length;++o)i=e.value[o].optional||!1,t.value[s]&&(i=P.validate(t.value[s],e.value[o],r,n),i?++s:e.value[o].optional&&(i=!0)),!i&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(i&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var a;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var f=t.bitStringContents.charCodeAt(0);if(f!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return i};var $s=/[^\\u0000-\\u00ff]/;P.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+=`
`);for(var i="",s=0;s<e*r;++s)i+=" ";switch(n+=i+"Tag: ",t.tagClass){case P.Class.UNIVERSAL:n+="Universal:";break;case P.Class.APPLICATION:n+="Application:";break;case P.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case P.Class.PRIVATE:n+="Private:";break}if(t.tagClass===P.Class.UNIVERSAL)switch(n+=t.type,t.type){case P.Type.NONE:n+=" (None)";break;case P.Type.BOOLEAN:n+=" (Boolean)";break;case P.Type.INTEGER:n+=" (Integer)";break;case P.Type.BITSTRING:n+=" (Bit string)";break;case P.Type.OCTETSTRING:n+=" (Octet string)";break;case P.Type.NULL:n+=" (Null)";break;case P.Type.OID:n+=" (Object Identifier)";break;case P.Type.ODESC:n+=" (Object Descriptor)";break;case P.Type.EXTERNAL:n+=" (External or Instance of)";break;case P.Type.REAL:n+=" (Real)";break;case P.Type.ENUMERATED:n+=" (Enumerated)";break;case P.Type.EMBEDDED:n+=" (Embedded PDV)";break;case P.Type.UTF8:n+=" (UTF8)";break;case P.Type.ROID:n+=" (Relative Object Identifier)";break;case P.Type.SEQUENCE:n+=" (Sequence)";break;case P.Type.SET:n+=" (Set)";break;case P.Type.PRINTABLESTRING:n+=" (Printable String)";break;case P.Type.IA5String:n+=" (IA5String (ASCII))";break;case P.Type.UTCTIME:n+=" (UTC time)";break;case P.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case P.Type.BMPSTRING:n+=" (BMP String)";break}else n+=t.type;if(n+=`
`,n+=i+"Constructed: "+t.constructed+`
`,t.composed){for(var o=0,a="",s=0;s<t.value.length;++s)t.value[s]!==void 0&&(o+=1,a+=P.prettyPrint(t.value[s],e+1,r),s+1<t.value.length&&(a+=","));n+=i+"Sub values: "+o+a}else{if(n+=i+"Value: ",t.type===P.Type.OID){var f=P.derToOid(t.value);n+=f,ct.pki&&ct.pki.oids&&f in ct.pki.oids&&(n+=" ("+ct.pki.oids[f]+") ")}if(t.type===P.Type.INTEGER)try{n+=P.derToInteger(t.value)}catch{n+="0x"+ct.util.bytesToHex(t.value)}else if(t.type===P.Type.BITSTRING){if(t.value.length>1?n+="0x"+ct.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var c=t.value.charCodeAt(0);c==1?n+=" (1 unused bit shown)":c>1&&(n+=" ("+c+" unused bits shown)")}}else if(t.type===P.Type.OCTETSTRING)$s.test(t.value)||(n+="("+t.value+") "),n+="0x"+ct.util.bytesToHex(t.value);else if(t.type===P.Type.UTF8)try{n+=ct.util.decodeUtf8(t.value)}catch(u){if(u.message==="URI malformed")n+="0x"+ct.util.bytesToHex(t.value)+" (malformed UTF8)";else throw u}else t.type===P.Type.PRINTABLESTRING||t.type===P.Type.IA5String?n+=t.value:$s.test(t.value)?n+="0x"+ct.util.bytesToHex(t.value):t.value.length===0?n+="[null]":n+=t.value}return n}});var Jn=ft((Ud,Xs)=>{var St=st();vt();Xs.exports=St.cipher=St.cipher||{};St.cipher.algorithms=St.cipher.algorithms||{};St.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=St.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new St.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};St.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=St.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new St.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};St.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),St.cipher.algorithms[t]=e};St.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in St.cipher.algorithms?St.cipher.algorithms[t]:null};var Xn=St.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};Xn.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=St.util.createBuffer(),this.output=t.output||St.util.createBuffer(),this.mode.start(e)};Xn.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};Xn.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var ti=ft((Od,Js)=>{var At=st();vt();At.cipher=At.cipher||{};var Z=Js.exports=At.cipher.modes=At.cipher.modes||{};Z.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Z.ecb.prototype.start=function(t){};Z.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};Z.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};Z.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};Z.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};Z.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Z.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=an(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};Z.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock};Z.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};Z.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};Z.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};Z.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=At.util.createBuffer(),this._partialBytes=0};Z.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=an(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Z.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Z.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Z.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=At.util.createBuffer(),this._partialBytes=0};Z.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=an(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Z.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Z.ofb.prototype.decrypt=Z.ofb.prototype.encrypt;Z.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=At.util.createBuffer(),this._partialBytes=0};Z.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=an(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Z.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}on(this._inBlock)};Z.ctr.prototype.decrypt=Z.ctr.prototype.encrypt;Z.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=At.util.createBuffer(),this._partialBytes=0,this._R=3774873600};Z.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=At.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=At.util.createBuffer(t.additionalData):r=At.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=At.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(n===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(jn(n*8)))}this._inBlock=this._j0.slice(0),on(this._inBlock),this._partialBytes=0,r=At.util.createBuffer(r),this._aDataLength=jn(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};Z.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s<=0||r){if(r){var o=n%this.blockSize;this._cipherLength+=o,this._partialOutput.truncate(this.blockSize-o)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),on(this._inBlock)};Z.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),on(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};Z.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=At.util.createBuffer();var n=this._aDataLength.concat(jn(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^i[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};Z.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){var s=t[i/32|0]&1<<31-i%32;s&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};Z.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,n=3;n>0;--n)e[n]=t[n]>>>1|(t[n-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};Z.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=t[n]>>>(7-r%8)*4&15,s=this._m[r][i];e[0]^=s[0],e[1]^=s[1],e[2]^=s[2],e[3]^=s[3]}return e};Z.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};Z.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,s=new Array(i),o=0;o<i;++o){var a=[0,0,0,0],f=o/n|0,c=(n-1-o%n)*e;a[f]=1<<e-1<<c,s[o]=this.generateSubHashTable(this.multiply(a,t),e)}return s};Z.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var o=1;o<s;++o){var a=i[s],f=i[o];i[s+o]=[a[0]^f[0],a[1]^f[1],a[2]^f[2],a[3]^f[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var c=i[s^n];i[s]=[t[0]^c[0],t[1]^c[1],t[2]^c[2],t[3]^c[3]]}return i};function an(t,e){if(typeof t=="string"&&(t=At.util.createBuffer(t)),At.util.isArray(t)&&t.length>4){var r=t;t=At.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!At.util.isArray(t)){for(var i=[],s=e/4,n=0;n<s;++n)i.push(t.getInt32());t=i}return t}function on(t){t[t.length-1]=t[t.length-1]+1&4294967295}function jn(t){return[t/4294967296|0,t&4294967295]}});var ii=ft((Md,ra)=>{var ot=st();Jn();ti();vt();ra.exports=ot.aes=ot.aes||{};ot.aes.startEncrypting=function(t,e,r,n){var i=fn({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i};ot.aes.createEncryptionCipher=function(t,e){return fn({key:t,output:null,decrypt:!1,mode:e})};ot.aes.startDecrypting=function(t,e,r,n){var i=fn({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i};ot.aes.createDecryptionCipher=function(t,e){return fn({key:t,output:null,decrypt:!0,mode:e})};ot.aes.Algorithm=function(t,e){ni||ta();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(n,i){return ri(r._w,n,i,!1)},decrypt:function(n,i){return ri(r._w,n,i,!0)}}}),r._init=!1};ot.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=ot.util.createBuffer(e);else if(ot.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=ot.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(!ot.util.isArray(e)){r=e,e=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)e.push(r.getInt32())}}if(!ot.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,o=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=ea(e,t.decrypt&&!o),this._init=!0}};ot.aes._expandKey=function(t,e){return ni||ta(),ea(t,e)};ot.aes._updateBlock=ri;rr("AES-ECB",ot.cipher.modes.ecb);rr("AES-CBC",ot.cipher.modes.cbc);rr("AES-CFB",ot.cipher.modes.cfb);rr("AES-OFB",ot.cipher.modes.ofb);rr("AES-CTR",ot.cipher.modes.ctr);rr("AES-GCM",ot.cipher.modes.gcm);function rr(t,e){var r=function(){return new ot.aes.Algorithm(t,e)};ot.cipher.registerAlgorithm(t,r)}var ni=!1,er=4,Dt,ei,js,Oe,Yt;function ta(){ni=!0,js=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;Dt=new Array(256),ei=new Array(256),Oe=new Array(4),Yt=new Array(4);for(var e=0;e<4;++e)Oe[e]=new Array(256),Yt[e]=new Array(256);for(var r=0,n=0,i,s,o,a,f,c,u,e=0;e<256;++e){a=n^n<<1^n<<2^n<<3^n<<4,a=a>>8^a&255^99,Dt[r]=a,ei[a]=r,f=t[a],i=t[r],s=t[i],o=t[s],c=f<<24^a<<16^a<<8^(a^f),u=(i^s^o)<<24^(r^o)<<16^(r^s^o)<<8^(r^i^o);for(var h=0;h<4;++h)Oe[h][r]=c,Yt[h][a]=u,c=c<<24|c>>>8,u=u<<24|u>>>8;r===0?r=n=1:(r=i^t[t[t[i^o]]],n^=t[t[n]])}}function ea(t,e){for(var r=t.slice(0),n,i=1,s=r.length,o=s+6+1,a=er*o,f=s;f<a;++f)n=r[f-1],f%s===0?(n=Dt[n>>>16&255]<<24^Dt[n>>>8&255]<<16^Dt[n&255]<<8^Dt[n>>>24]^js[i]<<24,i++):s>6&&f%s===4&&(n=Dt[n>>>24]<<24^Dt[n>>>16&255]<<16^Dt[n>>>8&255]<<8^Dt[n&255]),r[f]=r[f-s]^n;if(e){var c,u=Yt[0],h=Yt[1],d=Yt[2],x=Yt[3],l=r.slice(0);a=r.length;for(var f=0,p=a-er;f<a;f+=er,p-=er)if(f===0||f===a-er)l[f]=r[p],l[f+1]=r[p+3],l[f+2]=r[p+2],l[f+3]=r[p+1];else for(var y=0;y<er;++y)c=r[p+y],l[f+(3&-y)]=u[Dt[c>>>24]]^h[Dt[c>>>16&255]]^d[Dt[c>>>8&255]]^x[Dt[c&255]];r=l}return r}function ri(t,e,r,n){var i=t.length/4-1,s,o,a,f,c;n?(s=Yt[0],o=Yt[1],a=Yt[2],f=Yt[3],c=ei):(s=Oe[0],o=Oe[1],a=Oe[2],f=Oe[3],c=Dt);var u,h,d,x,l,p,y;u=e[0]^t[0],h=e[n?3:1]^t[1],d=e[2]^t[2],x=e[n?1:3]^t[3];for(var m=3,E=1;E<i;++E)l=s[u>>>24]^o[h>>>16&255]^a[d>>>8&255]^f[x&255]^t[++m],p=s[h>>>24]^o[d>>>16&255]^a[x>>>8&255]^f[u&255]^t[++m],y=s[d>>>24]^o[x>>>16&255]^a[u>>>8&255]^f[h&255]^t[++m],x=s[x>>>24]^o[u>>>16&255]^a[h>>>8&255]^f[d&255]^t[++m],u=l,h=p,d=y;r[0]=c[u>>>24]<<24^c[h>>>16&255]<<16^c[d>>>8&255]<<8^c[x&255]^t[++m],r[n?3:1]=c[h>>>24]<<24^c[d>>>16&255]<<16^c[x>>>8&255]<<8^c[u&255]^t[++m],r[2]=c[d>>>24]<<24^c[x>>>16&255]<<16^c[u>>>8&255]<<8^c[h&255]^t[++m],r[n?1:3]=c[x>>>24]<<24^c[u>>>16&255]<<16^c[h>>>8&255]<<8^c[d&255]^t[++m]}function fn(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,n;t.decrypt?n=ot.cipher.createDecipher(r,t.key):n=ot.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(s,o){var a=null;o instanceof ot.util.ByteBuffer&&(a=o,o={}),o=o||{},o.output=a,o.iv=s,i.call(n,o)},n}});var sa=ft((Vd,ia)=>{var ht=st();Jn();ti();vt();ia.exports=ht.des=ht.des||{};ht.des.startEncrypting=function(t,e,r,n){var i=cn({key:t,output:r,decrypt:!1,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};ht.des.createEncryptionCipher=function(t,e){return cn({key:t,output:null,decrypt:!1,mode:e})};ht.des.startDecrypting=function(t,e,r,n){var i=cn({key:t,output:r,decrypt:!0,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};ht.des.createDecryptionCipher=function(t,e){return cn({key:t,output:null,decrypt:!0,mode:e})};ht.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(n,i){return na(r._keys,n,i,!1)},decrypt:function(n,i){return na(r._keys,n,i,!0)}}}),r._init=!1};ht.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=ht.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=gf(e),this._init=!0}};jt("DES-ECB",ht.cipher.modes.ecb);jt("DES-CBC",ht.cipher.modes.cbc);jt("DES-CFB",ht.cipher.modes.cfb);jt("DES-OFB",ht.cipher.modes.ofb);jt("DES-CTR",ht.cipher.modes.ctr);jt("3DES-ECB",ht.cipher.modes.ecb);jt("3DES-CBC",ht.cipher.modes.cbc);jt("3DES-CFB",ht.cipher.modes.cfb);jt("3DES-OFB",ht.cipher.modes.ofb);jt("3DES-CTR",ht.cipher.modes.ctr);function jt(t,e){var r=function(){return new ht.des.Algorithm(t,e)};ht.cipher.registerAlgorithm(t,r)}var cf=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],uf=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],hf=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],lf=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],df=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],pf=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],yf=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],xf=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function gf(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],a=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],f=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],u=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],d=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],x=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],l=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],p=t.length()>8?3:1,y=[],m=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],E=0,b,R=0;R<p;R++){var w=t.getInt32(),B=t.getInt32();b=(w>>>4^B)&252645135,B^=b,w^=b<<4,b=(B>>>-16^w)&65535,w^=b,B^=b<<-16,b=(w>>>2^B)&858993459,B^=b,w^=b<<2,b=(B>>>-16^w)&65535,w^=b,B^=b<<-16,b=(w>>>1^B)&1431655765,B^=b,w^=b<<1,b=(B>>>8^w)&16711935,w^=b,B^=b<<8,b=(w>>>1^B)&1431655765,B^=b,w^=b<<1,b=w<<8|B>>>20&240,w=B<<24|B<<8&16711680|B>>>8&65280|B>>>24&240,B=b;for(var L=0;L<m.length;++L){m[L]?(w=w<<2|w>>>26,B=B<<2|B>>>26):(w=w<<1|w>>>27,B=B<<1|B>>>27),w&=-15,B&=-15;var N=e[w>>>28]|r[w>>>24&15]|n[w>>>20&15]|i[w>>>16&15]|s[w>>>12&15]|o[w>>>8&15]|a[w>>>4&15],H=f[B>>>28]|c[B>>>24&15]|u[B>>>20&15]|h[B>>>16&15]|d[B>>>12&15]|x[B>>>8&15]|l[B>>>4&15];b=(H>>>16^N)&65535,y[E++]=N^b,y[E++]=H^b<<16}}return y}function na(t,e,r,n){var i=t.length===32?3:9,s;i===3?s=n?[30,-2,-2]:[0,32,2]:s=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var o,a=e[0],f=e[1];o=(a>>>4^f)&252645135,f^=o,a^=o<<4,o=(a>>>16^f)&65535,f^=o,a^=o<<16,o=(f>>>2^a)&858993459,a^=o,f^=o<<2,o=(f>>>8^a)&16711935,a^=o,f^=o<<8,o=(a>>>1^f)&1431655765,f^=o,a^=o<<1,a=a<<1|a>>>31,f=f<<1|f>>>31;for(var c=0;c<i;c+=3){for(var u=s[c+1],h=s[c+2],d=s[c];d!=u;d+=h){var x=f^t[d],l=(f>>>4|f<<28)^t[d+1];o=a,a=f,f=o^(uf[x>>>24&63]|lf[x>>>16&63]|pf[x>>>8&63]|xf[x&63]|cf[l>>>24&63]|hf[l>>>16&63]|df[l>>>8&63]|yf[l&63])}o=a,a=f,f=o}a=a>>>1|a<<31,f=f>>>1|f<<31,o=(a>>>1^f)&1431655765,f^=o,a^=o<<1,o=(f>>>8^a)&16711935,a^=o,f^=o<<8,o=(f>>>2^a)&858993459,a^=o,f^=o<<2,o=(a>>>16^f)&65535,f^=o,a^=o<<16,o=(a>>>4^f)&252645135,f^=o,a^=o<<4,r[0]=a,r[1]=f}function cn(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,n;t.decrypt?n=ht.cipher.createDecipher(r,t.key):n=ht.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(s,o){var a=null;o instanceof ht.util.ByteBuffer&&(a=o,o={}),o=o||{},o.output=a,o.iv=s,i.call(n,o)},n}});var Me=ft((qd,aa)=>{var un=st();aa.exports=un.md=un.md||{};un.md.algorithms=un.md.algorithms||{}});var fa=ft((Fd,oa)=>{var ue=st();Me();vt();var mf=oa.exports=ue.hmac=ue.hmac||{};mf.create=function(){var t=null,e=null,r=null,n=null,i={};return i.start=function(s,o){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in ue.md.algorithms)e=ue.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else e=s;if(o===null)o=t;else{if(typeof o=="string")o=ue.util.createBuffer(o);else if(ue.util.isArray(o)){var a=o;o=ue.util.createBuffer();for(var f=0;f<a.length;++f)o.putByte(a[f])}var c=o.length();c>e.blockLength&&(e.start(),e.update(o.bytes()),o=e.digest()),r=ue.util.createBuffer(),n=ue.util.createBuffer(),c=o.length();for(var f=0;f<c;++f){var a=o.at(f);r.putByte(54^a),n.putByte(92^a)}if(c<e.blockLength)for(var a=e.blockLength-c,f=0;f<a;++f)r.putByte(54),n.putByte(92);t=o,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},i.update=function(s){e.update(s)},i.getMac=function(){var s=e.digest().bytes();return e.start(),e.update(n),e.update(s),e.digest()},i.digest=i.getMac,i}});var hn=ft(()=>{});var ua=ft((Gd,ca)=>{var kt=st();fa();Me();vt();var vf=kt.pkcs5=kt.pkcs5||{},he;kt.util.isNodejs&&!kt.options.usePureJavaScript&&(he=hn());ca.exports=kt.pbkdf2=vf.pbkdf2=function(t,e,r,n,i,s){if(typeof i=="function"&&(s=i,i=null),kt.util.isNodejs&&!kt.options.usePureJavaScript&&he.pbkdf2&&(i===null||typeof i!="object")&&(he.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),s?he.pbkdf2Sync.length===4?he.pbkdf2(t,e,r,n,function(b,R){if(b)return s(b);s(null,R.toString("binary"))}):he.pbkdf2(t,e,r,n,i,function(b,R){if(b)return s(b);s(null,R.toString("binary"))}):he.pbkdf2Sync.length===4?he.pbkdf2Sync(t,e,r,n).toString("binary"):he.pbkdf2Sync(t,e,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in kt.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=kt.md[i].create()}var o=i.digestLength;if(n>4294967295*o){var a=new Error("Derived key is too long.");if(s)return s(a);throw a}var f=Math.ceil(n/o),c=n-(f-1)*o,u=kt.hmac.create();u.start(i,t);var h="",d,x,l;if(!s){for(var p=1;p<=f;++p){u.start(null,null),u.update(e),u.update(kt.util.int32ToBytes(p)),d=l=u.digest().getBytes();for(var y=2;y<=r;++y)u.start(null,null),u.update(l),x=u.digest().getBytes(),d=kt.util.xorBytes(d,x,o),l=x;h+=p<f?d:d.substr(0,c)}return h}var p=1,y;function m(){if(p>f)return s(null,h);u.start(null,null),u.update(e),u.update(kt.util.int32ToBytes(p)),d=l=u.digest().getBytes(),y=2,E()}function E(){if(y<=r)return u.start(null,null),u.update(l),x=u.digest().getBytes(),d=kt.util.xorBytes(d,x,o),l=x,++y,kt.util.setImmediate(E);h+=p<f?d:d.substr(0,c),++p,m()}m()}});var da=ft((Wd,la)=>{var dn=st();vt();var ha=la.exports=dn.pem=dn.pem||{};ha.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,n;if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=ln(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},r+=ln(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),r+=ln(n)),t.headers)for(var i=0;i<t.headers.length;++i)r+=ln(t.headers[i]);return t.procType&&(r+=`\r
`),r+=dn.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};ha.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,s;s=r.exec(t),!!s;){var o=s[1];o==="NEW CERTIFICATE REQUEST"&&(o="CERTIFICATE REQUEST");var a={type:o,procType:null,contentDomain:null,dekInfo:null,headers:[],body:dn.util.decode64(s[3])};if(e.push(a),!!s[2]){for(var f=s[2].split(i),c=0;s&&c<f.length;){for(var u=f[c].replace(/\s+$/,""),h=c+1;h<f.length;++h){var d=f[h];if(!/\s/.test(d[0]))break;u+=d,c=h}if(s=u.match(n),s){for(var x={name:s[1],values:[]},l=s[2].split(","),p=0;p<l.length;++p)x.values.push(bf(l[p]));if(a.procType)if(!a.contentDomain&&x.name==="Content-Domain")a.contentDomain=l[0]||"";else if(!a.dekInfo&&x.name==="DEK-Info"){if(x.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');a.dekInfo={algorithm:l[0],parameters:l[1]||null}}else a.headers.push(x);else{if(x.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(x.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');a.procType={version:l[0],type:l[1]}}}++c}if(a.procType==="ENCRYPTED"&&!a.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function ln(t){for(var e=t.name+": ",r=[],n=function(f,c){return" "+c},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+`\r
`;for(var s=0,o=-1,i=0;i<e.length;++i,++s)if(s>65&&o!==-1){var a=e[o];a===","?(++o,e=e.substr(0,o)+`\r
 `+e.substr(o)):e=e.substr(0,o)+`\r
`+a+e.substr(o+1),s=i-o-1,o=-1,++i}else(e[i]===" "||e[i]==="	"||e[i]===",")&&(o=i);return e}function bf(t){return t.replace(/^\s+/,"")}});var va=ft((Yd,ma)=>{var te=st();Me();vt();var ya=ma.exports=te.sha256=te.sha256||{};te.md.sha256=te.md.algorithms.sha256=ya;ya.create=function(){xa||Ef();var t=null,e=te.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return e=te.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=te.util.encodeUtf8(i));var o=i.length;n.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var a=n.fullMessageLength.length-1;a>=0;--a)n.fullMessageLength[a]+=o[1],o[1]=o[0]+(n.fullMessageLength[a]/4294967296>>>0),n.fullMessageLength[a]=n.fullMessageLength[a]>>>0,o[0]=o[1]/4294967296>>>0;return e.putBytes(i),pa(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=te.util.createBuffer();i.putBytes(e.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,o=s&n.blockLength-1;i.putBytes(si.substr(0,n.blockLength-o));for(var a,f,c=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)a=n.fullMessageLength[u+1]*8,f=a/4294967296>>>0,c+=f,i.putInt32(c>>>0),c=a>>>0;i.putInt32(c);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};pa(h,r,i);var d=te.util.createBuffer();return d.putInt32(h.h0),d.putInt32(h.h1),d.putInt32(h.h2),d.putInt32(h.h3),d.putInt32(h.h4),d.putInt32(h.h5),d.putInt32(h.h6),d.putInt32(h.h7),d},n};var si=null,xa=!1,ga=null;function Ef(){si="\x80",si+=te.util.fillString("\0",64),ga=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],xa=!0}function pa(t,e,r){for(var n,i,s,o,a,f,c,u,h,d,x,l,p,y,m,E=r.length();E>=64;){for(c=0;c<16;++c)e[c]=r.getInt32();for(;c<64;++c)n=e[c-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=e[c-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[c]=n+e[c-7]+i+e[c-16]|0;for(u=t.h0,h=t.h1,d=t.h2,x=t.h3,l=t.h4,p=t.h5,y=t.h6,m=t.h7,c=0;c<64;++c)o=(l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7),a=y^l&(p^y),s=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),f=u&h|d&(u^h),n=m+o+a+ga[c]+e[c],i=s+f,m=y,y=p,p=l,l=x+n>>>0,x=d,d=h,h=u,u=n+i>>>0;t.h0=t.h0+u|0,t.h1=t.h1+h|0,t.h2=t.h2+d|0,t.h3=t.h3+x|0,t.h4=t.h4+l|0,t.h5=t.h5+p|0,t.h6=t.h6+y|0,t.h7=t.h7+m|0,E-=64}}});var Ea=ft((Zd,ba)=>{var ee=st();vt();var pn=null;ee.util.isNodejs&&!ee.options.usePureJavaScript&&!process.versions["node-webkit"]&&(pn=hn());var wf=ba.exports=ee.prng=ee.prng||{};wf.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();e.pools=n,e.pool=0,e.generate=function(c,u){if(!u)return e.generateSync(c);var h=e.plugin.cipher,d=e.plugin.increment,x=e.plugin.formatKey,l=e.plugin.formatSeed,p=ee.util.createBuffer();e.key=null,y();function y(m){if(m)return u(m);if(p.length()>=c)return u(null,p.getBytes(c));if(e.generated>1048575&&(e.key=null),e.key===null)return ee.util.nextTick(function(){s(y)});var E=h(e.key,e.seed);e.generated+=E.length,p.putBytes(E),e.key=x(h(e.key,d(e.seed))),e.seed=l(h(e.key,e.seed)),ee.util.setImmediate(y)}},e.generateSync=function(c){var u=e.plugin.cipher,h=e.plugin.increment,d=e.plugin.formatKey,x=e.plugin.formatSeed;e.key=null;for(var l=ee.util.createBuffer();l.length()<c;){e.generated>1048575&&(e.key=null),e.key===null&&o();var p=u(e.key,e.seed);e.generated+=p.length,l.putBytes(p),e.key=d(u(e.key,h(e.seed))),e.seed=x(u(e.key,e.seed))}return l.getBytes(c)};function s(c){if(e.pools[0].messageLength>=32)return a(),c();var u=32-e.pools[0].messageLength<<5;e.seedFile(u,function(h,d){if(h)return c(h);e.collect(d),a(),c()})}function o(){if(e.pools[0].messageLength>=32)return a();var c=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(c)),a()}function a(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var c=e.plugin.md.create();c.update(e.keyBytes);for(var u=1,h=0;h<32;++h)e.reseeds%u===0&&(c.update(e.pools[h].digest().getBytes()),e.pools[h].start()),u=u<<1;e.keyBytes=c.digest().getBytes(),c.start(),c.update(e.keyBytes);var d=c.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(d),e.generated=0}function f(c){var u=null,h=ee.util.globalScope,d=h.crypto||h.msCrypto;d&&d.getRandomValues&&(u=function(w){return d.getRandomValues(w)});var x=ee.util.createBuffer();if(u)for(;x.length()<c;){var l=Math.max(1,Math.min(c-x.length(),65536)/4),p=new Uint32Array(Math.floor(l));try{u(p);for(var y=0;y<p.length;++y)x.putInt32(p[y])}catch(w){if(!(typeof QuotaExceededError<"u"&&w instanceof QuotaExceededError))throw w}}if(x.length()<c)for(var m,E,b,R=Math.floor(Math.random()*65536);x.length()<c;){E=16807*(R&65535),m=16807*(R>>16),E+=(m&32767)<<16,E+=m>>15,E=(E&2147483647)+(E>>31),R=E&4294967295;for(var y=0;y<3;++y)b=R>>>(y<<3),b^=Math.floor(Math.random()*256),x.putByte(b&255)}return x.getBytes(c)}return pn?(e.seedFile=function(c,u){pn.randomBytes(c,function(h,d){if(h)return u(h);u(null,d.toString())})},e.seedFileSync=function(c){return pn.randomBytes(c).toString()}):(e.seedFile=function(c,u){try{u(null,f(c))}catch(h){u(h)}},e.seedFileSync=f),e.collect=function(c){for(var u=c.length,h=0;h<u;++h)e.pools[e.pool].update(c.substr(h,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(c,u){for(var h="",d=0;d<u;d+=8)h+=String.fromCharCode(c>>d&255);e.collect(h)},e.registerWorker=function(c){if(c===self)e.seedFile=function(h,d){function x(l){var p=l.data;p.forge&&p.forge.prng&&(self.removeEventListener("message",x),d(p.forge.prng.err,p.forge.prng.bytes))}self.addEventListener("message",x),self.postMessage({forge:{prng:{needed:h}}})};else{var u=function(h){var d=h.data;d.forge&&d.forge.prng&&e.seedFile(d.forge.prng.needed,function(x,l){c.postMessage({forge:{prng:{err:x,bytes:l}}})})};c.addEventListener("message",u)}},e}});var Dr=ft(($d,ai)=>{var Ct=st();ii();va();Ea();vt();(function(){if(Ct.random&&Ct.random.getBytes){ai.exports=Ct.random;return}(function(t){var e={},r=new Array(4),n=Ct.util.createBuffer();e.formatKey=function(h){var d=Ct.util.createBuffer(h);return h=new Array(4),h[0]=d.getInt32(),h[1]=d.getInt32(),h[2]=d.getInt32(),h[3]=d.getInt32(),Ct.aes._expandKey(h,!1)},e.formatSeed=function(h){var d=Ct.util.createBuffer(h);return h=new Array(4),h[0]=d.getInt32(),h[1]=d.getInt32(),h[2]=d.getInt32(),h[3]=d.getInt32(),h},e.cipher=function(h,d){return Ct.aes._updateBlock(h,d,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},e.increment=function(h){return++h[3],h},e.md=Ct.md.sha256;function i(){var h=Ct.prng.create(e);return h.getBytes=function(d,x){return h.generate(d,x)},h.getBytesSync=function(d){return h.generate(d)},h}var s=i(),o=null,a=Ct.util.globalScope,f=a.crypto||a.msCrypto;if(f&&f.getRandomValues&&(o=function(h){return f.getRandomValues(h)}),Ct.options.usePureJavaScript||!Ct.util.isNodejs&&!o){if(typeof window>"u"||window.document,s.collectInt(+new Date,32),typeof navigator<"u"){var c="";for(var u in navigator)try{typeof navigator[u]=="string"&&(c+=navigator[u])}catch{}s.collect(c),c=null}t&&(t().mousemove(function(h){s.collectInt(h.clientX,16),s.collectInt(h.clientY,16)}),t().keypress(function(h){s.collectInt(h.charCode,8)}))}if(!Ct.random)Ct.random=s;else for(var u in s)Ct.random[u]=s[u];Ct.random.createInstance=i,ai.exports=Ct.random})(typeof jQuery<"u"?jQuery:null)})()});var Aa=ft((Qd,Sa)=>{var Kt=st();vt();var oi=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],wa=[1,2,3,5],Bf=function(t,e){return t<<e&65535|(t&65535)>>16-e},Sf=function(t,e){return(t&65535)>>e|t<<16-e&65535};Sa.exports=Kt.rc2=Kt.rc2||{};Kt.rc2.expandKey=function(t,e){typeof t=="string"&&(t=Kt.util.createBuffer(t)),e=e||128;var r=t,n=t.length(),i=e,s=Math.ceil(i/8),o=255>>(i&7),a;for(a=n;a<128;a++)r.putByte(oi[r.at(a-1)+r.at(a-n)&255]);for(r.setAt(128-s,oi[r.at(128-s)&o]),a=127-s;a>=0;a--)r.setAt(a,oi[r.at(a+1)^r.at(a+s)]);return r};var Ba=function(t,e,r){var n=!1,i=null,s=null,o=null,a,f,c,u,h=[];for(t=Kt.rc2.expandKey(t,e),c=0;c<64;c++)h.push(t.getInt16Le());r?(a=function(l){for(c=0;c<4;c++)l[c]+=h[u]+(l[(c+3)%4]&l[(c+2)%4])+(~l[(c+3)%4]&l[(c+1)%4]),l[c]=Bf(l[c],wa[c]),u++},f=function(l){for(c=0;c<4;c++)l[c]+=h[l[(c+3)%4]&63]}):(a=function(l){for(c=3;c>=0;c--)l[c]=Sf(l[c],wa[c]),l[c]-=h[u]+(l[(c+3)%4]&l[(c+2)%4])+(~l[(c+3)%4]&l[(c+1)%4]),u--},f=function(l){for(c=3;c>=0;c--)l[c]-=h[l[(c+3)%4]&63]});var d=function(l){var p=[];for(c=0;c<4;c++){var y=i.getInt16Le();o!==null&&(r?y^=o.getInt16Le():o.putInt16Le(y)),p.push(y&65535)}u=r?0:63;for(var m=0;m<l.length;m++)for(var E=0;E<l[m][0];E++)l[m][1](p);for(c=0;c<4;c++)o!==null&&(r?o.putInt16Le(p[c]):p[c]^=o.getInt16Le()),s.putInt16Le(p[c])},x=null;return x={start:function(l,p){l&&typeof l=="string"&&(l=Kt.util.createBuffer(l)),n=!1,i=Kt.util.createBuffer(),s=p||new Kt.util.createBuffer,o=l,x.output=s},update:function(l){for(n||i.putBuffer(l);i.length()>=8;)d([[5,a],[1,f],[6,a],[1,f],[5,a]])},finish:function(l){var p=!0;if(r)if(l)p=l(8,i,!r);else{var y=i.length()===8?8:8-i.length();i.fillWithByte(y,y)}if(p&&(n=!0,x.update()),!r&&(p=i.length()===0,p))if(l)p=l(8,s,!r);else{var m=s.length(),E=s.at(m-1);E>m?p=!1:s.truncate(E)}return p}},x};Kt.rc2.startEncrypting=function(t,e,r){var n=Kt.rc2.createEncryptionCipher(t,128);return n.start(e,r),n};Kt.rc2.createEncryptionCipher=function(t,e){return Ba(t,e,!0)};Kt.rc2.startDecrypting=function(t,e,r){var n=Kt.rc2.createDecryptionCipher(t,128);return n.start(e,r),n};Kt.rc2.createDecryptionCipher=function(t,e){return Ba(t,e,!1)}});var gn=ft((Xd,Da)=>{var fi=st();Da.exports=fi.jsbn=fi.jsbn||{};var le,Af=0xdeadbeefcafe,Ca=(Af&16777215)==15715070;function C(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}fi.jsbn.BigInteger=C;function tt(){return new C(null)}function Cf(t,e,r,n,i,s){for(;--s>=0;){var o=e*this.data[t++]+r.data[n]+i;i=Math.floor(o/67108864),r.data[n++]=o&67108863}return i}function If(t,e,r,n,i,s){for(var o=e&32767,a=e>>15;--s>=0;){var f=this.data[t]&32767,c=this.data[t++]>>15,u=a*f+c*o;f=o*f+((u&32767)<<15)+r.data[n]+(i&1073741823),i=(f>>>30)+(u>>>15)+a*c+(i>>>30),r.data[n++]=f&1073741823}return i}function Ia(t,e,r,n,i,s){for(var o=e&16383,a=e>>14;--s>=0;){var f=this.data[t]&16383,c=this.data[t++]>>14,u=a*f+c*o;f=o*f+((u&16383)<<14)+r.data[n]+i,i=(f>>28)+(u>>14)+a*c,r.data[n++]=f&268435455}return i}typeof navigator>"u"?(C.prototype.am=Ia,le=28):Ca&&navigator.appName=="Microsoft Internet Explorer"?(C.prototype.am=If,le=30):Ca&&navigator.appName!="Netscape"?(C.prototype.am=Cf,le=26):(C.prototype.am=Ia,le=28);C.prototype.DB=le;C.prototype.DM=(1<<le)-1;C.prototype.DV=1<<le;var ci=52;C.prototype.FV=Math.pow(2,ci);C.prototype.F1=ci-le;C.prototype.F2=2*le-ci;var Tf="0123456789abcdefghijklmnopqrstuvwxyz",yn=new Array,nr,zt;nr=48;for(zt=0;zt<=9;++zt)yn[nr++]=zt;nr=97;for(zt=10;zt<36;++zt)yn[nr++]=zt;nr=65;for(zt=10;zt<36;++zt)yn[nr++]=zt;function Ta(t){return Tf.charAt(t)}function _a(t,e){var r=yn[t.charCodeAt(e)];return r??-1}function _f(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}function Rf(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function Ae(t){var e=tt();return e.fromInt(t),e}function Lf(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,i=!1,s=0;--n>=0;){var o=r==8?t[n]&255:_a(t,n);if(o<0){t.charAt(n)=="-"&&(i=!0);continue}i=!1,s==0?this.data[this.t++]=o:s+r>this.DB?(this.data[this.t-1]|=(o&(1<<this.DB-s)-1)<<s,this.data[this.t++]=o>>this.DB-s):this.data[this.t-1]|=o<<s,s+=r,s>=this.DB&&(s-=this.DB)}r==8&&t[0]&128&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&C.ZERO.subTo(this,this)}function Nf(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function Df(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,i=!1,s="",o=this.t,a=this.DB-o*this.DB%e;if(o-- >0)for(a<this.DB&&(n=this.data[o]>>a)>0&&(i=!0,s=Ta(n));o>=0;)a<e?(n=(this.data[o]&(1<<a)-1)<<e-a,n|=this.data[--o]>>(a+=this.DB-e)):(n=this.data[o]>>(a-=e)&r,a<=0&&(a+=this.DB,--o)),n>0&&(i=!0),i&&(s+=Ta(n));return i?s:"0"}function kf(){var t=tt();return C.ZERO.subTo(this,t),t}function Pf(){return this.s<0?this.negate():this}function Kf(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}function xn(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function Uf(){return this.t<=0?0:this.DB*(this.t-1)+xn(this.data[this.t-1]^this.s&this.DM)}function Of(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}function Mf(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}function Vf(t,e){var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,s=Math.floor(t/this.DB),o=this.s<<r&this.DM,a;for(a=this.t-1;a>=0;--a)e.data[a+s+1]=this.data[a]>>n|o,o=(this.data[a]&i)<<r;for(a=s-1;a>=0;--a)e.data[a]=0;e.data[s]=o,e.t=this.t+s+1,e.s=this.s,e.clamp()}function qf(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,i=this.DB-n,s=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var o=r+1;o<this.t;++o)e.data[o-r-1]|=(this.data[o]&s)<<i,e.data[o-r]=this.data[o]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&s)<<i),e.t=this.t-r,e.clamp()}function Ff(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()}function Hf(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&C.ZERO.subTo(e,e)}function zf(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}function Gf(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){e?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=tt());var s=tt(),o=this.s,a=t.s,f=this.DB-xn(n.data[n.t-1]);f>0?(n.lShiftTo(f,s),i.lShiftTo(f,r)):(n.copyTo(s),i.copyTo(r));var c=s.t,u=s.data[c-1];if(u!=0){var h=u*(1<<this.F1)+(c>1?s.data[c-2]>>this.F2:0),d=this.FV/h,x=(1<<this.F1)/h,l=1<<this.F2,p=r.t,y=p-c,m=e??tt();for(s.dlShiftTo(y,m),r.compareTo(m)>=0&&(r.data[r.t++]=1,r.subTo(m,r)),C.ONE.dlShiftTo(c,m),m.subTo(s,s);s.t<c;)s.data[s.t++]=0;for(;--y>=0;){var E=r.data[--p]==u?this.DM:Math.floor(r.data[p]*d+(r.data[p-1]+l)*x);if((r.data[p]+=s.am(0,E,r,y,0,c))<E)for(s.dlShiftTo(y,m),r.subTo(m,r);r.data[p]<--E;)r.subTo(m,r)}e!=null&&(r.drShiftTo(c,e),o!=a&&C.ZERO.subTo(e,e)),r.t=c,r.clamp(),f>0&&r.rShiftTo(f,r),o<0&&C.ZERO.subTo(r,r)}}}function Wf(t){var e=tt();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(C.ZERO)>0&&t.subTo(e,e),e}function Ve(t){this.m=t}function Yf(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function Zf(t){return t}function $f(t){t.divRemTo(this.m,null,t)}function Qf(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function Xf(t,e){t.squareTo(e),this.reduce(e)}Ve.prototype.convert=Yf;Ve.prototype.revert=Zf;Ve.prototype.reduce=$f;Ve.prototype.mulTo=Qf;Ve.prototype.sqrTo=Xf;function Jf(){if(this.t<1)return 0;var t=this.data[0];if(!(t&1))return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function qe(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function jf(t){var e=tt();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(C.ZERO)>0&&this.m.subTo(e,e),e}function tc(t){var e=tt();return t.copyTo(e),this.reduce(e),e}function ec(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function rc(t,e){t.squareTo(e),this.reduce(e)}function nc(t,e,r){t.multiplyTo(e,r),this.reduce(r)}qe.prototype.convert=jf;qe.prototype.revert=tc;qe.prototype.reduce=ec;qe.prototype.mulTo=nc;qe.prototype.sqrTo=rc;function ic(){return(this.t>0?this.data[0]&1:this.s)==0}function sc(t,e){if(t>4294967295||t<1)return C.ONE;var r=tt(),n=tt(),i=e.convert(this),s=xn(t)-1;for(i.copyTo(r);--s>=0;)if(e.sqrTo(r,n),(t&1<<s)>0)e.mulTo(n,i,r);else{var o=r;r=n,n=o}return e.revert(r)}function ac(t,e){var r;return t<256||e.isEven()?r=new Ve(e):r=new qe(e),this.exp(t,r)}C.prototype.copyTo=_f;C.prototype.fromInt=Rf;C.prototype.fromString=Lf;C.prototype.clamp=Nf;C.prototype.dlShiftTo=Of;C.prototype.drShiftTo=Mf;C.prototype.lShiftTo=Vf;C.prototype.rShiftTo=qf;C.prototype.subTo=Ff;C.prototype.multiplyTo=Hf;C.prototype.squareTo=zf;C.prototype.divRemTo=Gf;C.prototype.invDigit=Jf;C.prototype.isEven=ic;C.prototype.exp=sc;C.prototype.toString=Df;C.prototype.negate=kf;C.prototype.abs=Pf;C.prototype.compareTo=Kf;C.prototype.bitLength=Uf;C.prototype.mod=Wf;C.prototype.modPowInt=ac;C.ZERO=Ae(0);C.ONE=Ae(1);function oc(){var t=tt();return this.copyTo(t),t}function fc(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function cc(){return this.t==0?this.s:this.data[0]<<24>>24}function uc(){return this.t==0?this.s:this.data[0]<<16>>16}function hc(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function lc(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function dc(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=Ae(r),i=tt(),s=tt(),o="";for(this.divRemTo(n,i,s);i.signum()>0;)o=(r+s.intValue()).toString(t).substr(1)+o,i.divRemTo(n,i,s);return s.intValue().toString(t)+o}function pc(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,s=0,o=0,a=0;a<t.length;++a){var f=_a(t,a);if(f<0){t.charAt(a)=="-"&&this.signum()==0&&(i=!0);continue}o=e*o+f,++s>=r&&(this.dMultiply(n),this.dAddOffset(o,0),s=0,o=0)}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(o,0)),i&&C.ZERO.subTo(this,this)}function yc(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(C.ONE.shiftLeft(t-1),ui,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(C.ONE.shiftLeft(t-1),this);else{var n=new Array,i=t&7;n.length=(t>>3)+1,e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function xc(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,i=0;if(t-- >0)for(r<this.DB&&(n=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this.data[t]&(1<<r)-1)<<8-r,n|=this.data[--t]>>(r+=this.DB-8)):(n=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),n&128&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function gc(t){return this.compareTo(t)==0}function mc(t){return this.compareTo(t)<0?this:t}function vc(t){return this.compareTo(t)>0?this:t}function bc(t,e,r){var n,i,s=Math.min(t.t,this.t);for(n=0;n<s;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=s;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function Ec(t,e){return t&e}function wc(t){var e=tt();return this.bitwiseTo(t,Ec,e),e}function ui(t,e){return t|e}function Bc(t){var e=tt();return this.bitwiseTo(t,ui,e),e}function Ra(t,e){return t^e}function Sc(t){var e=tt();return this.bitwiseTo(t,Ra,e),e}function La(t,e){return t&~e}function Ac(t){var e=tt();return this.bitwiseTo(t,La,e),e}function Cc(){for(var t=tt(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}function Ic(t){var e=tt();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function Tc(t){var e=tt();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function _c(t){if(t==0)return-1;var e=0;return t&65535||(t>>=16,e+=16),t&255||(t>>=8,e+=8),t&15||(t>>=4,e+=4),t&3||(t>>=2,e+=2),t&1||++e,e}function Rc(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+_c(this.data[t]);return this.s<0?this.t*this.DB:-1}function Lc(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function Nc(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=Lc(this.data[r]^e);return t}function Dc(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}function kc(t,e){var r=C.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function Pc(t){return this.changeBit(t,ui)}function Kc(t){return this.changeBit(t,La)}function Uc(t){return this.changeBit(t,Ra)}function Oc(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()}function Mc(t){var e=tt();return this.addTo(t,e),e}function Vc(t){var e=tt();return this.subTo(t,e),e}function qc(t){var e=tt();return this.multiplyTo(t,e),e}function Fc(t){var e=tt();return this.divRemTo(t,e,null),e}function Hc(t){var e=tt();return this.divRemTo(t,null,e),e}function zc(t){var e=tt(),r=tt();return this.divRemTo(t,e,r),new Array(e,r)}function Gc(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Wc(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function kr(){}function Na(t){return t}function Yc(t,e,r){t.multiplyTo(e,r)}function Zc(t,e){t.squareTo(e)}kr.prototype.convert=Na;kr.prototype.revert=Na;kr.prototype.mulTo=Yc;kr.prototype.sqrTo=Zc;function $c(t){return this.exp(t,new kr)}function Qc(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()}function Xc(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function ir(t){this.r2=tt(),this.q3=tt(),C.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function Jc(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=tt();return t.copyTo(e),this.reduce(e),e}function jc(t){return t}function tu(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function eu(t,e){t.squareTo(e),this.reduce(e)}function ru(t,e,r){t.multiplyTo(e,r),this.reduce(r)}ir.prototype.convert=Jc;ir.prototype.revert=jc;ir.prototype.reduce=tu;ir.prototype.mulTo=ru;ir.prototype.sqrTo=eu;function nu(t,e){var r=t.bitLength(),n,i=Ae(1),s;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new Ve(e):e.isEven()?s=new ir(e):s=new qe(e);var o=new Array,a=3,f=n-1,c=(1<<n)-1;if(o[1]=s.convert(this),n>1){var u=tt();for(s.sqrTo(o[1],u);a<=c;)o[a]=tt(),s.mulTo(u,o[a-2],o[a]),a+=2}var h=t.t-1,d,x=!0,l=tt(),p;for(r=xn(t.data[h])-1;h>=0;){for(r>=f?d=t.data[h]>>r-f&c:(d=(t.data[h]&(1<<r+1)-1)<<f-r,h>0&&(d|=t.data[h-1]>>this.DB+r-f)),a=n;!(d&1);)d>>=1,--a;if((r-=a)<0&&(r+=this.DB,--h),x)o[d].copyTo(i),x=!1;else{for(;a>1;)s.sqrTo(i,l),s.sqrTo(l,i),a-=2;a>0?s.sqrTo(i,l):(p=i,i=l,l=p),s.mulTo(l,o[d],i)}for(;h>=0&&!(t.data[h]&1<<r);)s.sqrTo(i,l),p=i,i=l,l=p,--r<0&&(r=this.DB-1,--h)}return s.revert(i)}function iu(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return e;for(i<s&&(s=i),s>0&&(e.rShiftTo(s,e),r.rShiftTo(s,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}function su(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r}function au(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return C.ZERO;for(var r=t.clone(),n=this.clone(),i=Ae(1),s=Ae(0),o=Ae(0),a=Ae(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(t,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),e?((!o.isEven()||!a.isEven())&&(o.addTo(this,o),a.subTo(t,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(o,i),s.subTo(a,s)):(n.subTo(r,n),e&&o.subTo(i,o),a.subTo(s,a))}if(n.compareTo(C.ONE)!=0)return C.ZERO;if(a.compareTo(t)>=0)return a.subtract(t);if(a.signum()<0)a.addTo(t,a);else return a;return a.signum()<0?a.add(t):a}var Zt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],ou=(1<<26)/Zt[Zt.length-1];function fu(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=Zt[Zt.length-1]){for(e=0;e<Zt.length;++e)if(r.data[0]==Zt[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<Zt.length;){for(var n=Zt[e],i=e+1;i<Zt.length&&n<ou;)n*=Zt[i++];for(n=r.modInt(n);e<i;)if(n%Zt[e++]==0)return!1}return r.millerRabin(t)}function cu(t){var e=this.subtract(C.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n=e.shiftRight(r),i=uu(),s,o=0;o<t;++o){do s=new C(this.bitLength(),i);while(s.compareTo(C.ONE)<=0||s.compareTo(e)>=0);var a=s.modPow(n,this);if(a.compareTo(C.ONE)!=0&&a.compareTo(e)!=0){for(var f=1;f++<r&&a.compareTo(e)!=0;)if(a=a.modPowInt(2,this),a.compareTo(C.ONE)==0)return!1;if(a.compareTo(e)!=0)return!1}}return!0}function uu(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)}}}C.prototype.chunkSize=hc;C.prototype.toRadix=dc;C.prototype.fromRadix=pc;C.prototype.fromNumber=yc;C.prototype.bitwiseTo=bc;C.prototype.changeBit=kc;C.prototype.addTo=Oc;C.prototype.dMultiply=Gc;C.prototype.dAddOffset=Wc;C.prototype.multiplyLowerTo=Qc;C.prototype.multiplyUpperTo=Xc;C.prototype.modInt=su;C.prototype.millerRabin=cu;C.prototype.clone=oc;C.prototype.intValue=fc;C.prototype.byteValue=cc;C.prototype.shortValue=uc;C.prototype.signum=lc;C.prototype.toByteArray=xc;C.prototype.equals=gc;C.prototype.min=mc;C.prototype.max=vc;C.prototype.and=wc;C.prototype.or=Bc;C.prototype.xor=Sc;C.prototype.andNot=Ac;C.prototype.not=Cc;C.prototype.shiftLeft=Ic;C.prototype.shiftRight=Tc;C.prototype.getLowestSetBit=Rc;C.prototype.bitCount=Nc;C.prototype.testBit=Dc;C.prototype.setBit=Pc;C.prototype.clearBit=Kc;C.prototype.flipBit=Uc;C.prototype.add=Mc;C.prototype.subtract=Vc;C.prototype.multiply=qc;C.prototype.divide=Fc;C.prototype.remainder=Hc;C.prototype.divideAndRemainder=zc;C.prototype.modPow=nu;C.prototype.modInverse=au;C.prototype.pow=$c;C.prototype.gcd=iu;C.prototype.isProbablePrime=fu});var Oa=ft((Jd,Ua)=>{var re=st();Me();vt();var Pa=Ua.exports=re.sha1=re.sha1||{};re.md.sha1=re.md.algorithms.sha1=Pa;Pa.create=function(){Ka||hu();var t=null,e=re.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return e=re.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=re.util.encodeUtf8(i));var o=i.length;n.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var a=n.fullMessageLength.length-1;a>=0;--a)n.fullMessageLength[a]+=o[1],o[1]=o[0]+(n.fullMessageLength[a]/4294967296>>>0),n.fullMessageLength[a]=n.fullMessageLength[a]>>>0,o[0]=o[1]/4294967296>>>0;return e.putBytes(i),ka(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=re.util.createBuffer();i.putBytes(e.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,o=s&n.blockLength-1;i.putBytes(hi.substr(0,n.blockLength-o));for(var a,f,c=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)a=n.fullMessageLength[u+1]*8,f=a/4294967296>>>0,c+=f,i.putInt32(c>>>0),c=a>>>0;i.putInt32(c);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};ka(h,r,i);var d=re.util.createBuffer();return d.putInt32(h.h0),d.putInt32(h.h1),d.putInt32(h.h2),d.putInt32(h.h3),d.putInt32(h.h4),d},n};var hi=null,Ka=!1;function hu(){hi="\x80",hi+=re.util.fillString("\0",64),Ka=!0}function ka(t,e,r){for(var n,i,s,o,a,f,c,u,h=r.length();h>=64;){for(i=t.h0,s=t.h1,o=t.h2,a=t.h3,f=t.h4,u=0;u<16;++u)n=r.getInt32(),e[u]=n,c=a^s&(o^a),n=(i<<5|i>>>27)+c+f+1518500249+n,f=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<20;++u)n=e[u-3]^e[u-8]^e[u-14]^e[u-16],n=n<<1|n>>>31,e[u]=n,c=a^s&(o^a),n=(i<<5|i>>>27)+c+f+1518500249+n,f=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<32;++u)n=e[u-3]^e[u-8]^e[u-14]^e[u-16],n=n<<1|n>>>31,e[u]=n,c=s^o^a,n=(i<<5|i>>>27)+c+f+1859775393+n,f=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<40;++u)n=e[u-6]^e[u-16]^e[u-28]^e[u-32],n=n<<2|n>>>30,e[u]=n,c=s^o^a,n=(i<<5|i>>>27)+c+f+1859775393+n,f=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<60;++u)n=e[u-6]^e[u-16]^e[u-28]^e[u-32],n=n<<2|n>>>30,e[u]=n,c=s&o|a&(s^o),n=(i<<5|i>>>27)+c+f+2400959708+n,f=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<80;++u)n=e[u-6]^e[u-16]^e[u-28]^e[u-32],n=n<<2|n>>>30,e[u]=n,c=s^o^a,n=(i<<5|i>>>27)+c+f+3395469782+n,f=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+s|0,t.h2=t.h2+o|0,t.h3=t.h3+a|0,t.h4=t.h4+f|0,h-=64}}});var qa=ft((jd,Va)=>{var ne=st();vt();Dr();Oa();var Ma=Va.exports=ne.pkcs1=ne.pkcs1||{};Ma.encode_rsa_oaep=function(t,e,r){var n,i,s,o;typeof r=="string"?(n=r,i=arguments[3]||void 0,s=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md)),s?s.start():s=ne.md.sha1.create(),o||(o=s);var a=Math.ceil(t.n.bitLength()/8),f=a-2*s.digestLength-2;if(e.length>f){var c=new Error("RSAES-OAEP input message length is too long.");throw c.length=e.length,c.maxLength=f,c}n||(n=""),s.update(n,"raw");for(var u=s.digest(),h="",d=f-e.length,x=0;x<d;x++)h+="\0";var l=u.getBytes()+h+""+e;if(!i)i=ne.random.getBytes(s.digestLength);else if(i.length!==s.digestLength){var c=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw c.seedLength=i.length,c.digestLength=s.digestLength,c}var p=mn(i,a-s.digestLength-1,o),y=ne.util.xorBytes(l,p,l.length),m=mn(y,s.digestLength,o),E=ne.util.xorBytes(i,m,i.length);return"\0"+E+y};Ma.decode_rsa_oaep=function(t,e,r){var n,i,s;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var o=Math.ceil(t.n.bitLength()/8);if(e.length!==o){var y=new Error("RSAES-OAEP encoded message length is invalid.");throw y.length=e.length,y.expectedLength=o,y}if(i===void 0?i=ne.md.sha1.create():i.start(),s||(s=i),o<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var a=i.digest().getBytes(),f=e.charAt(0),c=e.substring(1,i.digestLength+1),u=e.substring(1+i.digestLength),h=mn(u,i.digestLength,s),d=ne.util.xorBytes(c,h,c.length),x=mn(d,o-i.digestLength-1,s),l=ne.util.xorBytes(u,x,u.length),p=l.substring(0,i.digestLength),y=f!=="\0",m=0;m<i.digestLength;++m)y|=a.charAt(m)!==p.charAt(m);for(var E=1,b=i.digestLength,R=i.digestLength;R<l.length;R++){var w=l.charCodeAt(R),B=w&1^1,L=E?65534:0;y|=w&L,E=E&B,b+=E}if(y||l.charCodeAt(b)!==1)throw new Error("Invalid RSAES-OAEP padding.");return l.substring(b+1)};function mn(t,e,r){r||(r=ne.md.sha1.create());for(var n="",i=Math.ceil(e/r.digestLength),s=0;s<i;++s){var o=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);r.start(),r.update(t+o),n+=r.digest().getBytes()}return n.substring(0,e)}});var Fa=ft((tp,li)=>{var Ce=st();vt();gn();Dr();(function(){if(Ce.prime){li.exports=Ce.prime;return}var t=li.exports=Ce.prime=Ce.prime||{},e=Ce.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new e(null);n.fromInt(30);var i=function(h,d){return h|d};t.generateProbablePrime=function(h,d,x){typeof d=="function"&&(x=d,d={}),d=d||{};var l=d.algorithm||"PRIMEINC";typeof l=="string"&&(l={name:l}),l.options=l.options||{};var p=d.prng||Ce.random,y={nextBytes:function(m){for(var E=p.getBytesSync(m.length),b=0;b<m.length;++b)m[b]=E.charCodeAt(b)}};if(l.name==="PRIMEINC")return s(h,y,l.options,x);throw new Error("Invalid prime generation algorithm: "+l.name)};function s(h,d,x,l){return"workers"in x?f(h,d,x,l):o(h,d,x,l)}function o(h,d,x,l){var p=c(h,d),y=0,m=u(p.bitLength());"millerRabinTests"in x&&(m=x.millerRabinTests);var E=10;"maxBlockTime"in x&&(E=x.maxBlockTime),a(p,h,d,y,m,E,l)}function a(h,d,x,l,p,y,m){var E=+new Date;do{if(h.bitLength()>d&&(h=c(d,x)),h.isProbablePrime(p))return m(null,h);h.dAddOffset(r[l++%8],0)}while(y<0||+new Date-E<y);Ce.util.setImmediate(function(){a(h,d,x,l,p,y,m)})}function f(h,d,x,l){if(typeof Worker>"u")return o(h,d,x,l);var p=c(h,d),y=x.workers,m=x.workLoad||100,E=m*30/8,b=x.workerScript||"forge/prime.worker.js";if(y===-1)return Ce.util.estimateCores(function(w,B){w&&(B=2),y=B-1,R()});R();function R(){y=Math.max(1,y);for(var w=[],B=0;B<y;++B)w[B]=new Worker(b);for(var L=y,B=0;B<y;++B)w[B].addEventListener("message",H);var N=!1;function H(F){if(!N){--L;var V=F.data;if(V.found){for(var $=0;$<w.length;++$)w[$].terminate();return N=!0,l(null,new e(V.prime,16))}p.bitLength()>h&&(p=c(h,d));var it=p.toString(16);F.target.postMessage({hex:it,workLoad:m}),p.dAddOffset(E,0)}}}}function c(h,d){var x=new e(h,d),l=h-1;return x.testBit(l)||x.bitwiseTo(e.ONE.shiftLeft(l),i,x),x.dAddOffset(31-x.mod(n).byteValue(),0),x}function u(h){return h<=100?27:h<=150?18:h<=200?15:h<=250?12:h<=300?9:h<=350?8:h<=400?7:h<=500?6:h<=600?5:h<=800?4:h<=1250?3:2}})()});var bn=ft((ep,$a)=>{var M=st();Nr();gn();nn();qa();Fa();Dr();vt();typeof J>"u"&&(J=M.jsbn.BigInteger);var J,di=M.util.isNodejs?hn():null,v=M.asn1,Gt=M.util;M.pki=M.pki||{};$a.exports=M.pki.rsa=M.rsa=M.rsa||{};var z=M.pki,lu=[6,4,2,4,2,4,6,2],du={name:"PrivateKeyInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},pu={name:"RSAPrivateKey",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},yu={name:"RSAPublicKey",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},xu=M.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:v.Class.UNIVERSAL,type:v.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},gu={name:"DigestInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:v.Class.UNIVERSAL,type:v.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:v.Class.UNIVERSAL,type:v.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},mu=function(t){var e;if(t.algorithm in z.oids)e=z.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var n=v.oidToDer(e).getBytes(),i=v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[]),s=v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[]);s.value.push(v.create(v.Class.UNIVERSAL,v.Type.OID,!1,n)),s.value.push(v.create(v.Class.UNIVERSAL,v.Type.NULL,!1,""));var o=v.create(v.Class.UNIVERSAL,v.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(s),i.value.push(o),v.toDer(i).getBytes()},Ya=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(J.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(J.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new J(M.util.bytesToHex(M.random.getBytes(e.n.bitLength()/8)),16);while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(J.ONE));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var i=t.mod(e.p).modPow(e.dP,e.p),s=t.mod(e.q).modPow(e.dQ,e.q);i.compareTo(s)<0;)i=i.add(e.p);var o=i.subtract(s).multiply(e.qInv).mod(e.p).multiply(e.q).add(s);return o=o.multiply(n.modInverse(e.n)).mod(e.n),o};z.rsa.encrypt=function(t,e,r){var n=r,i,s=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=Za(t,e,r)):(i=M.util.createBuffer(),i.putBytes(t));for(var o=new J(i.toHex(),16),a=Ya(o,e,n),f=a.toString(16),c=M.util.createBuffer(),u=s-Math.ceil(f.length/2);u>0;)c.putByte(0),--u;return c.putBytes(M.util.hexToBytes(f)),c.getBytes()};z.rsa.decrypt=function(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8);if(t.length!==i){var s=new Error("Encrypted message length is invalid.");throw s.length=t.length,s.expected=i,s}var o=new J(M.util.createBuffer(t).toHex(),16);if(o.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var a=Ya(o,e,r),f=a.toString(16),c=M.util.createBuffer(),u=i-Math.ceil(f.length/2);u>0;)c.putByte(0),--u;return c.putBytes(M.util.hexToBytes(f)),n!==!1?vn(c.getBytes(),e,r):c.getBytes()};z.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n=r.prng||M.random,i={nextBytes:function(a){for(var f=n.getBytesSync(a.length),c=0;c<a.length;++c)a[c]=f.charCodeAt(c)}},s=r.algorithm||"PRIMEINC",o;if(s==="PRIMEINC")o={algorithm:s,state:0,bits:t,rng:i,eInt:e||65537,e:new J(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},o.e.fromInt(o.eInt);else throw new Error("Invalid key generation algorithm: "+s);return o};z.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new J(null);r.fromInt(30);for(var n=0,i=function(h,d){return h|d},s=+new Date,o,a=0;t.keys===null&&(e<=0||a<e);){if(t.state===0){var f=t.p===null?t.pBits:t.qBits,c=f-1;t.pqState===0?(t.num=new J(f,t.rng),t.num.testBit(c)||t.num.bitwiseTo(J.ONE.shiftLeft(c),i,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),n=0,++t.pqState):t.pqState===1?t.num.bitLength()>f?t.pqState=0:t.num.isProbablePrime(bu(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(lu[n++%8],0):t.pqState===2?t.pqState=t.num.subtract(J.ONE).gcd(t.e).compareTo(J.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(J.ONE),t.q1=t.q.subtract(J.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(J.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var u=t.e.modInverse(t.phi);t.keys={privateKey:z.rsa.setPrivateKey(t.n,t.e,u,t.p,t.q,u.mod(t.p1),u.mod(t.q1),t.q.modInverse(t.p)),publicKey:z.rsa.setPublicKey(t.n,t.e)}}o=+new Date,a+=o-s,s=o}return t.keys!==null};z.rsa.generateKeyPair=function(t,e,r,n){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(n=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(n=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!M.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(n){if(Ha("generateKeyPair"))return di.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(a,f,c){if(a)return n(a);n(null,{privateKey:z.privateKeyFromPem(c),publicKey:z.publicKeyFromPem(f)})});if(za("generateKey")&&za("exportKey"))return Gt.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:Wa(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(a){return Gt.globalScope.crypto.subtle.exportKey("pkcs8",a.privateKey)}).then(void 0,function(a){n(a)}).then(function(a){if(a){var f=z.privateKeyFromAsn1(v.fromDer(M.util.createBuffer(a)));n(null,{privateKey:f,publicKey:z.setRsaPublicKey(f.n,f.e)})}});if(Ga("generateKey")&&Ga("exportKey")){var i=Gt.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:Wa(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(a){var f=a.target.result,c=Gt.globalScope.msCrypto.subtle.exportKey("pkcs8",f.privateKey);c.oncomplete=function(u){var h=u.target.result,d=z.privateKeyFromAsn1(v.fromDer(M.util.createBuffer(h)));n(null,{privateKey:d,publicKey:z.setRsaPublicKey(d.n,d.e)})},c.onerror=function(u){n(u)}},i.onerror=function(a){n(a)};return}}else if(Ha("generateKeyPairSync")){var s=di.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:z.privateKeyFromPem(s.privateKey),publicKey:z.publicKeyFromPem(s.publicKey)}}}var o=z.rsa.createKeyPairGenerationState(t,e,r);if(!n)return z.rsa.stepKeyPairGenerationState(o,0),o.keys;vu(o,r,n)};z.setRsaPublicKey=z.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(n,i,s){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(a,f,c){return Za(a,f,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(a,f){return M.pkcs1.encode_rsa_oaep(f,a,s)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(a){return a}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var o=i.encode(n,r,!0);return z.rsa.encrypt(o,r,!0)},r.verify=function(n,i,s,o){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),o===void 0&&(o={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in o||(o._parseAllDigestBytes=!0),s==="RSASSA-PKCS1-V1_5"?s={verify:function(f,c){c=vn(c,r,!0);var u=v.fromDer(c,{parseAllBytes:o._parseAllDigestBytes}),h={},d=[];if(!v.validate(u,gu,h,d)){var x=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw x.errors=d,x}var l=v.derToOid(h.algorithmIdentifier);if(!(l===M.oids.md2||l===M.oids.md5||l===M.oids.sha1||l===M.oids.sha224||l===M.oids.sha256||l===M.oids.sha384||l===M.oids.sha512||l===M.oids["sha512-224"]||l===M.oids["sha512-256"])){var x=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw x.oid=l,x}if((l===M.oids.md2||l===M.oids.md5)&&!("parameters"in h))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return f===h.digest}}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:function(f,c){return c=vn(c,r,!0),f===c}});var a=z.rsa.decrypt(i,r,!0,!1);return s.verify(n,a,r.n.bitLength())},r};z.setRsaPrivateKey=z.rsa.setPrivateKey=function(t,e,r,n,i,s,o,a){var f={n:t,e,d:r,p:n,q:i,dP:s,dQ:o,qInv:a};return f.decrypt=function(c,u,h){typeof u=="string"?u=u.toUpperCase():u===void 0&&(u="RSAES-PKCS1-V1_5");var d=z.rsa.decrypt(c,f,!1,!1);if(u==="RSAES-PKCS1-V1_5")u={decode:vn};else if(u==="RSA-OAEP"||u==="RSAES-OAEP")u={decode:function(x,l){return M.pkcs1.decode_rsa_oaep(l,x,h)}};else if(["RAW","NONE","NULL",null].indexOf(u)!==-1)u={decode:function(x){return x}};else throw new Error('Unsupported encryption scheme: "'+u+'".');return u.decode(d,f,!1)},f.sign=function(c,u){var h=!1;typeof u=="string"&&(u=u.toUpperCase()),u===void 0||u==="RSASSA-PKCS1-V1_5"?(u={encode:mu},h=1):(u==="NONE"||u==="NULL"||u===null)&&(u={encode:function(){return c}},h=1);var d=u.encode(c,f.n.bitLength());return z.rsa.encrypt(d,f,h)},f};z.wrapRsaPrivateKey=function(t){return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,v.integerToDer(0).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(z.oids.rsaEncryption).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.NULL,!1,"")]),v.create(v.Class.UNIVERSAL,v.Type.OCTETSTRING,!1,v.toDer(t).getBytes())])};z.privateKeyFromAsn1=function(t){var e={},r=[];if(v.validate(t,du,e,r)&&(t=v.fromDer(M.util.createBuffer(e.privateKey))),e={},r=[],!v.validate(t,pu,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,s,o,a,f,c,u,h;return i=M.util.createBuffer(e.privateKeyModulus).toHex(),s=M.util.createBuffer(e.privateKeyPublicExponent).toHex(),o=M.util.createBuffer(e.privateKeyPrivateExponent).toHex(),a=M.util.createBuffer(e.privateKeyPrime1).toHex(),f=M.util.createBuffer(e.privateKeyPrime2).toHex(),c=M.util.createBuffer(e.privateKeyExponent1).toHex(),u=M.util.createBuffer(e.privateKeyExponent2).toHex(),h=M.util.createBuffer(e.privateKeyCoefficient).toHex(),z.setRsaPrivateKey(new J(i,16),new J(s,16),new J(o,16),new J(a,16),new J(f,16),new J(c,16),new J(u,16),new J(h,16))};z.privateKeyToAsn1=z.privateKeyToRSAPrivateKey=function(t){return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,v.integerToDer(0).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,ie(t.n)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,ie(t.e)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,ie(t.d)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,ie(t.p)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,ie(t.q)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,ie(t.dP)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,ie(t.dQ)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,ie(t.qInv))])};z.publicKeyFromAsn1=function(t){var e={},r=[];if(v.validate(t,xu,e,r)){var n=v.derToOid(e.publicKeyOid);if(n!==z.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}t=e.rsaPublicKey}if(r=[],!v.validate(t,yu,e,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var s=M.util.createBuffer(e.publicKeyModulus).toHex(),o=M.util.createBuffer(e.publicKeyExponent).toHex();return z.setRsaPublicKey(new J(s,16),new J(o,16))};z.publicKeyToAsn1=z.publicKeyToSubjectPublicKeyInfo=function(t){return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(z.oids.rsaEncryption).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.NULL,!1,"")]),v.create(v.Class.UNIVERSAL,v.Type.BITSTRING,!1,[z.publicKeyToRSAPublicKey(t)])])};z.publicKeyToRSAPublicKey=function(t){return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,ie(t.n)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,ie(t.e))])};function Za(t,e,r){var n=M.util.createBuffer(),i=Math.ceil(e.n.bitLength()/8);if(t.length>i-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=t.length,s.max=i-11,s}n.putByte(0),n.putByte(r);var o=i-3-t.length,a;if(r===0||r===1){a=r===0?0:255;for(var f=0;f<o;++f)n.putByte(a)}else for(;o>0;){for(var c=0,u=M.random.getBytes(o),f=0;f<o;++f)a=u.charCodeAt(f),a===0?++c:n.putByte(a);o=c}return n.putByte(0),n.putBytes(t),n}function vn(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8),s=M.util.createBuffer(t),o=s.getByte(),a=s.getByte();if(o!==0||r&&a!==0&&a!==1||!r&&a!=2||r&&a===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var f=0;if(a===0){f=i-3-n;for(var c=0;c<f;++c)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(a===1)for(f=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++f}else if(a===2)for(f=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++f}var u=s.getByte();if(u!==0||f!==i-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}function vu(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng),i();function i(){s(t.pBits,function(a,f){if(a)return r(a);if(t.p=f,t.q!==null)return o(a,t.q);s(t.qBits,o)})}function s(a,f){M.prime.generateProbablePrime(a,n,f)}function o(a,f){if(a)return r(a);if(t.q=f,t.p.compareTo(t.q)<0){var c=t.p;t.p=t.q,t.q=c}if(t.p.subtract(J.ONE).gcd(t.e).compareTo(J.ONE)!==0){t.p=null,i();return}if(t.q.subtract(J.ONE).gcd(t.e).compareTo(J.ONE)!==0){t.q=null,s(t.qBits,o);return}if(t.p1=t.p.subtract(J.ONE),t.q1=t.q.subtract(J.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(J.ONE)!==0){t.p=t.q=null,i();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,s(t.qBits,o);return}var u=t.e.modInverse(t.phi);t.keys={privateKey:z.rsa.setPrivateKey(t.n,t.e,u,t.p,t.q,u.mod(t.p1),u.mod(t.q1),t.q.modInverse(t.p)),publicKey:z.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}}function ie(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=M.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}function bu(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function Ha(t){return M.util.isNodejs&&typeof di[t]=="function"}function za(t){return typeof Gt.globalScope<"u"&&typeof Gt.globalScope.crypto=="object"&&typeof Gt.globalScope.crypto.subtle=="object"&&typeof Gt.globalScope.crypto.subtle[t]=="function"}function Ga(t){return typeof Gt.globalScope<"u"&&typeof Gt.globalScope.msCrypto=="object"&&typeof Gt.globalScope.msCrypto.subtle=="object"&&typeof Gt.globalScope.msCrypto.subtle[t]=="function"}function Wa(t){for(var e=M.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}});var eo=ft((rp,to)=>{var K=st();ii();Nr();sa();Me();nn();ua();da();Dr();Aa();bn();vt();typeof Qa>"u"&&(Qa=K.jsbn.BigInteger);var Qa,S=K.asn1,G=K.pki=K.pki||{};to.exports=G.pbe=K.pbe=K.pbe||{};var Fe=G.oids,Eu={name:"EncryptedPrivateKeyInfo",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:S.Class.UNIVERSAL,type:S.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:S.Class.UNIVERSAL,type:S.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},wu={name:"PBES2Algorithms",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:S.Class.UNIVERSAL,type:S.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:S.Class.UNIVERSAL,type:S.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:S.Class.UNIVERSAL,type:S.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:S.Class.UNIVERSAL,type:S.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:S.Class.UNIVERSAL,type:S.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},Bu={name:"pkcs-12PbeParams",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:S.Class.UNIVERSAL,type:S.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"iterations"}]};G.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=K.random.getBytesSync(r.saltSize),i=r.count,s=S.integerToDer(i),o,a,f;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var c,u,h;switch(r.algorithm){case"aes128":o=16,c=16,u=Fe["aes128-CBC"],h=K.aes.createEncryptionCipher;break;case"aes192":o=24,c=16,u=Fe["aes192-CBC"],h=K.aes.createEncryptionCipher;break;case"aes256":o=32,c=16,u=Fe["aes256-CBC"],h=K.aes.createEncryptionCipher;break;case"des":o=8,c=8,u=Fe.desCBC,h=K.des.createEncryptionCipher;break;default:var d=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw d.algorithm=r.algorithm,d}var x="hmacWith"+r.prfAlgorithm.toUpperCase(),l=ja(x),p=K.pkcs5.pbkdf2(e,n,i,o,l),y=K.random.getBytesSync(c),m=h(p);m.start(y),m.update(S.toDer(t)),m.finish(),f=m.output.getBytes();var E=Su(n,s,o,x);a=S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer(Fe.pkcs5PBES2).getBytes()),S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer(Fe.pkcs5PBKDF2).getBytes()),E]),S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer(u).getBytes()),S.create(S.Class.UNIVERSAL,S.Type.OCTETSTRING,!1,y)])])])}else if(r.algorithm==="3des"){o=24;var b=new K.util.ByteBuffer(n),p=G.pbe.generatePkcs12Key(e,b,1,i,o),y=G.pbe.generatePkcs12Key(e,b,2,i,o),m=K.des.createEncryptionCipher(p);m.start(y),m.update(S.toDer(t)),m.finish(),f=m.output.getBytes(),a=S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer(Fe["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OCTETSTRING,!1,n),S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,s.getBytes())])])}else{var d=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw d.algorithm=r.algorithm,d}var R=S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[a,S.create(S.Class.UNIVERSAL,S.Type.OCTETSTRING,!1,f)]);return R};G.decryptPrivateKeyInfo=function(t,e){var r=null,n={},i=[];if(!S.validate(t,Eu,n,i)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var o=S.derToOid(n.encryptionOid),a=G.pbe.getCipher(o,n.encryptionParams,e),f=K.util.createBuffer(n.encryptedData);return a.update(f),a.finish()&&(r=S.fromDer(a.output)),r};G.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:S.toDer(t).getBytes()};return K.pem.encode(r,{maxline:e})};G.encryptedPrivateKeyFromPem=function(t){var e=K.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return S.fromDer(e.body)};G.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var n=G.wrapRsaPrivateKey(G.privateKeyToAsn1(t));return n=G.encryptPrivateKeyInfo(n,e,r),G.encryptedPrivateKeyToPem(n)}var i,s,o,a;switch(r.algorithm){case"aes128":i="AES-128-CBC",o=16,s=K.random.getBytesSync(16),a=K.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",o=24,s=K.random.getBytesSync(16),a=K.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",o=32,s=K.random.getBytesSync(16),a=K.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",o=24,s=K.random.getBytesSync(8),a=K.des.createEncryptionCipher;break;case"des":i="DES-CBC",o=8,s=K.random.getBytesSync(8),a=K.des.createEncryptionCipher;break;default:var f=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw f.algorithm=r.algorithm,f}var c=K.pbe.opensslDeriveBytes(e,s.substr(0,8),o),u=a(c);u.start(s),u.update(S.toDer(G.privateKeyToAsn1(t))),u.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:K.util.bytesToHex(s).toUpperCase()},body:u.output.getBytes()};return K.pem.encode(h)};G.decryptRsaPrivateKey=function(t,e){var r=null,n=K.pem.decode(t)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var s,o;switch(n.dekInfo.algorithm){case"DES-CBC":s=8,o=K.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,o=K.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,o=K.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,o=K.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,o=K.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,o=function(h){return K.rc2.createDecryptionCipher(h,40)};break;case"RC2-64-CBC":s=8,o=function(h){return K.rc2.createDecryptionCipher(h,64)};break;case"RC2-128-CBC":s=16,o=function(h){return K.rc2.createDecryptionCipher(h,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var a=K.util.hexToBytes(n.dekInfo.parameters),f=K.pbe.opensslDeriveBytes(e,a.substr(0,8),s),c=o(f);if(c.start(a),c.update(K.util.createBuffer(n.body)),c.finish())r=c.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=G.decryptPrivateKeyInfo(S.fromDer(r),e):r=S.fromDer(r),r!==null&&(r=G.privateKeyFromAsn1(r)),r};G.pbe.generatePkcs12Key=function(t,e,r,n,i,s){var o,a;if(typeof s>"u"||s===null){if(!("sha1"in K.md))throw new Error('"sha1" hash algorithm unavailable.');s=K.md.sha1.create()}var f=s.digestLength,c=s.blockLength,u=new K.util.ByteBuffer,h=new K.util.ByteBuffer;if(t!=null){for(a=0;a<t.length;a++)h.putInt16(t.charCodeAt(a));h.putInt16(0)}var d=h.length(),x=e.length(),l=new K.util.ByteBuffer;l.fillWithByte(r,c);var p=c*Math.ceil(x/c),y=new K.util.ByteBuffer;for(a=0;a<p;a++)y.putByte(e.at(a%x));var m=c*Math.ceil(d/c),E=new K.util.ByteBuffer;for(a=0;a<m;a++)E.putByte(h.at(a%d));var b=y;b.putBuffer(E);for(var R=Math.ceil(i/f),w=1;w<=R;w++){var B=new K.util.ByteBuffer;B.putBytes(l.bytes()),B.putBytes(b.bytes());for(var L=0;L<n;L++)s.start(),s.update(B.getBytes()),B=s.digest();var N=new K.util.ByteBuffer;for(a=0;a<c;a++)N.putByte(B.at(a%f));var H=Math.ceil(x/c)+Math.ceil(d/c),F=new K.util.ByteBuffer;for(o=0;o<H;o++){var V=new K.util.ByteBuffer(b.getBytes(c)),$=511;for(a=N.length()-1;a>=0;a--)$=$>>8,$+=N.at(a)+V.at(a),V.setAt(a,$&255);F.putBuffer(V)}b=F,u.putBuffer(B)}return u.truncate(u.length()-i),u};G.pbe.getCipher=function(t,e,r){switch(t){case G.oids.pkcs5PBES2:return G.pbe.getCipherForPBES2(t,e,r);case G.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case G.oids["pbewithSHAAnd40BitRC2-CBC"]:return G.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};G.pbe.getCipherForPBES2=function(t,e,r){var n={},i=[];if(!S.validate(e,wu,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}if(t=S.derToOid(n.kdfOid),t!==G.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=t,s.supportedOids=["pkcs5PBKDF2"],s}if(t=S.derToOid(n.encOid),t!==G.oids["aes128-CBC"]&&t!==G.oids["aes192-CBC"]&&t!==G.oids["aes256-CBC"]&&t!==G.oids["des-EDE3-CBC"]&&t!==G.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=t,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var o=n.kdfSalt,a=K.util.createBuffer(n.kdfIterationCount);a=a.getInt(a.length()<<3);var f,c;switch(G.oids[t]){case"aes128-CBC":f=16,c=K.aes.createDecryptionCipher;break;case"aes192-CBC":f=24,c=K.aes.createDecryptionCipher;break;case"aes256-CBC":f=32,c=K.aes.createDecryptionCipher;break;case"des-EDE3-CBC":f=24,c=K.des.createDecryptionCipher;break;case"desCBC":f=8,c=K.des.createDecryptionCipher;break}var u=Ja(n.prfOid),h=K.pkcs5.pbkdf2(r,o,a,f,u),d=n.encIv,x=c(h);return x.start(d),x};G.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},i=[];if(!S.validate(e,Bu,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var o=K.util.createBuffer(n.salt),a=K.util.createBuffer(n.iterations);a=a.getInt(a.length()<<3);var f,c,u;switch(t){case G.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:f=24,c=8,u=K.des.startDecrypting;break;case G.oids["pbewithSHAAnd40BitRC2-CBC"]:f=5,c=8,u=function(p,y){var m=K.rc2.createDecryptionCipher(p,40);return m.start(y,null),m};break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=t,s}var h=Ja(n.prfOid),d=G.pbe.generatePkcs12Key(r,o,1,a,f,h);h.start();var x=G.pbe.generatePkcs12Key(r,o,2,a,c,h);return u(d,x)};G.pbe.opensslDeriveBytes=function(t,e,r,n){if(typeof n>"u"||n===null){if(!("md5"in K.md))throw new Error('"md5" hash algorithm unavailable.');n=K.md.md5.create()}e===null&&(e="");for(var i=[Xa(n,t+e)],s=16,o=1;s<r;++o,s+=16)i.push(Xa(n,i[o-1]+t+e));return i.join("").substr(0,r)};function Xa(t,e){return t.start().update(e).digest().getBytes()}function Ja(t){var e;if(!t)e="hmacWithSHA1";else if(e=G.oids[S.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return ja(e)}function ja(t){var e=K.md;switch(t){case"hmacWithSHA224":e=K.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}function Su(t,e,r,n){var i=S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OCTETSTRING,!1,t),S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,e.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,K.util.hexToBytes(r.toString(16))),S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer(G.oids[n]).getBytes()),S.create(S.Class.UNIVERSAL,S.Type.NULL,!1,"")])),i}});var f0=ft((r2,o0)=>{var ut=st();Me();vt();var Wr=o0.exports=ut.sha512=ut.sha512||{};ut.md.sha512=ut.md.algorithms.sha512=Wr;var s0=ut.sha384=ut.sha512.sha384=ut.sha512.sha384||{};s0.create=function(){return Wr.create("SHA-384")};ut.md.sha384=ut.md.algorithms.sha384=s0;ut.sha512.sha256=ut.sha512.sha256||{create:function(){return Wr.create("SHA-512/256")}};ut.md["sha512/256"]=ut.md.algorithms["sha512/256"]=ut.sha512.sha256;ut.sha512.sha224=ut.sha512.sha224||{create:function(){return Wr.create("SHA-512/224")}};ut.md["sha512/224"]=ut.md.algorithms["sha512/224"]=ut.sha512.sha224;Wr.create=function(t){if(a0||Zl(),typeof t>"u"&&(t="SHA-512"),!(t in Je))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=Je[t],r=null,n=ut.util.createBuffer(),i=new Array(80),s=0;s<80;++s)i[s]=new Array(2);var o=64;switch(t){case"SHA-384":o=48;break;case"SHA-512/256":o=32;break;case"SHA-512/224":o=28;break}var a={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:o,messageLength:0,fullMessageLength:null,messageLengthSize:16};return a.start=function(){a.messageLength=0,a.fullMessageLength=a.messageLength128=[];for(var f=a.messageLengthSize/4,c=0;c<f;++c)a.fullMessageLength.push(0);n=ut.util.createBuffer(),r=new Array(e.length);for(var c=0;c<e.length;++c)r[c]=e[c].slice(0);return a},a.start(),a.update=function(f,c){c==="utf8"&&(f=ut.util.encodeUtf8(f));var u=f.length;a.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var h=a.fullMessageLength.length-1;h>=0;--h)a.fullMessageLength[h]+=u[1],u[1]=u[0]+(a.fullMessageLength[h]/4294967296>>>0),a.fullMessageLength[h]=a.fullMessageLength[h]>>>0,u[0]=u[1]/4294967296>>>0;return n.putBytes(f),i0(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),a},a.digest=function(){var f=ut.util.createBuffer();f.putBytes(n.bytes());var c=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize,u=c&a.blockLength-1;f.putBytes(ds.substr(0,a.blockLength-u));for(var h,d,x=a.fullMessageLength[0]*8,l=0;l<a.fullMessageLength.length-1;++l)h=a.fullMessageLength[l+1]*8,d=h/4294967296>>>0,x+=d,f.putInt32(x>>>0),x=h>>>0;f.putInt32(x);for(var p=new Array(r.length),l=0;l<r.length;++l)p[l]=r[l].slice(0);i0(p,i,f);var y=ut.util.createBuffer(),m;t==="SHA-512"?m=p.length:t==="SHA-384"?m=p.length-2:m=p.length-4;for(var l=0;l<m;++l)y.putInt32(p[l][0]),(l!==m-1||t!=="SHA-512/224")&&y.putInt32(p[l][1]);return y},a};var ds=null,a0=!1,ps=null,Je=null;function Zl(){ds="\x80",ds+=ut.util.fillString("\0",128),ps=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],Je={},Je["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],Je["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],Je["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],Je["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],a0=!0}function i0(t,e,r){for(var n,i,s,o,a,f,c,u,h,d,x,l,p,y,m,E,b,R,w,B,L,N,H,F,V,$,it,It,I,k,_,D,A,U,O,q=r.length();q>=128;){for(I=0;I<16;++I)e[I][0]=r.getInt32()>>>0,e[I][1]=r.getInt32()>>>0;for(;I<80;++I)D=e[I-2],k=D[0],_=D[1],n=((k>>>19|_<<13)^(_>>>29|k<<3)^k>>>6)>>>0,i=((k<<13|_>>>19)^(_<<3|k>>>29)^(k<<26|_>>>6))>>>0,U=e[I-15],k=U[0],_=U[1],s=((k>>>1|_<<31)^(k>>>8|_<<24)^k>>>7)>>>0,o=((k<<31|_>>>1)^(k<<24|_>>>8)^(k<<25|_>>>7))>>>0,A=e[I-7],O=e[I-16],_=i+A[1]+o+O[1],e[I][0]=n+A[0]+s+O[0]+(_/4294967296>>>0)>>>0,e[I][1]=_>>>0;for(p=t[0][0],y=t[0][1],m=t[1][0],E=t[1][1],b=t[2][0],R=t[2][1],w=t[3][0],B=t[3][1],L=t[4][0],N=t[4][1],H=t[5][0],F=t[5][1],V=t[6][0],$=t[6][1],it=t[7][0],It=t[7][1],I=0;I<80;++I)c=((L>>>14|N<<18)^(L>>>18|N<<14)^(N>>>9|L<<23))>>>0,u=((L<<18|N>>>14)^(L<<14|N>>>18)^(N<<23|L>>>9))>>>0,h=(V^L&(H^V))>>>0,d=($^N&(F^$))>>>0,a=((p>>>28|y<<4)^(y>>>2|p<<30)^(y>>>7|p<<25))>>>0,f=((p<<4|y>>>28)^(y<<30|p>>>2)^(y<<25|p>>>7))>>>0,x=(p&m|b&(p^m))>>>0,l=(y&E|R&(y^E))>>>0,_=It+u+d+ps[I][1]+e[I][1],n=it+c+h+ps[I][0]+e[I][0]+(_/4294967296>>>0)>>>0,i=_>>>0,_=f+l,s=a+x+(_/4294967296>>>0)>>>0,o=_>>>0,it=V,It=$,V=H,$=F,H=L,F=N,_=B+i,L=w+n+(_/4294967296>>>0)>>>0,N=_>>>0,w=b,B=R,b=m,R=E,m=p,E=y,_=i+o,p=n+s+(_/4294967296>>>0)>>>0,y=_>>>0;_=t[0][1]+y,t[0][0]=t[0][0]+p+(_/4294967296>>>0)>>>0,t[0][1]=_>>>0,_=t[1][1]+E,t[1][0]=t[1][0]+m+(_/4294967296>>>0)>>>0,t[1][1]=_>>>0,_=t[2][1]+R,t[2][0]=t[2][0]+b+(_/4294967296>>>0)>>>0,t[2][1]=_>>>0,_=t[3][1]+B,t[3][0]=t[3][0]+w+(_/4294967296>>>0)>>>0,t[3][1]=_>>>0,_=t[4][1]+N,t[4][0]=t[4][0]+L+(_/4294967296>>>0)>>>0,t[4][1]=_>>>0,_=t[5][1]+F,t[5][0]=t[5][0]+H+(_/4294967296>>>0)>>>0,t[5][1]=_>>>0,_=t[6][1]+$,t[6][0]=t[6][0]+V+(_/4294967296>>>0)>>>0,t[6][1]=_>>>0,_=t[7][1]+It,t[7][0]=t[7][0]+it+(_/4294967296>>>0)>>>0,t[7][1]=_>>>0,q-=128}}});var Rd={};Bt(Rd,{createEd25519PeerId:()=>Sd,createFromJSON:()=>_d,createFromPrivKey:()=>tn,createFromProtobuf:()=>Td,createFromPubKey:()=>O0,createRSAPeerId:()=>Cd,createSecp256k1PeerId:()=>Ad,exportToProtobuf:()=>Id});var ax=Mt(Nr(),1),ox=Mt(eo(),1);var j=class extends Error{code;props;constructor(e,r,n){super(e),this.code=r,this.name=n?.name??"CodeError",this.props=n??{}}};var bd=Mt(st(),1);function He(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}var mi={};Bt(mi,{base10:()=>Ru});function Au(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,f=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";for(var p=0,y=0,m=0,E=l.length;m!==E&&l[m]===0;)m++,p++;for(var b=(E-m)*u+1>>>0,R=new Uint8Array(b);m!==E;){for(var w=l[m],B=0,L=b-1;(w!==0||B<y)&&L!==-1;L--,B++)w+=256*R[L]>>>0,R[L]=w%a>>>0,w=w/a>>>0;if(w!==0)throw new Error("Non-zero carry");y=B,m++}for(var N=b-y;N!==b&&R[N]===0;)N++;for(var H=f.repeat(p);N<b;++N)H+=t.charAt(R[N]);return H}function d(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;var p=0;if(l[p]!==" "){for(var y=0,m=0;l[p]===f;)y++,p++;for(var E=(l.length-p)*c+1>>>0,b=new Uint8Array(E);l[p];){var R=r[l.charCodeAt(p)];if(R===255)return;for(var w=0,B=E-1;(R!==0||w<m)&&B!==-1;B--,w++)R+=a*b[B]>>>0,b[B]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");m=w,p++}if(l[p]!==" "){for(var L=E-m;L!==E&&b[L]===0;)L++;for(var N=new Uint8Array(y+(E-L)),H=y;L!==E;)N[H++]=b[L++];return N}}}function x(l){var p=d(l);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:d,decode:x}}var Cu=Au,Iu=Cu,ro=Iu;var ap=new Uint8Array(0);var no=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},de=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var io=t=>new TextEncoder().encode(t),so=t=>new TextDecoder().decode(t);var pi=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},yi=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return oo(this,e)}},xi=class{constructor(e){this.decoders=e}or(e){return oo(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},oo=(t,e)=>new xi({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),gi=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new pi(e,r,n),this.decoder=new yi(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},sr=({name:t,prefix:e,encode:r,decode:n})=>new gi(t,e,r,n),Ie=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=ro(r,e);return sr({prefix:t,name:e,encode:n,decode:s=>de(i(s))})},Tu=(t,e,r,n)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,f=0,c=0;for(let u=0;u<s;++u){let h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<r|h,a+=r,a>=8&&(a-=8,o[c++]=255&f>>a)}if(a>=r||255&f<<8-a)throw new SyntaxError("Unexpected end of data");return o},_u=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,s="",o=0,a=0;for(let f=0;f<t.length;++f)for(a=a<<8|t[f],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},xt=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>sr({prefix:e,name:t,encode(i){return _u(i,n,r)},decode(i){return Tu(i,n,r,t)}});var Ru=Ie({prefix:"9",name:"base10",alphabet:"0123456789"});var vi={};Bt(vi,{base16:()=>Lu,base16upper:()=>Nu});var Lu=xt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Nu=xt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var bi={};Bt(bi,{base2:()=>Du});var Du=xt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Ei={};Bt(Ei,{base256emoji:()=>Ou});var fo=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),ku=fo.reduce((t,e,r)=>(t[r]=e,t),[]),Pu=fo.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Ku(t){return t.reduce((e,r)=>(e+=ku[r],e),"")}function Uu(t){let e=[];for(let r of t){let n=Pu[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var Ou=sr({prefix:"\u{1F680}",name:"base256emoji",encode:Ku,decode:Uu});var wi={};Bt(wi,{base32:()=>ar,base32hex:()=>Fu,base32hexpad:()=>zu,base32hexpadupper:()=>Gu,base32hexupper:()=>Hu,base32pad:()=>Vu,base32padupper:()=>qu,base32upper:()=>Mu,base32z:()=>Wu});var ar=xt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Mu=xt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Vu=xt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),qu=xt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Fu=xt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Hu=xt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),zu=xt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Gu=xt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Wu=xt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Bi={};Bt(Bi,{base36:()=>Yu,base36upper:()=>Zu});var Yu=Ie({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Zu=Ie({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Si={};Bt(Si,{base58btc:()=>Pt,base58flickr:()=>$u});var Pt=Ie({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),$u=Ie({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Ai={};Bt(Ai,{base64:()=>En,base64pad:()=>Qu,base64url:()=>Xu,base64urlpad:()=>Ju});var En=xt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Qu=xt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Xu=xt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Ju=xt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Ci={};Bt(Ci,{base8:()=>ju});var ju=xt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Ii={};Bt(Ii,{identity:()=>th});var th=sr({prefix:"\0",name:"identity",encode:t=>so(t),decode:t=>io(t)});var Ep=new TextEncoder,wp=new TextDecoder;var _i={};Bt(_i,{identity:()=>Te});var nh=ho,co=128,ih=127,sh=~ih,ah=Math.pow(2,31);function ho(t,e,r){e=e||[],r=r||0;for(var n=r;t>=ah;)e[r++]=t&255|co,t/=128;for(;t&sh;)e[r++]=t&255|co,t>>>=7;return e[r]=t|0,ho.bytes=r-n+1,e}var oh=Ti,fh=128,uo=127;function Ti(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw Ti.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&uo)<<i:(o&uo)*Math.pow(2,i),i+=7}while(o>=fh);return Ti.bytes=s-n,r}var ch=Math.pow(2,7),uh=Math.pow(2,14),hh=Math.pow(2,21),lh=Math.pow(2,28),dh=Math.pow(2,35),ph=Math.pow(2,42),yh=Math.pow(2,49),xh=Math.pow(2,56),gh=Math.pow(2,63),mh=function(t){return t<ch?1:t<uh?2:t<hh?3:t<lh?4:t<dh?5:t<ph?6:t<yh?7:t<xh?8:t<gh?9:10},vh={encode:nh,decode:oh,encodingLength:mh},bh=vh,Pr=bh;var Kr=(t,e=0)=>[Pr.decode(t,e),Pr.decode.bytes],or=(t,e,r=0)=>(Pr.encode(t,e,r),e),fr=t=>Pr.encodingLength(t);var se=(t,e)=>{let r=e.byteLength,n=fr(t),i=n+fr(r),s=new Uint8Array(i+r);return or(t,s,0),or(r,s,n),s.set(e,i),new cr(t,r,e,s)},Ur=t=>{let e=de(t),[r,n]=Kr(e),[i,s]=Kr(e.subarray(n)),o=e.subarray(n+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new cr(r,i,o,e)},lo=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&no(t.bytes,r.bytes)}},cr=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};var po=0,Eh="identity",yo=de,wh=t=>se(po,yo(t)),Te={code:po,name:Eh,encode:yo,digest:wh};var Ni={};Bt(Ni,{sha256:()=>Rt,sha512:()=>Bh});var Li=({name:t,code:e,encode:r})=>new Ri(t,e,r),Ri=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?se(this.code,r):r.then(n=>se(this.code,n))}else throw Error("Unknown type, must be binary type")}};var go=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Rt=Li({name:"sha2-256",code:18,encode:go("SHA-256")}),Bh=Li({name:"sha2-512",code:19,encode:go("SHA-512")});var mo=(t,e)=>{let{bytes:r,version:n}=t;switch(n){case 0:return Ah(r,Di(t),e||Pt.encoder);default:return Ch(r,Di(t),e||ar.encoder)}};var vo=new WeakMap,Di=t=>{let e=vo.get(t);if(e==null){let r=new Map;return vo.set(t,r),r}return e},ze=class t{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==Or)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==Ih)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=se(e,r);return t.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return t.equals(this,e)}static equals(e,r){let n=r;return n&&e.code===n.code&&e.version===n.version&&lo(e.multihash,n.multihash)}toString(e){return mo(this,e)}toJSON(){return{"/":mo(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof t)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:n,code:i,multihash:s,bytes:o}=r;return new t(n,i,s,o||bo(n,i,s.bytes))}else if(r[Th]===!0){let{version:n,multihash:i,code:s}=r,o=Ur(i);return t.create(n,s,o)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==Or)throw new Error(`Version 0 CID must use dag-pb (code: ${Or}) block encoding`);return new t(e,r,n,n.bytes)}case 1:{let i=bo(e,r,n.bytes);return new t(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,Or,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,n]=t.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),n=r.size-r.multihashSize,i=de(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=i.subarray(r.multihashSize-r.digestSize),o=new cr(r.multihashCode,r.digestSize,s,i);return[r.version===0?t.createV0(o):t.createV1(r.codec,o),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[h,d]=Kr(e.subarray(r));return r+=d,h},i=n(),s=Or;if(i===18?(i=0,r=0):s=n(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let o=r,a=n(),f=n(),c=r+f,u=c-o;return{version:i,codec:s,multihashCode:a,digestSize:f,multihashSize:u,size:c}}static parse(e,r){let[n,i]=Sh(e,r),s=t.decode(i);if(s.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return Di(s).set(n,e),s}},Sh=(t,e)=>{switch(t[0]){case"Q":{let r=e||Pt;return[Pt.prefix,r.decode(`${Pt.prefix}${t}`)]}case Pt.prefix:{let r=e||Pt;return[Pt.prefix,r.decode(t)]}case ar.prefix:{let r=e||ar;return[ar.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},Ah=(t,e,r)=>{let{prefix:n}=r;if(n!==Pt.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let s=r.encode(t).slice(1);return e.set(n,s),s}else return i},Ch=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let s=r.encode(t);return e.set(n,s),s}else return i},Or=112,Ih=18,bo=(t,e,r)=>{let n=fr(t),i=n+fr(e),s=new Uint8Array(i+r.byteLength);return or(t,s,0),or(e,s,n),s.set(r,i),s},Th=Symbol.for("@ipld/js-cid/CID");var hr={...Ii,...bi,...Ci,...mi,...vi,...wi,...Bi,...Si,...Ai,...Ei},Op={...Ni,..._i};function pe(t=0){return globalThis.Buffer?.allocUnsafe!=null?He(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function wo(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var Eo=wo("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),ki=wo("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=pe(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),_h={utf8:Eo,"utf-8":Eo,hex:hr.base16,latin1:ki,ascii:ki,binary:ki,...hr},Bn=_h;function Et(t,e="utf8"){let r=Bn[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?He(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var ls={};Bt(ls,{Ed25519PrivateKey:()=>Xe,Ed25519PublicKey:()=>Gr,generateKeyPair:()=>zl,generateKeyPairFromSeed:()=>e0,unmarshalEd25519PrivateKey:()=>Fl,unmarshalEd25519PublicKey:()=>Hl});function Vt(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function Bo(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Pi(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function So(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Bo(t.outputLen),Bo(t.blockLen)}function lr(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Ao(t,e){Pi(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var Sn=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var Co=t=>t instanceof Uint8Array;var An=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),$t=(t,e)=>t<<32-e|t>>>e,Rh=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Rh)throw new Error("Non little-endian hardware is not supported");function Ki(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Mr(t){if(typeof t=="string"&&(t=Ki(t)),!Co(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function Cn(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!Co(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}var dr=class{clone(){return this._cloneInto()}},Jp={}.toString;function In(t){let e=n=>t().update(Mr(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function pr(t=32){if(Sn&&typeof Sn.getRandomValues=="function")return Sn.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function Lh(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),f=n?4:0,c=n?0:4;t.setUint32(e+f,o,n),t.setUint32(e+c,a,n)}var yr=class extends dr{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=An(this.buffer)}update(e){lr(this);let{view:r,buffer:n,blockLen:i}=this;e=Mr(e);let s=e.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let f=An(e);for(;i<=s-o;o+=i)this.process(f,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){lr(this),Ao(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;Lh(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=An(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=f/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}};var Tn=BigInt(4294967295),Ui=BigInt(32);function Io(t,e=!1){return e?{h:Number(t&Tn),l:Number(t>>Ui&Tn)}:{h:Number(t>>Ui&Tn)|0,l:Number(t&Tn)|0}}function Nh(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:o}=Io(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}var Dh=(t,e)=>BigInt(t>>>0)<<Ui|BigInt(e>>>0),kh=(t,e,r)=>t>>>r,Ph=(t,e,r)=>t<<32-r|e>>>r,Kh=(t,e,r)=>t>>>r|e<<32-r,Uh=(t,e,r)=>t<<32-r|e>>>r,Oh=(t,e,r)=>t<<64-r|e>>>r-32,Mh=(t,e,r)=>t>>>r-32|e<<64-r,Vh=(t,e)=>e,qh=(t,e)=>t,Fh=(t,e,r)=>t<<r|e>>>32-r,Hh=(t,e,r)=>e<<r|t>>>32-r,zh=(t,e,r)=>e<<r-32|t>>>64-r,Gh=(t,e,r)=>t<<r-32|e>>>64-r;function Wh(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var Yh=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Zh=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,$h=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Qh=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,Xh=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Jh=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0;var jh={fromBig:Io,split:Nh,toBig:Dh,shrSH:kh,shrSL:Ph,rotrSH:Kh,rotrSL:Uh,rotrBH:Oh,rotrBL:Mh,rotr32H:Vh,rotr32L:qh,rotlSH:Fh,rotlSL:Hh,rotlBH:zh,rotlBL:Gh,add:Wh,add3L:Yh,add3H:Zh,add4L:$h,add4H:Qh,add5H:Jh,add5L:Xh},W=jh;var[tl,el]=W.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),_e=new Uint32Array(80),Re=new Uint32Array(80),Oi=class extends yr{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:f,Eh:c,El:u,Fh:h,Fl:d,Gh:x,Gl:l,Hh:p,Hl:y}=this;return[e,r,n,i,s,o,a,f,c,u,h,d,x,l,p,y]}set(e,r,n,i,s,o,a,f,c,u,h,d,x,l,p,y){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=f|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=d|0,this.Gh=x|0,this.Gl=l|0,this.Hh=p|0,this.Hl=y|0}process(e,r){for(let b=0;b<16;b++,r+=4)_e[b]=e.getUint32(r),Re[b]=e.getUint32(r+=4);for(let b=16;b<80;b++){let R=_e[b-15]|0,w=Re[b-15]|0,B=W.rotrSH(R,w,1)^W.rotrSH(R,w,8)^W.shrSH(R,w,7),L=W.rotrSL(R,w,1)^W.rotrSL(R,w,8)^W.shrSL(R,w,7),N=_e[b-2]|0,H=Re[b-2]|0,F=W.rotrSH(N,H,19)^W.rotrBH(N,H,61)^W.shrSH(N,H,6),V=W.rotrSL(N,H,19)^W.rotrBL(N,H,61)^W.shrSL(N,H,6),$=W.add4L(L,V,Re[b-7],Re[b-16]),it=W.add4H($,B,F,_e[b-7],_e[b-16]);_e[b]=it|0,Re[b]=$|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:f,Dh:c,Dl:u,Eh:h,El:d,Fh:x,Fl:l,Gh:p,Gl:y,Hh:m,Hl:E}=this;for(let b=0;b<80;b++){let R=W.rotrSH(h,d,14)^W.rotrSH(h,d,18)^W.rotrBH(h,d,41),w=W.rotrSL(h,d,14)^W.rotrSL(h,d,18)^W.rotrBL(h,d,41),B=h&x^~h&p,L=d&l^~d&y,N=W.add5L(E,w,L,el[b],Re[b]),H=W.add5H(N,m,R,B,tl[b],_e[b]),F=N|0,V=W.rotrSH(n,i,28)^W.rotrBH(n,i,34)^W.rotrBH(n,i,39),$=W.rotrSL(n,i,28)^W.rotrBL(n,i,34)^W.rotrBL(n,i,39),it=n&s^n&a^s&a,It=i&o^i&f^o&f;m=p|0,E=y|0,p=x|0,y=l|0,x=h|0,l=d|0,{h,l:d}=W.add(c|0,u|0,H|0,F|0),c=a|0,u=f|0,a=s|0,f=o|0,s=n|0,o=i|0;let I=W.add3L(F,$,It);n=W.add3H(I,H,V,it),i=I|0}({h:n,l:i}=W.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=W.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:f}=W.add(this.Ch|0,this.Cl|0,a|0,f|0),{h:c,l:u}=W.add(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:d}=W.add(this.Eh|0,this.El|0,h|0,d|0),{h:x,l}=W.add(this.Fh|0,this.Fl|0,x|0,l|0),{h:p,l:y}=W.add(this.Gh|0,this.Gl|0,p|0,y|0),{h:m,l:E}=W.add(this.Hh|0,this.Hl|0,m|0,E|0),this.set(n,i,s,o,a,f,c,u,h,d,x,l,p,y,m,E)}roundClean(){_e.fill(0),Re.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var Mi=In(()=>new Oi);var Ln={};Bt(Ln,{bitGet:()=>fl,bitLen:()=>ol,bitMask:()=>Vr,bitSet:()=>cl,bytesToHex:()=>ye,bytesToNumberBE:()=>xe,bytesToNumberLE:()=>Le,concatBytes:()=>ge,createHmacDrbg:()=>Fi,ensureBytes:()=>gt,equalBytes:()=>sl,hexToBytes:()=>Ge,hexToNumber:()=>qi,numberToBytesBE:()=>Ne,numberToBytesLE:()=>We,numberToHexUnpadded:()=>Ro,numberToVarBytesBE:()=>il,utf8ToBytes:()=>al,validateObject:()=>ae});var _o=BigInt(0),_n=BigInt(1),rl=BigInt(2),Rn=t=>t instanceof Uint8Array,nl=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ye(t){if(!Rn(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=nl[t[r]];return e}function Ro(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function qi(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Ge(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}function xe(t){return qi(ye(t))}function Le(t){if(!Rn(t))throw new Error("Uint8Array expected");return qi(ye(Uint8Array.from(t).reverse()))}function Ne(t,e){return Ge(t.toString(16).padStart(e*2,"0"))}function We(t,e){return Ne(t,e).reverse()}function il(t){return Ge(Ro(t))}function gt(t,e,r){let n;if(typeof e=="string")try{n=Ge(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(Rn(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function ge(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!Rn(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function sl(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function al(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function ol(t){let e;for(e=0;t>_o;t>>=_n,e+=1);return e}function fl(t,e){return t>>BigInt(e)&_n}var cl=(t,e,r)=>t|(r?_n:_o)<<BigInt(e),Vr=t=>(rl<<BigInt(t-1))-_n,Vi=t=>new Uint8Array(t),To=t=>Uint8Array.from(t);function Fi(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Vi(t),i=Vi(t),s=0,o=()=>{n.fill(1),i.fill(0),s=0},a=(...h)=>r(i,n,...h),f=(h=Vi())=>{i=a(To([0]),h),n=a(),h.length!==0&&(i=a(To([1]),h),n=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0,d=[];for(;h<e;){n=a();let x=n.slice();d.push(x),h+=n.length}return ge(...d)};return(h,d)=>{o(),f(h);let x;for(;!(x=d(c()));)f();return o(),x}}var ul={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function ae(t,e,r={}){let n=(i,s,o)=>{let a=ul[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);let f=t[i];if(!(o&&f===void 0)&&!a(f,t))throw new Error(`Invalid param ${String(i)}=${f} (${typeof f}), expected ${s}`)};for(let[i,s]of Object.entries(e))n(i,s,!1);for(let[i,s]of Object.entries(r))n(i,s,!0);return t}var wt=BigInt(0),lt=BigInt(1),Ye=BigInt(2),hl=BigInt(3),Hi=BigInt(4),Lo=BigInt(5),No=BigInt(8),ll=BigInt(9),dl=BigInt(16);function at(t,e){let r=t%e;return r>=wt?r:e+r}function pl(t,e,r){if(r<=wt||e<wt)throw new Error("Expected power/modulo > 0");if(r===lt)return wt;let n=lt;for(;e>wt;)e&lt&&(n=n*t%r),t=t*t%r,e>>=lt;return n}function dt(t,e,r){let n=t;for(;e-- >wt;)n*=n,n%=r;return n}function Nn(t,e){if(t===wt||e<=wt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=at(t,e),n=e,i=wt,s=lt,o=lt,a=wt;for(;r!==wt;){let c=n/r,u=n%r,h=i-o*c,d=s-a*c;n=r,r=u,i=o,s=a,o=h,a=d}if(n!==lt)throw new Error("invert: does not exist");return at(i,e)}function yl(t){let e=(t-lt)/Ye,r,n,i;for(r=t-lt,n=0;r%Ye===wt;r/=Ye,n++);for(i=Ye;i<t&&pl(i,e,t)!==t-lt;i++);if(n===1){let o=(t+lt)/Hi;return function(f,c){let u=f.pow(c,o);if(!f.eql(f.sqr(u),c))throw new Error("Cannot find square root");return u}}let s=(r+lt)/Ye;return function(a,f){if(a.pow(f,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=n,u=a.pow(a.mul(a.ONE,i),r),h=a.pow(f,s),d=a.pow(f,r);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let x=1;for(let p=a.sqr(d);x<c&&!a.eql(p,a.ONE);x++)p=a.sqr(p);let l=a.pow(u,lt<<BigInt(c-x-1));u=a.sqr(l),h=a.mul(h,l),d=a.mul(d,u),c=x}return h}}function xl(t){if(t%Hi===hl){let e=(t+lt)/Hi;return function(n,i){let s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%No===Lo){let e=(t-Lo)/No;return function(n,i){let s=n.mul(i,Ye),o=n.pow(s,e),a=n.mul(i,o),f=n.mul(n.mul(a,Ye),o),c=n.mul(a,n.sub(f,n.ONE));if(!n.eql(n.sqr(c),i))throw new Error("Cannot find square root");return c}}return t%dl,yl(t)}var Do=(t,e)=>(at(t,e)&lt)===lt,gl=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function zi(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=gl.reduce((n,i)=>(n[i]="function",n),e);return ae(t,r)}function ml(t,e,r){if(r<wt)throw new Error("Expected power > 0");if(r===wt)return t.ONE;if(r===lt)return e;let n=t.ONE,i=e;for(;r>wt;)r&lt&&(n=t.mul(n,i)),i=t.sqr(i),r>>=lt;return n}function vl(t,e){let r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function Gi(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Dn(t,e,r=!1,n={}){if(t<=wt)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:s}=Gi(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=xl(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:Vr(i),ZERO:wt,ONE:lt,create:f=>at(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof f}`);return wt<=f&&f<t},is0:f=>f===wt,isOdd:f=>(f&lt)===lt,neg:f=>at(-f,t),eql:(f,c)=>f===c,sqr:f=>at(f*f,t),add:(f,c)=>at(f+c,t),sub:(f,c)=>at(f-c,t),mul:(f,c)=>at(f*c,t),pow:(f,c)=>ml(a,f,c),div:(f,c)=>at(f*Nn(c,t),t),sqrN:f=>f*f,addN:(f,c)=>f+c,subN:(f,c)=>f-c,mulN:(f,c)=>f*c,inv:f=>Nn(f,t),sqrt:n.sqrt||(f=>o(a,f)),invertBatch:f=>vl(a,f),cmov:(f,c,u)=>u?c:f,toBytes:f=>r?We(f,s):Ne(f,s),fromBytes:f=>{if(f.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${f.length}`);return r?Le(f):xe(f)}});return Object.freeze(a)}function ko(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}function Po(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function Wi(t){let e=Po(t);return e+Math.ceil(e/2)}function Ko(t,e,r=!1){let n=t.length,i=Po(e),s=Wi(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);let o=r?xe(t):Le(t),a=at(o,e-lt)+lt;return r?We(a,i):Ne(a,i)}var El=BigInt(0),Yi=BigInt(1);function kn(t,e){let r=(i,s)=>{let o=s.negate();return i?o:s},n=i=>{let s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>El;)s&Yi&&(o=o.add(a)),a=a.double(),s>>=Yi;return o},precomputeWindow(i,s){let{windows:o,windowSize:a}=n(s),f=[],c=i,u=c;for(let h=0;h<o;h++){u=c,f.push(u);for(let d=1;d<a;d++)u=u.add(c),f.push(u);c=u.double()}return f},wNAF(i,s,o){let{windows:a,windowSize:f}=n(i),c=t.ZERO,u=t.BASE,h=BigInt(2**i-1),d=2**i,x=BigInt(i);for(let l=0;l<a;l++){let p=l*f,y=Number(o&h);o>>=x,y>f&&(y-=d,o+=Yi);let m=p,E=p+Math.abs(y)-1,b=l%2!==0,R=y<0;y===0?u=u.add(r(b,s[m])):c=c.add(r(R,s[E]))}return{p:c,f:u}},wNAFCached(i,s,o,a){let f=i._WINDOW_SIZE||1,c=s.get(i);return c||(c=this.precomputeWindow(i,f),f!==1&&s.set(i,a(c))),this.wNAF(f,c,o)}}}function qr(t){return zi(t.Fp),ae(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Gi(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}var Qt=BigInt(0),qt=BigInt(1),Pn=BigInt(2),wl=BigInt(8),Bl={zip215:!0};function Sl(t){let e=qr(t);return ae(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Kn(t){let e=Sl(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:f}=e,c=Pn<<BigInt(a*8)-qt,u=r.create,h=e.uvRatio||((D,A)=>{try{return{isValid:!0,value:r.sqrt(D*r.inv(A))}}catch{return{isValid:!1,value:Qt}}}),d=e.adjustScalarBytes||(D=>D),x=e.domain||((D,A,U)=>{if(A.length||U)throw new Error("Contexts/pre-hash are not supported");return D}),l=D=>typeof D=="bigint"&&Qt<D,p=(D,A)=>l(D)&&l(A)&&D<A,y=D=>D===Qt||p(D,c);function m(D,A){if(p(D,A))return D;throw new Error(`Expected valid scalar < ${A}, got ${typeof D} ${D}`)}function E(D){return D===Qt?D:m(D,n)}let b=new Map;function R(D){if(!(D instanceof w))throw new Error("ExtendedPoint expected")}class w{constructor(A,U,O,q){if(this.ex=A,this.ey=U,this.ez=O,this.et=q,!y(A))throw new Error("x required");if(!y(U))throw new Error("y required");if(!y(O))throw new Error("z required");if(!y(q))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(A){if(A instanceof w)throw new Error("extended point not allowed");let{x:U,y:O}=A||{};if(!y(U)||!y(O))throw new Error("invalid affine point");return new w(U,O,qt,u(U*O))}static normalizeZ(A){let U=r.invertBatch(A.map(O=>O.ez));return A.map((O,q)=>O.toAffine(U[q])).map(w.fromAffine)}_setWindowSize(A){this._WINDOW_SIZE=A,b.delete(this)}assertValidity(){let{a:A,d:U}=e;if(this.is0())throw new Error("bad point: ZERO");let{ex:O,ey:q,ez:Y,et:Q}=this,nt=u(O*O),X=u(q*q),et=u(Y*Y),mt=u(et*et),yt=u(nt*A),Tt=u(et*u(yt+X)),_t=u(mt+u(U*u(nt*X)));if(Tt!==_t)throw new Error("bad point: equation left != right (1)");let bt=u(O*q),Lt=u(Y*Q);if(bt!==Lt)throw new Error("bad point: equation left != right (2)")}equals(A){R(A);let{ex:U,ey:O,ez:q}=this,{ex:Y,ey:Q,ez:nt}=A,X=u(U*nt),et=u(Y*q),mt=u(O*nt),yt=u(Q*q);return X===et&&mt===yt}is0(){return this.equals(w.ZERO)}negate(){return new w(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){let{a:A}=e,{ex:U,ey:O,ez:q}=this,Y=u(U*U),Q=u(O*O),nt=u(Pn*u(q*q)),X=u(A*Y),et=U+O,mt=u(u(et*et)-Y-Q),yt=X+Q,Tt=yt-nt,_t=X-Q,bt=u(mt*Tt),Lt=u(yt*_t),ce=u(mt*_t),Ue=u(Tt*yt);return new w(bt,Lt,Ue,ce)}add(A){R(A);let{a:U,d:O}=e,{ex:q,ey:Y,ez:Q,et:nt}=this,{ex:X,ey:et,ez:mt,et:yt}=A;if(U===BigInt(-1)){let Ns=u((Y-q)*(et+X)),Ds=u((Y+q)*(et-X)),Gn=u(Ds-Ns);if(Gn===Qt)return this.double();let ks=u(Q*Pn*yt),Ps=u(nt*Pn*mt),Ks=Ps+ks,Us=Ds+Ns,Os=Ps-ks,z0=u(Ks*Gn),G0=u(Us*Os),W0=u(Ks*Os),Y0=u(Gn*Us);return new w(z0,G0,Y0,W0)}let Tt=u(q*X),_t=u(Y*et),bt=u(nt*O*yt),Lt=u(Q*mt),ce=u((q+Y)*(X+et)-Tt-_t),Ue=Lt-bt,Tr=Lt+bt,Ls=u(_t-U*Tt),V0=u(ce*Ue),q0=u(Tr*Ls),F0=u(ce*Ls),H0=u(Ue*Tr);return new w(V0,q0,H0,F0)}subtract(A){return this.add(A.negate())}wNAF(A){return N.wNAFCached(this,b,A,w.normalizeZ)}multiply(A){let{p:U,f:O}=this.wNAF(m(A,n));return w.normalizeZ([U,O])[0]}multiplyUnsafe(A){let U=E(A);return U===Qt?L:this.equals(L)||U===qt?this:this.equals(B)?this.wNAF(U).p:N.unsafeLadder(this,U)}isSmallOrder(){return this.multiplyUnsafe(f).is0()}isTorsionFree(){return N.unsafeLadder(this,n).is0()}toAffine(A){let{ex:U,ey:O,ez:q}=this,Y=this.is0();A==null&&(A=Y?wl:r.inv(q));let Q=u(U*A),nt=u(O*A),X=u(q*A);if(Y)return{x:Qt,y:qt};if(X!==qt)throw new Error("invZ was invalid");return{x:Q,y:nt}}clearCofactor(){let{h:A}=e;return A===qt?this:this.multiplyUnsafe(A)}static fromHex(A,U=!1){let{d:O,a:q}=e,Y=r.BYTES;A=gt("pointHex",A,Y);let Q=A.slice(),nt=A[Y-1];Q[Y-1]=nt&-129;let X=Le(Q);X===Qt||(U?m(X,c):m(X,r.ORDER));let et=u(X*X),mt=u(et-qt),yt=u(O*et-q),{isValid:Tt,value:_t}=h(mt,yt);if(!Tt)throw new Error("Point.fromHex: invalid y coordinate");let bt=(_t&qt)===qt,Lt=(nt&128)!==0;if(!U&&_t===Qt&&Lt)throw new Error("Point.fromHex: x=0 and x_0=1");return Lt!==bt&&(_t=u(-_t)),w.fromAffine({x:_t,y:X})}static fromPrivateKey(A){return V(A).point}toRawBytes(){let{x:A,y:U}=this.toAffine(),O=We(U,r.BYTES);return O[O.length-1]|=A&qt?128:0,O}toHex(){return ye(this.toRawBytes())}}w.BASE=new w(e.Gx,e.Gy,qt,u(e.Gx*e.Gy)),w.ZERO=new w(Qt,qt,qt,Qt);let{BASE:B,ZERO:L}=w,N=kn(w,a*8);function H(D){return at(D,n)}function F(D){return H(Le(D))}function V(D){let A=a;D=gt("private key",D,A);let U=gt("hashed private key",s(D),2*A),O=d(U.slice(0,A)),q=U.slice(A,2*A),Y=F(O),Q=B.multiply(Y),nt=Q.toRawBytes();return{head:O,prefix:q,scalar:Y,point:Q,pointBytes:nt}}function $(D){return V(D).pointBytes}function it(D=new Uint8Array,...A){let U=ge(...A);return F(s(x(U,gt("context",D),!!i)))}function It(D,A,U={}){D=gt("message",D),i&&(D=i(D));let{prefix:O,scalar:q,pointBytes:Y}=V(A),Q=it(U.context,O,D),nt=B.multiply(Q).toRawBytes(),X=it(U.context,nt,Y,D),et=H(Q+X*q);E(et);let mt=ge(nt,We(et,r.BYTES));return gt("result",mt,a*2)}let I=Bl;function k(D,A,U,O=I){let{context:q,zip215:Y}=O,Q=r.BYTES;D=gt("signature",D,2*Q),A=gt("message",A),i&&(A=i(A));let nt=Le(D.slice(Q,2*Q)),X,et,mt;try{X=w.fromHex(U,Y),et=w.fromHex(D.slice(0,Q),Y),mt=B.multiplyUnsafe(nt)}catch{return!1}if(!Y&&X.isSmallOrder())return!1;let yt=it(q,et.toRawBytes(),X.toRawBytes(),A);return et.add(X.multiplyUnsafe(yt)).subtract(mt).clearCofactor().equals(w.ZERO)}return B._setWindowSize(8),{CURVE:e,getPublicKey:$,sign:It,verify:k,ExtendedPoint:w,utils:{getExtendedPublicKey:V,randomPrivateKey:()=>o(r.BYTES),precompute(D=8,A=w.BASE){return A._setWindowSize(D),A.multiply(BigInt(3)),A}}}}var $i=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Uo=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),b1=BigInt(0),Al=BigInt(1),Zi=BigInt(2),Cl=BigInt(5),Oo=BigInt(10),Il=BigInt(20),Tl=BigInt(40),Mo=BigInt(80);function _l(t){let e=$i,n=t*t%e*t%e,i=dt(n,Zi,e)*n%e,s=dt(i,Al,e)*t%e,o=dt(s,Cl,e)*s%e,a=dt(o,Oo,e)*o%e,f=dt(a,Il,e)*a%e,c=dt(f,Tl,e)*f%e,u=dt(c,Mo,e)*c%e,h=dt(u,Mo,e)*c%e,d=dt(h,Oo,e)*o%e;return{pow_p_5_8:dt(d,Zi,e)*t%e,b2:n}}function Rl(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Ll(t,e){let r=$i,n=at(e*e*e,r),i=at(n*n*e,r),s=_l(t*i).pow_p_5_8,o=at(t*n*s,r),a=at(e*o*o,r),f=o,c=at(o*Uo,r),u=a===t,h=a===at(-t,r),d=a===at(-t*Uo,r);return u&&(o=f),(h||d)&&(o=c),Do(o,r)&&(o=at(-o,r)),{isValid:u||h,value:o}}var me=Dn($i,void 0,!0),Qi={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:me,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Mi,randomBytes:pr,adjustScalarBytes:Rl,uvRatio:Ll},xr=Kn(Qi);function Vo(t,e,r){if(e.length>255)throw new Error("Context is too big");return Cn(Ki("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,e.length]),e,t)}var E1=Kn({...Qi,domain:Vo}),w1=Kn({...Qi,domain:Vo,prehash:Mi});var Nl=(me.ORDER+BigInt(3))/BigInt(8),B1=me.pow(Zi,Nl),S1=me.sqrt(me.neg(me.ONE)),A1=(me.ORDER-BigInt(5))/BigInt(8),C1=BigInt(486662);var I1=ko(me,me.neg(BigInt(486664)));var T1=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),_1=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),R1=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),L1=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");var N1=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var gr=32,ve=64,Un=32;async function qo(){let t=xr.utils.randomPrivateKey(),e=xr.getPublicKey(t);return{privateKey:Go(t,e),publicKey:e}}async function Fo(t){if(t.length!==Un)throw new TypeError('"seed" must be 32 bytes in length.');if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, or Uint8Array.');let e=t,r=xr.getPublicKey(e);return{privateKey:Go(e,r),publicKey:r}}async function Ho(t,e){let r=t.subarray(0,Un);return xr.sign(e,r)}async function zo(t,e,r){return xr.verify(e,r,t)}function Go(t,e){let r=new Uint8Array(ve);for(let n=0;n<Un;n++)r[n]=t[n],r[Un+n]=e[n];return r}function Ze(t,e){if(globalThis.Buffer!=null)return He(globalThis.Buffer.concat(t,e));e==null&&(e=t.reduce((i,s)=>i+s.length,0));let r=pe(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return He(r)}var Ut={get(t=globalThis){let e=t.crypto;if(e==null||e.subtle==null)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return e}};var Xi={alg:"A128GCM",ext:!0,k:"scm9jmO_4BJAgdwWGVulLg",key_ops:["encrypt","decrypt"],kty:"oct"};function Ji(t){let e=t?.algorithm??"AES-GCM",r=t?.keyLength??16,n=t?.nonceLength??12,i=t?.digest??"SHA-256",s=t?.saltLength??16,o=t?.iterations??32767,a=Ut.get();r*=8;async function f(h,d){let x=a.getRandomValues(new Uint8Array(s)),l=a.getRandomValues(new Uint8Array(n)),p={name:e,iv:l};typeof d=="string"&&(d=Et(d));let y;if(d.length===0){y=await a.subtle.importKey("jwk",Xi,{name:"AES-GCM"},!0,["encrypt"]);try{let E={name:"PBKDF2",salt:x,iterations:o,hash:{name:i}},b=await a.subtle.importKey("raw",d,{name:"PBKDF2"},!1,["deriveKey"]);y=await a.subtle.deriveKey(E,b,{name:e,length:r},!0,["encrypt"])}catch{y=await a.subtle.importKey("jwk",Xi,{name:"AES-GCM"},!0,["encrypt"])}}else{let E={name:"PBKDF2",salt:x,iterations:o,hash:{name:i}},b=await a.subtle.importKey("raw",d,{name:"PBKDF2"},!1,["deriveKey"]);y=await a.subtle.deriveKey(E,b,{name:e,length:r},!0,["encrypt"])}let m=await a.subtle.encrypt(p,y,h);return Ze([x,p.iv,new Uint8Array(m)])}async function c(h,d){let x=h.subarray(0,s),l=h.subarray(s,s+n),p=h.subarray(s+n),y={name:e,iv:l};typeof d=="string"&&(d=Et(d));let m;if(d.length===0)try{let b={name:"PBKDF2",salt:x,iterations:o,hash:{name:i}},R=await a.subtle.importKey("raw",d,{name:"PBKDF2"},!1,["deriveKey"]);m=await a.subtle.deriveKey(b,R,{name:e,length:r},!0,["decrypt"])}catch{m=await a.subtle.importKey("jwk",Xi,{name:"AES-GCM"},!0,["decrypt"])}else{let b={name:"PBKDF2",salt:x,iterations:o,hash:{name:i}},R=await a.subtle.importKey("raw",d,{name:"PBKDF2"},!1,["deriveKey"]);m=await a.subtle.deriveKey(b,R,{name:e,length:r},!0,["decrypt"])}let E=await a.subtle.decrypt(y,m,p);return new Uint8Array(E)}return{encrypt:f,decrypt:c}}async function mr(t,e){let n=await Ji().encrypt(t,e);return En.encode(n)}var ji=new Float32Array([-0]),De=new Uint8Array(ji.buffer);function Yo(t,e,r){ji[0]=t,e[r]=De[0],e[r+1]=De[1],e[r+2]=De[2],e[r+3]=De[3]}function Zo(t,e){return De[0]=t[e],De[1]=t[e+1],De[2]=t[e+2],De[3]=t[e+3],ji[0]}var ts=new Float64Array([-0]),Nt=new Uint8Array(ts.buffer);function $o(t,e,r){ts[0]=t,e[r]=Nt[0],e[r+1]=Nt[1],e[r+2]=Nt[2],e[r+3]=Nt[3],e[r+4]=Nt[4],e[r+5]=Nt[5],e[r+6]=Nt[6],e[r+7]=Nt[7]}function Qo(t,e){return Nt[0]=t[e],Nt[1]=t[e+1],Nt[2]=t[e+2],Nt[3]=t[e+3],Nt[4]=t[e+4],Nt[5]=t[e+5],Nt[6]=t[e+6],Nt[7]=t[e+7],ts[0]}var kl=BigInt(Number.MAX_SAFE_INTEGER),Pl=BigInt(Number.MIN_SAFE_INTEGER),Ot=class t{lo;hi;constructor(e,r){this.lo=e|0,this.hi=r|0}toNumber(e=!1){if(!e&&this.hi>>>31>0){let r=~this.lo+1>>>0,n=~this.hi>>>0;return r===0&&(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296}toBigInt(e=!1){if(e)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31){let r=~this.lo+1>>>0,n=~this.hi>>>0;return r===0&&(n=n+1>>>0),-(BigInt(r)+(BigInt(n)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toString(e=!1){return this.toBigInt(e).toString()}zzEncode(){let e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this}zzDecode(){let e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this}length(){let e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}static fromBigInt(e){if(e===0n)return $e;if(e<kl&&e>Pl)return this.fromNumber(Number(e));let r=e<0n;r&&(e=-e);let n=e>>32n,i=e-(n<<32n);return r&&(n=~n|0n,i=~i|0n,++i>Xo&&(i=0n,++n>Xo&&(n=0n))),new t(Number(i),Number(n))}static fromNumber(e){if(e===0)return $e;let r=e<0;r&&(e=-e);let n=e>>>0,i=(e-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new t(n,i)}static from(e){return typeof e=="number"?t.fromNumber(e):typeof e=="bigint"?t.fromBigInt(e):typeof e=="string"?t.fromBigInt(BigInt(e)):e.low!=null||e.high!=null?new t(e.low>>>0,e.high>>>0):$e}},$e=new Ot(0,0);$e.toBigInt=function(){return 0n};$e.zzEncode=$e.zzDecode=function(){return this};$e.length=function(){return 1};var Xo=4294967296n;function Jo(t){let e=0,r=0;for(let n=0;n<t.length;++n)r=t.charCodeAt(n),r<128?e+=1:r<2048?e+=2:(r&64512)===55296&&(t.charCodeAt(n+1)&64512)===56320?(++n,e+=4):e+=3;return e}function jo(t,e,r){if(r-e<1)return"";let i,s=[],o=0,a;for(;e<r;)a=t[e++],a<128?s[o++]=a:a>191&&a<224?s[o++]=(a&31)<<6|t[e++]&63:a>239&&a<365?(a=((a&7)<<18|(t[e++]&63)<<12|(t[e++]&63)<<6|t[e++]&63)-65536,s[o++]=55296+(a>>10),s[o++]=56320+(a&1023)):s[o++]=(a&15)<<12|(t[e++]&63)<<6|t[e++]&63,o>8191&&((i??(i=[])).push(String.fromCharCode.apply(String,s)),o=0);return i!=null?(o>0&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))}function es(t,e,r){let n=r,i,s;for(let o=0;o<t.length;++o)i=t.charCodeAt(o),i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&((s=t.charCodeAt(o+1))&64512)===56320?(i=65536+((i&1023)<<10)+(s&1023),++o,e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128);return r-n}function Xt(t,e){return RangeError(`index out of range: ${t.pos} + ${e??1} > ${t.len}`)}function On(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}var rs=class{buf;pos;len;_slice=Uint8Array.prototype.subarray;constructor(e){this.buf=e,this.pos=0,this.len=e.length}uint32(){let e=4294967295;if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Xt(this,10);return e}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)|0}bool(){return this.uint32()!==0}fixed32(){if(this.pos+4>this.len)throw Xt(this,4);return On(this.buf,this.pos+=4)}sfixed32(){if(this.pos+4>this.len)throw Xt(this,4);return On(this.buf,this.pos+=4)|0}float(){if(this.pos+4>this.len)throw Xt(this,4);let e=Zo(this.buf,this.pos);return this.pos+=4,e}double(){if(this.pos+8>this.len)throw Xt(this,4);let e=Qo(this.buf,this.pos);return this.pos+=8,e}bytes(){let e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw Xt(this,e);return this.pos+=e,r===n?new Uint8Array(0):this.buf.subarray(r,n)}string(){let e=this.bytes();return jo(e,0,e.length)}skip(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Xt(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Xt(this);while(this.buf[this.pos++]&128);return this}skipType(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error(`invalid wire type ${e} at offset ${this.pos}`)}return this}readLongVarint(){let e=new Ot(0,0),r=0;if(this.len-this.pos>4){for(;r<4;++r)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<r*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;r=0}else{for(;r<3;++r){if(this.pos>=this.len)throw Xt(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<r*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<r*7)>>>0,e}if(this.len-this.pos>4){for(;r<5;++r)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<r*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;r<5;++r){if(this.pos>=this.len)throw Xt(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<r*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}readFixed64(){if(this.pos+8>this.len)throw Xt(this,8);let e=On(this.buf,this.pos+=4),r=On(this.buf,this.pos+=4);return new Ot(e,r)}int64(){return this.readLongVarint().toBigInt()}int64Number(){return this.readLongVarint().toNumber()}int64String(){return this.readLongVarint().toString()}uint64(){return this.readLongVarint().toBigInt(!0)}uint64Number(){return this.readLongVarint().toNumber(!0)}uint64String(){return this.readLongVarint().toString(!0)}sint64(){return this.readLongVarint().zzDecode().toBigInt()}sint64Number(){return this.readLongVarint().zzDecode().toNumber()}sint64String(){return this.readLongVarint().zzDecode().toString()}fixed64(){return this.readFixed64().toBigInt()}fixed64Number(){return this.readFixed64().toNumber()}fixed64String(){return this.readFixed64().toString()}sfixed64(){return this.readFixed64().toBigInt()}sfixed64Number(){return this.readFixed64().toNumber()}sfixed64String(){return this.readFixed64().toString()}};function ns(t){return new rs(t instanceof Uint8Array?t:t.subarray())}function vr(t,e){let r=ns(t);return e.decode(r)}function is(t){let e=t??8192,r=e>>>1,n,i=e;return function(o){if(o<1||o>r)return pe(o);i+o>e&&(n=pe(e),i=0);let a=n.subarray(i,i+=o);return i&7&&(i=(i|7)+1),a}}var Qe=class{fn;len;next;val;constructor(e,r,n){this.fn=e,this.len=r,this.next=void 0,this.val=n}};function ss(){}var os=class{head;tail;len;next;constructor(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}},Kl=is();function Ul(t){return globalThis.Buffer!=null?pe(t):Kl(t)}var zr=class{len;head;tail;states;constructor(){this.len=0,this.head=new Qe(ss,0,0),this.tail=this.head,this.states=null}_push(e,r,n){return this.tail=this.tail.next=new Qe(e,r,n),this.len+=r,this}uint32(e){return this.len+=(this.tail=this.tail.next=new fs((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this}int32(e){return e<0?this._push(Fr,10,Ot.fromNumber(e)):this.uint32(e)}sint32(e){return this.uint32((e<<1^e>>31)>>>0)}uint64(e){let r=Ot.fromBigInt(e);return this._push(Fr,r.length(),r)}uint64Number(e){let r=Ot.fromNumber(e);return this._push(Fr,r.length(),r)}uint64String(e){return this.uint64(BigInt(e))}int64(e){return this.uint64(e)}int64Number(e){return this.uint64Number(e)}int64String(e){return this.uint64String(e)}sint64(e){let r=Ot.fromBigInt(e).zzEncode();return this._push(Fr,r.length(),r)}sint64Number(e){let r=Ot.fromNumber(e).zzEncode();return this._push(Fr,r.length(),r)}sint64String(e){return this.sint64(BigInt(e))}bool(e){return this._push(as,1,e?1:0)}fixed32(e){return this._push(Hr,4,e>>>0)}sfixed32(e){return this.fixed32(e)}fixed64(e){let r=Ot.fromBigInt(e);return this._push(Hr,4,r.lo)._push(Hr,4,r.hi)}fixed64Number(e){let r=Ot.fromNumber(e);return this._push(Hr,4,r.lo)._push(Hr,4,r.hi)}fixed64String(e){return this.fixed64(BigInt(e))}sfixed64(e){return this.fixed64(e)}sfixed64Number(e){return this.fixed64Number(e)}sfixed64String(e){return this.fixed64String(e)}float(e){return this._push(Yo,4,e)}double(e){return this._push($o,8,e)}bytes(e){let r=e.length>>>0;return r===0?this._push(as,1,0):this.uint32(r)._push(Ml,r,e)}string(e){let r=Jo(e);return r!==0?this.uint32(r)._push(es,r,e):this._push(as,1,0)}fork(){return this.states=new os(this),this.head=this.tail=new Qe(ss,0,0),this.len=0,this}reset(){return this.states!=null?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Qe(ss,0,0),this.len=0),this}ldelim(){let e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n!==0&&(this.tail.next=e.next,this.tail=r,this.len+=n),this}finish(){let e=this.head.next,r=Ul(this.len),n=0;for(;e!=null;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r}};function as(t,e,r){e[r]=t&255}function Ol(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}var fs=class extends Qe{next;constructor(e,r){super(Ol,e,r),this.next=void 0}};function Fr(t,e,r){for(;t.hi!==0;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}function Hr(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function Ml(t,e,r){e.set(t,r)}globalThis.Buffer!=null&&(zr.prototype.bytes=function(t){let e=t.length>>>0;return this.uint32(e),e>0&&this._push(Vl,e,t),this},zr.prototype.string=function(t){let e=globalThis.Buffer.byteLength(t);return this.uint32(e),e>0&&this._push(ql,e,t),this});function Vl(t,e,r){e.set(t,r)}function ql(t,e,r){t.length<40?es(t,e,r):e.utf8Write!=null?e.utf8Write(t,r):e.set(Et(t),r)}function cs(){return new zr}function br(t,e){let r=cs();return e.encode(t,r,{lengthDelimited:!1}),r.finish()}var Er;(function(t){t[t.VARINT=0]="VARINT",t[t.BIT64=1]="BIT64",t[t.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",t[t.START_GROUP=3]="START_GROUP",t[t.END_GROUP=4]="END_GROUP",t[t.BIT32=5]="BIT32"})(Er||(Er={}));function Mn(t,e,r,n){return{name:t,type:e,encode:r,decode:n}}function us(t){function e(i){if(t[i.toString()]==null)throw new Error("Invalid enum value");return t[i]}let r=function(s,o){let a=e(s);o.int32(a)},n=function(s){let o=s.int32();return e(o)};return Mn("enum",Er.VARINT,r,n)}function wr(t,e){return Mn("message",Er.LENGTH_DELIMITED,t,e)}var pt;(function(t){t.RSA="RSA",t.Ed25519="Ed25519",t.Secp256k1="Secp256k1"})(pt||(pt={}));var hs;(function(t){t[t.RSA=0]="RSA",t[t.Ed25519=1]="Ed25519",t[t.Secp256k1=2]="Secp256k1"})(hs||(hs={}));(function(t){t.codec=()=>us(hs)})(pt||(pt={}));var oe;(function(t){let e;t.codec=()=>(e==null&&(e=wr((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),r.Type!=null&&(n.uint32(8),pt.codec().encode(r.Type,n)),r.Data!=null&&(n.uint32(18),n.bytes(r.Data)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={},s=n==null?r.len:r.pos+n;for(;r.pos<s;){let o=r.uint32();switch(o>>>3){case 1:i.Type=pt.codec().decode(r);break;case 2:i.Data=r.bytes();break;default:r.skipType(o&7);break}}return i})),e),t.encode=r=>br(r,t.codec()),t.decode=r=>vr(r,t.codec())})(oe||(oe={}));var fe;(function(t){let e;t.codec=()=>(e==null&&(e=wr((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),r.Type!=null&&(n.uint32(8),pt.codec().encode(r.Type,n)),r.Data!=null&&(n.uint32(18),n.bytes(r.Data)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={},s=n==null?r.len:r.pos+n;for(;r.pos<s;){let o=r.uint32();switch(o>>>3){case 1:i.Type=pt.codec().decode(r);break;case 2:i.Data=r.bytes();break;default:r.skipType(o&7);break}}return i})),e),t.encode=r=>br(r,t.codec()),t.decode=r=>vr(r,t.codec())})(fe||(fe={}));var Gr=class{_key;constructor(e){this._key=Br(e,gr)}async verify(e,r){return zo(this._key,r,e)}marshal(){return this._key}get bytes(){return oe.encode({Type:pt.Ed25519,Data:this.marshal()}).subarray()}equals(e){return Vt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Rt.digest(this.bytes);return e}},Xe=class{_key;_publicKey;constructor(e,r){this._key=Br(e,ve),this._publicKey=Br(r,gr)}async sign(e){return Ho(this._key,e)}get public(){return new Gr(this._publicKey)}marshal(){return this._key}get bytes(){return fe.encode({Type:pt.Ed25519,Data:this.marshal()}).subarray()}equals(e){return Vt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Rt.digest(this.bytes);return e}async id(){let e=Te.digest(this.public.bytes);return Pt.encode(e.bytes).substring(1)}async export(e,r="libp2p-key"){if(r==="libp2p-key")return mr(this.bytes,e);throw new j(`export format '${r}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}};function Fl(t){if(t.length>ve){t=Br(t,ve+gr);let n=t.subarray(0,ve),i=t.subarray(ve,t.length);return new Xe(n,i)}t=Br(t,ve);let e=t.subarray(0,ve),r=t.subarray(gr);return new Xe(e,r)}function Hl(t){return t=Br(t,gr),new Gr(t)}async function zl(){let{privateKey:t,publicKey:e}=await qo();return new Xe(t,e)}async function e0(t){let{privateKey:e,publicKey:r}=await Fo(t);return new Xe(e,r)}function Br(t,e){if(t=Uint8Array.from(t??[]),t.length!==e)throw new j(`Key must be a Uint8Array of length ${e}, got ${t.length}`,"ERR_INVALID_KEY_TYPE");return t}function Ft(t,e="utf8"){let r=Bn[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var Ty=Mt(vt(),1),_y=Mt(gn(),1),r0=Mt(st(),1);function Jt(t,e){let r=Uint8Array.from(t.abs().toByteArray());if(r=r[0]===0?r.subarray(1):r,e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=Ze([new Uint8Array(e-r.length),r])}return Ft(r,"base64url")}function Ht(t){let e=n0(t);return new r0.default.jsbn.BigInteger(Ft(e,"base16"),16)}function n0(t,e){let r=Et(t,"base64urlpad");if(e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=Ze([new Uint8Array(e-r.length),r])}return r}var Gl={"P-256":256,"P-384":384,"P-521":521},Wl=Object.keys(Gl),Vy=Wl.join(" / ");var gs={};Bt(gs,{MAX_KEY_SIZE:()=>$r,RsaPrivateKey:()=>Sr,RsaPublicKey:()=>Zr,fromJwk:()=>nd,generateKeyPair:()=>id,unmarshalRsaPrivateKey:()=>ed,unmarshalRsaPublicKey:()=>rd});var Yr=Mt(st(),1);var S2=Mt(f0(),1);function qn(t){if(isNaN(t)||t<=0)throw new j("random bytes length must be a Number bigger than 0","ERR_INVALID_LENGTH");return pr(t)}var a2=Mt(bn(),1),ys=Mt(st(),1);function c0(t,e){return e.map(r=>Ht(t[r]))}function u0(t){return ys.default.pki.setRsaPrivateKey(...c0(t,["n","e","d","p","q","dp","dq","qi"]))}function h0(t){return ys.default.pki.setRsaPublicKey(...c0(t,["n","e"]))}var je={};Bt(je,{jwkToPkcs1:()=>Ql,jwkToPkix:()=>Jl,pkcs1ToJwk:()=>$l,pkixToJwk:()=>Xl});var c2=Mt(Nr(),1),u2=Mt(bn(),1);var be=Mt(st(),1);function $l(t){let e=be.default.asn1.fromDer(Ft(t,"ascii")),r=be.default.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:Jt(r.n),e:Jt(r.e),d:Jt(r.d),p:Jt(r.p),q:Jt(r.q),dp:Jt(r.dP),dq:Jt(r.dQ),qi:Jt(r.qInv),alg:"RS256"}}function Ql(t){if(t.n==null||t.e==null||t.d==null||t.p==null||t.q==null||t.dp==null||t.dq==null||t.qi==null)throw new j("JWK was missing components","ERR_INVALID_PARAMETERS");let e=be.default.pki.privateKeyToAsn1({n:Ht(t.n),e:Ht(t.e),d:Ht(t.d),p:Ht(t.p),q:Ht(t.q),dP:Ht(t.dp),dQ:Ht(t.dq),qInv:Ht(t.qi)});return Et(be.default.asn1.toDer(e).getBytes(),"ascii")}function Xl(t){let e=be.default.asn1.fromDer(Ft(t,"ascii")),r=be.default.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:Jt(r.n),e:Jt(r.e)}}function Jl(t){if(t.n==null||t.e==null)throw new j("JWK was missing components","ERR_INVALID_PARAMETERS");let e=be.default.pki.publicKeyToAsn1({n:Ht(t.n),e:Ht(t.e)});return Et(be.default.asn1.toDer(e).getBytes(),"ascii")}async function l0(t){let e=await Ut.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),r=await y0(e);return{privateKey:r[0],publicKey:r[1]}}async function xs(t){let r=[await Ut.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await jl(t)],n=await y0({privateKey:r[0],publicKey:r[1]});return{privateKey:n[0],publicKey:n[1]}}async function d0(t,e){let r=await Ut.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),n=await Ut.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},r,Uint8Array.from(e));return new Uint8Array(n,0,n.byteLength)}async function p0(t,e,r){let n=await Ut.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return Ut.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},n,e,r)}async function y0(t){if(t.privateKey==null||t.publicKey==null)throw new j("Private and public key are required","ERR_INVALID_PARAMETERS");return Promise.all([Ut.get().subtle.exportKey("jwk",t.privateKey),Ut.get().subtle.exportKey("jwk",t.publicKey)])}async function jl(t){return Ut.get().subtle.importKey("jwk",{kty:t.kty,n:t.n,e:t.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}function x0(t,e,r,n){let i=e?h0(t):u0(t),s=Ft(Uint8Array.from(r),"ascii"),o=n(s,i);return Et(o,"ascii")}function g0(t,e){return x0(t,!0,e,(r,n)=>n.encrypt(r))}function m0(t,e){return x0(t,!1,e,(r,n)=>n.decrypt(r))}function Fn(t){if(t.kty!=="RSA")throw new j("invalid key type","ERR_INVALID_KEY_TYPE");if(t.n==null)throw new j("invalid key modulus","ERR_INVALID_KEY_MODULUS");return Et(t.n,"base64url").length*8}var $r=8192,Zr=class{_key;constructor(e){this._key=e}async verify(e,r){return p0(this._key,r,e)}marshal(){return je.jwkToPkix(this._key)}get bytes(){return oe.encode({Type:pt.RSA,Data:this.marshal()}).subarray()}encrypt(e){return g0(this._key,e)}equals(e){return Vt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Rt.digest(this.bytes);return e}},Sr=class{_key;_publicKey;constructor(e,r){this._key=e,this._publicKey=r}genSecret(){return qn(16)}async sign(e){return d0(this._key,e)}get public(){if(this._publicKey==null)throw new j("public key not provided","ERR_PUBKEY_NOT_PROVIDED");return new Zr(this._publicKey)}decrypt(e){return m0(this._key,e)}marshal(){return je.jwkToPkcs1(this._key)}get bytes(){return fe.encode({Type:pt.RSA,Data:this.marshal()}).subarray()}equals(e){return Vt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Rt.digest(this.bytes);return e}async id(){let e=await this.public.hash();return Ft(e,"base58btc")}async export(e,r="pkcs-8"){if(r==="pkcs-8"){let n=new Yr.default.util.ByteBuffer(this.marshal()),i=Yr.default.asn1.fromDer(n),s=Yr.default.pki.privateKeyFromAsn1(i),o={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return Yr.default.pki.encryptRsaPrivateKey(s,e,o)}else{if(r==="libp2p-key")return mr(this.bytes,e);throw new j(`export format '${r}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}}};async function ed(t){let e=je.pkcs1ToJwk(t);if(Fn(e)>$r)throw new j("key size is too large","ERR_KEY_SIZE_TOO_LARGE");let r=await xs(e);return new Sr(r.privateKey,r.publicKey)}function rd(t){let e=je.pkixToJwk(t);if(Fn(e)>$r)throw new j("key size is too large","ERR_KEY_SIZE_TOO_LARGE");return new Zr(e)}async function nd(t){if(Fn(t)>$r)throw new j("key size is too large","ERR_KEY_SIZE_TOO_LARGE");let e=await xs(t);return new Sr(e.privateKey,e.publicKey)}async function id(t){if(t>$r)throw new j("key size is too large","ERR_KEY_SIZE_TOO_LARGE");let e=await l0(t);return new Sr(e.privateKey,e.publicKey)}var Bs={};Bt(Bs,{Secp256k1PrivateKey:()=>Xr,Secp256k1PublicKey:()=>Qr,generateKeyPair:()=>vd,unmarshalSecp256k1PrivateKey:()=>gd,unmarshalSecp256k1PublicKey:()=>md});var sd=(t,e,r)=>t&e^~t&r,ad=(t,e,r)=>t&e^t&r^e&r,od=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ke=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Pe=new Uint32Array(64),ms=class extends yr{constructor(){super(64,32,8,!1),this.A=ke[0]|0,this.B=ke[1]|0,this.C=ke[2]|0,this.D=ke[3]|0,this.E=ke[4]|0,this.F=ke[5]|0,this.G=ke[6]|0,this.H=ke[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:f}=this;return[e,r,n,i,s,o,a,f]}set(e,r,n,i,s,o,a,f){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=f|0}process(e,r){for(let h=0;h<16;h++,r+=4)Pe[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){let d=Pe[h-15],x=Pe[h-2],l=$t(d,7)^$t(d,18)^d>>>3,p=$t(x,17)^$t(x,19)^x>>>10;Pe[h]=p+Pe[h-7]+l+Pe[h-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:f,G:c,H:u}=this;for(let h=0;h<64;h++){let d=$t(a,6)^$t(a,11)^$t(a,25),x=u+d+sd(a,f,c)+od[h]+Pe[h]|0,p=($t(n,2)^$t(n,13)^$t(n,22))+ad(n,i,s)|0;u=c,c=f,f=a,a=o+x|0,o=s,s=i,i=n,n=x+p|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,f=f+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,f,c,u)}roundClean(){Pe.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var v0=In(()=>new ms);function fd(t){let e=qr(t);ae(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:cd,hexToBytes:ud}=Ln,tr={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=tr;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:cd(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=tr,r=typeof t=="string"?ud(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:s}=tr._parseInt(r.subarray(2)),{d:o,l:a}=tr._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){let e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,r=c=>{let u=c.toString(16);return u.length&1?`0${u}`:u},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,o=i.length/2,a=r(s),f=r(o);return`30${r(o+s+4)}02${f}${i}02${a}${n}`}},Ee=BigInt(0),Wt=BigInt(1),D2=BigInt(2),b0=BigInt(3),k2=BigInt(4);function hd(t){let e=fd(t),{Fp:r}=e,n=e.toBytes||((l,p,y)=>{let m=p.toAffine();return ge(Uint8Array.from([4]),r.toBytes(m.x),r.toBytes(m.y))}),i=e.fromBytes||(l=>{let p=l.subarray(1),y=r.fromBytes(p.subarray(0,r.BYTES)),m=r.fromBytes(p.subarray(r.BYTES,2*r.BYTES));return{x:y,y:m}});function s(l){let{a:p,b:y}=e,m=r.sqr(l),E=r.mul(m,l);return r.add(r.add(E,r.mul(l,p)),y)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(l){return typeof l=="bigint"&&Ee<l&&l<e.n}function a(l){if(!o(l))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function f(l){let{allowedPrivateKeyLengths:p,nByteLength:y,wrapPrivateKey:m,n:E}=e;if(p&&typeof l!="bigint"){if(l instanceof Uint8Array&&(l=ye(l)),typeof l!="string"||!p.includes(l.length))throw new Error("Invalid key");l=l.padStart(y*2,"0")}let b;try{b=typeof l=="bigint"?l:xe(gt("private key",l,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof l}`)}return m&&(b=at(b,E)),a(b),b}let c=new Map;function u(l){if(!(l instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(p,y,m){if(this.px=p,this.py=y,this.pz=m,p==null||!r.isValid(p))throw new Error("x required");if(y==null||!r.isValid(y))throw new Error("y required");if(m==null||!r.isValid(m))throw new Error("z required")}static fromAffine(p){let{x:y,y:m}=p||{};if(!p||!r.isValid(y)||!r.isValid(m))throw new Error("invalid affine point");if(p instanceof h)throw new Error("projective point not allowed");let E=b=>r.eql(b,r.ZERO);return E(y)&&E(m)?h.ZERO:new h(y,m,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(p){let y=r.invertBatch(p.map(m=>m.pz));return p.map((m,E)=>m.toAffine(y[E])).map(h.fromAffine)}static fromHex(p){let y=h.fromAffine(i(gt("pointHex",p)));return y.assertValidity(),y}static fromPrivateKey(p){return h.BASE.multiply(f(p))}_setWindowSize(p){this._WINDOW_SIZE=p,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:p,y}=this.toAffine();if(!r.isValid(p)||!r.isValid(y))throw new Error("bad point: x or y not FE");let m=r.sqr(y),E=s(p);if(!r.eql(m,E))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:p}=this.toAffine();if(r.isOdd)return!r.isOdd(p);throw new Error("Field doesn't support isOdd")}equals(p){u(p);let{px:y,py:m,pz:E}=this,{px:b,py:R,pz:w}=p,B=r.eql(r.mul(y,w),r.mul(b,E)),L=r.eql(r.mul(m,w),r.mul(R,E));return B&&L}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){let{a:p,b:y}=e,m=r.mul(y,b0),{px:E,py:b,pz:R}=this,w=r.ZERO,B=r.ZERO,L=r.ZERO,N=r.mul(E,E),H=r.mul(b,b),F=r.mul(R,R),V=r.mul(E,b);return V=r.add(V,V),L=r.mul(E,R),L=r.add(L,L),w=r.mul(p,L),B=r.mul(m,F),B=r.add(w,B),w=r.sub(H,B),B=r.add(H,B),B=r.mul(w,B),w=r.mul(V,w),L=r.mul(m,L),F=r.mul(p,F),V=r.sub(N,F),V=r.mul(p,V),V=r.add(V,L),L=r.add(N,N),N=r.add(L,N),N=r.add(N,F),N=r.mul(N,V),B=r.add(B,N),F=r.mul(b,R),F=r.add(F,F),N=r.mul(F,V),w=r.sub(w,N),L=r.mul(F,H),L=r.add(L,L),L=r.add(L,L),new h(w,B,L)}add(p){u(p);let{px:y,py:m,pz:E}=this,{px:b,py:R,pz:w}=p,B=r.ZERO,L=r.ZERO,N=r.ZERO,H=e.a,F=r.mul(e.b,b0),V=r.mul(y,b),$=r.mul(m,R),it=r.mul(E,w),It=r.add(y,m),I=r.add(b,R);It=r.mul(It,I),I=r.add(V,$),It=r.sub(It,I),I=r.add(y,E);let k=r.add(b,w);return I=r.mul(I,k),k=r.add(V,it),I=r.sub(I,k),k=r.add(m,E),B=r.add(R,w),k=r.mul(k,B),B=r.add($,it),k=r.sub(k,B),N=r.mul(H,I),B=r.mul(F,it),N=r.add(B,N),B=r.sub($,N),N=r.add($,N),L=r.mul(B,N),$=r.add(V,V),$=r.add($,V),it=r.mul(H,it),I=r.mul(F,I),$=r.add($,it),it=r.sub(V,it),it=r.mul(H,it),I=r.add(I,it),V=r.mul($,I),L=r.add(L,V),V=r.mul(k,I),B=r.mul(It,B),B=r.sub(B,V),V=r.mul(It,$),N=r.mul(k,N),N=r.add(N,V),new h(B,L,N)}subtract(p){return this.add(p.negate())}is0(){return this.equals(h.ZERO)}wNAF(p){return x.wNAFCached(this,c,p,y=>{let m=r.invertBatch(y.map(E=>E.pz));return y.map((E,b)=>E.toAffine(m[b])).map(h.fromAffine)})}multiplyUnsafe(p){let y=h.ZERO;if(p===Ee)return y;if(a(p),p===Wt)return this;let{endo:m}=e;if(!m)return x.unsafeLadder(this,p);let{k1neg:E,k1:b,k2neg:R,k2:w}=m.splitScalar(p),B=y,L=y,N=this;for(;b>Ee||w>Ee;)b&Wt&&(B=B.add(N)),w&Wt&&(L=L.add(N)),N=N.double(),b>>=Wt,w>>=Wt;return E&&(B=B.negate()),R&&(L=L.negate()),L=new h(r.mul(L.px,m.beta),L.py,L.pz),B.add(L)}multiply(p){a(p);let y=p,m,E,{endo:b}=e;if(b){let{k1neg:R,k1:w,k2neg:B,k2:L}=b.splitScalar(y),{p:N,f:H}=this.wNAF(w),{p:F,f:V}=this.wNAF(L);N=x.constTimeNegate(R,N),F=x.constTimeNegate(B,F),F=new h(r.mul(F.px,b.beta),F.py,F.pz),m=N.add(F),E=H.add(V)}else{let{p:R,f:w}=this.wNAF(y);m=R,E=w}return h.normalizeZ([m,E])[0]}multiplyAndAddUnsafe(p,y,m){let E=h.BASE,b=(w,B)=>B===Ee||B===Wt||!w.equals(E)?w.multiplyUnsafe(B):w.multiply(B),R=b(this,y).add(b(p,m));return R.is0()?void 0:R}toAffine(p){let{px:y,py:m,pz:E}=this,b=this.is0();p==null&&(p=b?r.ONE:r.inv(E));let R=r.mul(y,p),w=r.mul(m,p),B=r.mul(E,p);if(b)return{x:r.ZERO,y:r.ZERO};if(!r.eql(B,r.ONE))throw new Error("invZ was invalid");return{x:R,y:w}}isTorsionFree(){let{h:p,isTorsionFree:y}=e;if(p===Wt)return!0;if(y)return y(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:p,clearCofactor:y}=e;return p===Wt?this:y?y(h,this):this.multiplyUnsafe(e.h)}toRawBytes(p=!0){return this.assertValidity(),n(h,this,p)}toHex(p=!0){return ye(this.toRawBytes(p))}}h.BASE=new h(e.Gx,e.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);let d=e.nBitLength,x=kn(h,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:f,weierstrassEquation:s,isWithinCurveOrder:o}}function ld(t){let e=qr(t);return ae(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function E0(t){let e=ld(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(I){return Ee<I&&I<r.ORDER}function a(I){return at(I,n)}function f(I){return Nn(I,n)}let{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:h,isWithinCurveOrder:d}=hd({...e,toBytes(I,k,_){let D=k.toAffine(),A=r.toBytes(D.x),U=ge;return _?U(Uint8Array.from([k.hasEvenY()?2:3]),A):U(Uint8Array.from([4]),A,r.toBytes(D.y))},fromBytes(I){let k=I.length,_=I[0],D=I.subarray(1);if(k===i&&(_===2||_===3)){let A=xe(D);if(!o(A))throw new Error("Point is not on curve");let U=h(A),O=r.sqrt(U),q=(O&Wt)===Wt;return(_&1)===1!==q&&(O=r.neg(O)),{x:A,y:O}}else if(k===s&&_===4){let A=r.fromBytes(D.subarray(0,r.BYTES)),U=r.fromBytes(D.subarray(r.BYTES,2*r.BYTES));return{x:A,y:U}}else throw new Error(`Point of length ${k} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),x=I=>ye(Ne(I,e.nByteLength));function l(I){let k=n>>Wt;return I>k}function p(I){return l(I)?a(-I):I}let y=(I,k,_)=>xe(I.slice(k,_));class m{constructor(k,_,D){this.r=k,this.s=_,this.recovery=D,this.assertValidity()}static fromCompact(k){let _=e.nByteLength;return k=gt("compactSignature",k,_*2),new m(y(k,0,_),y(k,_,2*_))}static fromDER(k){let{r:_,s:D}=tr.toSig(gt("DER",k));return new m(_,D)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(k){return new m(this.r,this.s,k)}recoverPublicKey(k){let{r:_,s:D,recovery:A}=this,U=L(gt("msgHash",k));if(A==null||![0,1,2,3].includes(A))throw new Error("recovery id invalid");let O=A===2||A===3?_+e.n:_;if(O>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let q=A&1?"03":"02",Y=c.fromHex(q+x(O)),Q=f(O),nt=a(-U*Q),X=a(D*Q),et=c.BASE.multiplyAndAddUnsafe(Y,nt,X);if(!et)throw new Error("point at infinify");return et.assertValidity(),et}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Ge(this.toDERHex())}toDERHex(){return tr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ge(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}let E={isValidPrivateKey(I){try{return u(I),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let I=Wi(e.n);return Ko(e.randomBytes(I),e.n)},precompute(I=8,k=c.BASE){return k._setWindowSize(I),k.multiply(BigInt(3)),k}};function b(I,k=!0){return c.fromPrivateKey(I).toRawBytes(k)}function R(I){let k=I instanceof Uint8Array,_=typeof I=="string",D=(k||_)&&I.length;return k?D===i||D===s:_?D===2*i||D===2*s:I instanceof c}function w(I,k,_=!0){if(R(I))throw new Error("first arg must be private key");if(!R(k))throw new Error("second arg must be public key");return c.fromHex(k).multiply(u(I)).toRawBytes(_)}let B=e.bits2int||function(I){let k=xe(I),_=I.length*8-e.nBitLength;return _>0?k>>BigInt(_):k},L=e.bits2int_modN||function(I){return a(B(I))},N=Vr(e.nBitLength);function H(I){if(typeof I!="bigint")throw new Error("bigint expected");if(!(Ee<=I&&I<N))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ne(I,e.nByteLength)}function F(I,k,_=V){if(["recovered","canonical"].some(yt=>yt in _))throw new Error("sign() legacy options not supported");let{hash:D,randomBytes:A}=e,{lowS:U,prehash:O,extraEntropy:q}=_;U==null&&(U=!0),I=gt("msgHash",I),O&&(I=gt("prehashed msgHash",D(I)));let Y=L(I),Q=u(k),nt=[H(Q),H(Y)];if(q!=null){let yt=q===!0?A(r.BYTES):q;nt.push(gt("extraEntropy",yt))}let X=ge(...nt),et=Y;function mt(yt){let Tt=B(yt);if(!d(Tt))return;let _t=f(Tt),bt=c.BASE.multiply(Tt).toAffine(),Lt=a(bt.x);if(Lt===Ee)return;let ce=a(_t*a(et+Lt*Q));if(ce===Ee)return;let Ue=(bt.x===Lt?0:2)|Number(bt.y&Wt),Tr=ce;return U&&l(ce)&&(Tr=p(ce),Ue^=1),new m(Lt,Tr,Ue)}return{seed:X,k2sig:mt}}let V={lowS:e.lowS,prehash:!1},$={lowS:e.lowS,prehash:!1};function it(I,k,_=V){let{seed:D,k2sig:A}=F(I,k,_),U=e;return Fi(U.hash.outputLen,U.nByteLength,U.hmac)(D,A)}c.BASE._setWindowSize(8);function It(I,k,_,D=$){let A=I;if(k=gt("msgHash",k),_=gt("publicKey",_),"strict"in D)throw new Error("options.strict was renamed to lowS");let{lowS:U,prehash:O}=D,q,Y;try{if(typeof A=="string"||A instanceof Uint8Array)try{q=m.fromDER(A)}catch(bt){if(!(bt instanceof tr.Err))throw bt;q=m.fromCompact(A)}else if(typeof A=="object"&&typeof A.r=="bigint"&&typeof A.s=="bigint"){let{r:bt,s:Lt}=A;q=new m(bt,Lt)}else throw new Error("PARSE");Y=c.fromHex(_)}catch(bt){if(bt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(U&&q.hasHighS())return!1;O&&(k=e.hash(k));let{r:Q,s:nt}=q,X=L(k),et=f(nt),mt=a(X*et),yt=a(Q*et),Tt=c.BASE.multiplyAndAddUnsafe(Y,mt,yt)?.toAffine();return Tt?a(Tt.x)===Q:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:w,sign:it,verify:It,ProjectivePoint:c,Signature:m,utils:E}}var Hn=class extends dr{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,So(e);let n=Mr(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return lr(this),this.iHash.update(e),this}digestInto(e){lr(this),Pi(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},vs=(t,e,r)=>new Hn(t,e).update(r).digest();vs.create=(t,e)=>new Hn(t,e);function dd(t){return{hash:t,hmac:(e,...r)=>vs(t,e,Cn(...r)),randomBytes:pr}}function w0(t,e){let r=n=>E0({...t,...dd(n)});return Object.freeze({...r(e),create:r})}var A0=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),B0=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),pd=BigInt(1),bs=BigInt(2),S0=(t,e)=>(t+e/bs)/e;function yd(t){let e=A0,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),f=BigInt(88),c=t*t*t%e,u=c*c*t%e,h=dt(u,r,e)*u%e,d=dt(h,r,e)*u%e,x=dt(d,bs,e)*c%e,l=dt(x,i,e)*x%e,p=dt(l,s,e)*l%e,y=dt(p,a,e)*p%e,m=dt(y,f,e)*y%e,E=dt(m,a,e)*p%e,b=dt(E,r,e)*u%e,R=dt(b,o,e)*l%e,w=dt(R,n,e)*c%e,B=dt(w,bs,e);if(!Es.eql(Es.sqr(B),t))throw new Error("Cannot find square root");return B}var Es=Dn(A0,void 0,void 0,{sqrt:yd}),we=w0({a:BigInt(0),b:BigInt(7),Fp:Es,n:B0,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=B0,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-pd*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=S0(s*t,e),f=S0(-n*t,e),c=at(t-a*r-f*i,e),u=at(-a*n-f*s,e),h=c>o,d=u>o;if(h&&(c=e-c),d&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:c,k2neg:d,k2:u}}}},v0),W2=BigInt(0);var Y2=we.ProjectivePoint;function C0(){return we.utils.randomPrivateKey()}async function I0(t,e){let{digest:r}=await Rt.digest(e);try{return we.sign(r,t).toDERRawBytes()}catch(n){throw new j(String(n),"ERR_INVALID_INPUT")}}async function T0(t,e,r){try{let{digest:n}=await Rt.digest(r);return we.verify(e,n,t)}catch(n){throw new j(String(n),"ERR_INVALID_INPUT")}}function _0(t){return we.ProjectivePoint.fromHex(t).toRawBytes(!0)}function R0(t){try{we.getPublicKey(t,!0)}catch(e){throw new j(String(e),"ERR_INVALID_PRIVATE_KEY")}}function ws(t){try{we.ProjectivePoint.fromHex(t)}catch(e){throw new j(String(e),"ERR_INVALID_PUBLIC_KEY")}}function L0(t){try{return we.getPublicKey(t,!0)}catch(e){throw new j(String(e),"ERR_INVALID_PRIVATE_KEY")}}var Qr=class{_key;constructor(e){ws(e),this._key=e}async verify(e,r){return T0(this._key,r,e)}marshal(){return _0(this._key)}get bytes(){return oe.encode({Type:pt.Secp256k1,Data:this.marshal()}).subarray()}equals(e){return Vt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Rt.digest(this.bytes);return e}},Xr=class{_key;_publicKey;constructor(e,r){this._key=e,this._publicKey=r??L0(e),R0(this._key),ws(this._publicKey)}async sign(e){return I0(this._key,e)}get public(){return new Qr(this._publicKey)}marshal(){return this._key}get bytes(){return fe.encode({Type:pt.Secp256k1,Data:this.marshal()}).subarray()}equals(e){return Vt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Rt.digest(this.bytes);return e}async id(){let e=await this.public.hash();return Ft(e,"base58btc")}async export(e,r="libp2p-key"){if(r==="libp2p-key")return mr(this.bytes,e);throw new j(`export format '${r}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}};function gd(t){return new Xr(t)}function md(t){return new Qr(t)}async function vd(){let t=C0();return new Xr(t)}var Ke={rsa:gs,ed25519:ls,secp256k1:Bs};function Ss(t){let e=Object.keys(Ke).join(" / ");return new j(`invalid or unsupported key type ${t}. Must be ${e}`,"ERR_UNSUPPORTED_KEY_TYPE")}function As(t){if(t=t.toLowerCase(),t==="rsa"||t==="ed25519"||t==="secp256k1")return Ke[t];throw Ss(t)}async function zn(t,e){return As(t).generateKeyPair(e??2048)}function N0(t){let e=oe.decode(t),r=e.Data??new Uint8Array;switch(e.Type){case pt.RSA:return Ke.rsa.unmarshalRsaPublicKey(r);case pt.Ed25519:return Ke.ed25519.unmarshalEd25519PublicKey(r);case pt.Secp256k1:return Ke.secp256k1.unmarshalSecp256k1PublicKey(r);default:throw Ss(e.Type??"unknown")}}function Cs(t,e){return e=(e??"rsa").toLowerCase(),As(e),t.bytes}async function D0(t){let e=fe.decode(t),r=e.Data??new Uint8Array;switch(e.Type){case pt.RSA:return Ke.rsa.unmarshalRsaPrivateKey(r);case pt.Ed25519:return Ke.ed25519.unmarshalEd25519PrivateKey(r);case pt.Secp256k1:return Ke.secp256k1.unmarshalSecp256k1PrivateKey(r);default:throw Ss(e.Type??"RSA")}}function k0(t,e){return e=(e??"rsa").toLowerCase(),As(e),t.bytes}var P0=Symbol.for("@libp2p/peer-id");var Ed=Symbol.for("nodejs.util.inspect.custom"),K0=Object.values(hr).map(t=>t.decoder).reduce((t,e)=>t.or(e),hr.identity.decoder),U0=114,Is=36,Ts=37,Jr=class{type;multihash;privateKey;publicKey;string;constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[P0]=!0;toString(){return this.string==null&&(this.string=Pt.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return ze.createV1(U0,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return Vt(this.multihash.bytes,e);if(typeof e=="string")return wd(e).equals(this);if(e?.multihash?.bytes!=null)return Vt(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}[Ed](){return`PeerId(${this.toString()})`}},Ar=class extends Jr{type="RSA";publicKey;constructor(e){super({...e,type:"RSA"}),this.publicKey=e.publicKey}},Cr=class extends Jr{type="Ed25519";publicKey;constructor(e){super({...e,type:"Ed25519"}),this.publicKey=e.multihash.digest}},Ir=class extends Jr{type="secp256k1";publicKey;constructor(e){super({...e,type:"secp256k1"}),this.publicKey=e.multihash.digest}};function wd(t,e){if(e=e??K0,t.charAt(0)==="1"||t.charAt(0)==="Q"){let r=Ur(Pt.decode(`z${t}`));return t.startsWith("12D")?new Cr({multihash:r}):t.startsWith("16U")?new Ir({multihash:r}):new Ar({multihash:r})}return _s(K0.decode(t))}function _s(t){try{let e=Ur(t);if(e.code===Te.code){if(e.digest.length===Is)return new Cr({multihash:e});if(e.digest.length===Ts)return new Ir({multihash:e})}if(e.code===Rt.code)return new Ar({multihash:e})}catch{return Bd(ze.decode(t))}throw new Error("Supplied PeerID CID is invalid")}function Bd(t){if(t==null||t.multihash==null||t.version==null||t.version===1&&t.code!==U0)throw new Error("Supplied PeerID CID is invalid");let e=t.multihash;if(e.code===Rt.code)return new Ar({multihash:t.multihash});if(e.code===Te.code){if(e.digest.length===Is)return new Cr({multihash:t.multihash});if(e.digest.length===Ts)return new Ir({multihash:t.multihash})}throw new Error("Supplied PeerID CID is invalid")}async function Rs(t,e){return t.length===Is?new Cr({multihash:se(Te.code,t),privateKey:e}):t.length===Ts?new Ir({multihash:se(Te.code,t),privateKey:e}):new Ar({multihash:await Rt.digest(t),publicKey:t,privateKey:e})}var jr;(function(t){let e;t.codec=()=>(e==null&&(e=wr((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),r.id!=null&&(n.uint32(10),n.bytes(r.id)),r.pubKey!=null&&(n.uint32(18),n.bytes(r.pubKey)),r.privKey!=null&&(n.uint32(26),n.bytes(r.privKey)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={},s=n==null?r.len:r.pos+n;for(;r.pos<s;){let o=r.uint32();switch(o>>>3){case 1:i.id=r.bytes();break;case 2:i.pubKey=r.bytes();break;case 3:i.privKey=r.bytes();break;default:r.skipType(o&7);break}}return i})),e),t.encode=r=>br(r,t.codec()),t.decode=r=>vr(r,t.codec())})(jr||(jr={}));var Sd=async()=>{let t=await zn("Ed25519"),e=await tn(t);if(e.type==="Ed25519")return e;throw new Error(`Generated unexpected PeerId type "${e.type}"`)},Ad=async()=>{let t=await zn("secp256k1"),e=await tn(t);if(e.type==="secp256k1")return e;throw new Error(`Generated unexpected PeerId type "${e.type}"`)},Cd=async t=>{let e=await zn("RSA",t?.bits??2048),r=await tn(e);if(r.type==="RSA")return r;throw new Error(`Generated unexpected PeerId type "${r.type}"`)};async function O0(t){return Rs(Cs(t))}async function tn(t){return Rs(Cs(t.public),k0(t))}function Id(t,e){return jr.encode({id:t.multihash.bytes,pubKey:t.publicKey,privKey:e===!0||t.privateKey==null?void 0:t.privateKey})}async function Td(t){let{id:e,privKey:r,pubKey:n}=jr.decode(t);return M0(e??new Uint8Array(0),r,n)}async function _d(t){return M0(Et(t.id,"base58btc"),t.privKey!=null?Et(t.privKey,"base64pad"):void 0,t.pubKey!=null?Et(t.pubKey,"base64pad"):void 0)}async function M0(t,e,r){if(e!=null){let n=await D0(e);return tn(n)}else if(r!=null){let n=N0(r);return O0(n)}return _s(t)}return j0(Rd);})();
/*! Bundled license information:

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
return Libp2PPeerIdFactory}));
