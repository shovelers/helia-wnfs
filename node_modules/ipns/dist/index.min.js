(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Ipns = factory()}(typeof self !== 'undefined' ? self : this, function () {
"use strict";var Ipns=(()=>{var Gl=Object.create;var Qn=Object.defineProperty;var $l=Object.getOwnPropertyDescriptor;var Yl=Object.getOwnPropertyNames;var Wl=Object.getPrototypeOf,Zl=Object.prototype.hasOwnProperty;var X=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Lt=(t,e)=>{for(var r in e)Qn(t,r,{get:e[r],enumerable:!0})},Es=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Yl(e))!Zl.call(t,i)&&i!==r&&Qn(t,i,{get:()=>e[i],enumerable:!(n=$l(e,i))||n.enumerable});return t};var Bt=(t,e,r)=>(r=t!=null?Gl(Wl(t)):{},Es(e||!t||!t.__esModule?Qn(r,"default",{value:t,enumerable:!0}):r,t)),Ql=t=>Es(Qn({},"__esModule",{value:!0}),t);var pt=X((T2,Ss)=>{Ss.exports={options:{usePureJavaScript:!1}}});var As=X((I2,Cs)=>{var oo={};Cs.exports=oo;var Bs={};oo.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(t instanceof Uint8Array))n=Xl(t,e);else{var i=0,o=e.length,a=e.charAt(0),s=[0];for(i=0;i<t.length;++i){for(var f=0,c=t[i];f<s.length;++f)c+=s[f]<<8,s[f]=c%o,c=c/o|0;for(;c>0;)s.push(c%o),c=c/o|0}for(i=0;t[i]===0&&i<t.length-1;++i)n+=a;for(i=s.length-1;i>=0;--i)n+=e[s[i]]}if(r){var u=new RegExp(".{1,"+r+"}","g");n=n.match(u).join(`\r
`)}return n};oo.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=Bs[e];if(!r){r=Bs[e]=[];for(var n=0;n<e.length;++n)r[e.charCodeAt(n)]=n}t=t.replace(/\s/g,"");for(var i=e.length,o=e.charAt(0),a=[0],n=0;n<t.length;n++){var s=r[t.charCodeAt(n)];if(s===void 0)return;for(var f=0,c=s;f<a.length;++f)c+=a[f]*i,a[f]=c&255,c>>=8;for(;c>0;)a.push(c&255),c>>=8}for(var u=0;t[u]===o&&u<t.length-1;++u)a.push(0);return typeof Buffer<"u"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function Xl(t,e){var r=0,n=e.length,i=e.charAt(0),o=[0];for(r=0;r<t.length();++r){for(var a=0,s=t.at(r);a<o.length;++a)s+=o[a]<<8,o[a]=s%n,s=s/n|0;for(;s>0;)o.push(s%n),s=s/n|0}var f="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)f+=i;for(r=o.length-1;r>=0;--r)f+=e[o[r]];return f}});var Rt=X((_2,Rs)=>{var Ts=pt(),Is=As(),m=Rs.exports=Ts.util=Ts.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){m.nextTick=process.nextTick,typeof setImmediate=="function"?m.setImmediate=setImmediate:m.setImmediate=m.nextTick;return}if(typeof setImmediate=="function"){m.setImmediate=function(){return setImmediate.apply(void 0,arguments)},m.nextTick=function(s){return setImmediate(s)};return}if(m.setImmediate=function(s){setTimeout(s,0)},typeof window<"u"&&typeof window.postMessage=="function"){let s=function(f){if(f.source===window&&f.data===t){f.stopPropagation();var c=e.slice();e.length=0,c.forEach(function(u){u()})}};var a=s,t="forge.setImmediate",e=[];m.setImmediate=function(f){e.push(f),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",s,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),e=[];new MutationObserver(function(){var f=e.slice();e.length=0,f.forEach(function(c){c()})}).observe(i,{attributes:!0});var o=m.setImmediate;m.setImmediate=function(f){Date.now()-r>15?(r=Date.now(),o(f)):(e.push(f),e.length===1&&i.setAttribute("a",n=!n))}}m.nextTick=m.setImmediate})();m.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;m.globalScope=function(){return m.isNodejs?globalThis:typeof self>"u"?window:self}();m.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};m.isArrayBuffer=function(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer};m.isArrayBufferView=function(t){return t&&m.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function wn(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}m.ByteBuffer=ao;function ao(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(m.isArrayBuffer(t)||m.isArrayBufferView(t))if(typeof Buffer<"u"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch{for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof ao||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}m.ByteStringBuffer=ao;var Jl=4096;m.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>Jl&&(this.data.substr(0,1),this._constructedStringLength=0)};m.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};m.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};m.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};m.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};m.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};m.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(m.encodeUtf8(t))};m.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};m.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};m.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};m.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};m.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};m.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};m.ByteStringBuffer.prototype.putInt=function(t,e){wn(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};m.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};m.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};m.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};m.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};m.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};m.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};m.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};m.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};m.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};m.ByteStringBuffer.prototype.getInt=function(t){wn(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};m.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};m.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};m.ByteStringBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};m.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};m.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};m.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};m.ByteStringBuffer.prototype.copy=function(){var t=m.createBuffer(this.data);return t.read=this.read,t};m.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};m.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};m.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};m.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};m.ByteStringBuffer.prototype.toString=function(){return m.decodeUtf8(this.bytes())};function jl(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=m.isArrayBuffer(t),n=m.isArrayBufferView(t);if(r||n){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}m.DataBuffer=jl;m.DataBuffer.prototype.length=function(){return this.write-this.read};m.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};m.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this};m.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};m.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};m.DataBuffer.prototype.putBytes=function(t,e){if(m.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(m.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof m.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&m.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var i=new Uint8Array(t.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(t instanceof m.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var o;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=m.binary.hex.decode(t,o,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),o=new Uint8Array(this.data.buffer,this.write),this.write+=m.binary.base64.decode(t,o,this.write),this;if(e==="utf8"&&(t=m.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=m.binary.raw.decode(o),this;if(e==="utf16")return this.accommodate(t.length*2),o=new Uint16Array(this.data.buffer,this.write),this.write+=m.text.utf16.encode(o),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};m.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};m.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};m.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};m.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};m.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};m.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};m.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};m.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};m.DataBuffer.prototype.putInt=function(t,e){wn(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};m.DataBuffer.prototype.putSignedInt=function(t,e){return wn(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};m.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};m.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};m.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};m.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};m.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};m.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};m.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};m.DataBuffer.prototype.getInt=function(t){wn(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};m.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};m.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};m.DataBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};m.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};m.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};m.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};m.DataBuffer.prototype.copy=function(){return new m.DataBuffer(this)};m.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};m.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};m.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};m.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};m.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return m.binary.raw.encode(e);if(t==="hex")return m.binary.hex.encode(e);if(t==="base64")return m.binary.base64.encode(e);if(t==="utf8")return m.text.utf8.decode(e);if(t==="utf16")return m.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};m.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=m.encodeUtf8(t)),new m.ByteBuffer(t)};m.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};m.xorBytes=function(t,e,r){for(var n="",i="",o="",a=0,s=0;r>0;--r,++a)i=t.charCodeAt(a)^e.charCodeAt(a),s>=10&&(n+=o,o="",s=0),o+=String.fromCharCode(i),++s;return n+=o,n};m.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};m.bytesToHex=function(t){return m.createBuffer(t).toHex()};m.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var je="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",tr=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],_s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";m.encode64=function(t,e){for(var r="",n="",i,o,a,s=0;s<t.length;)i=t.charCodeAt(s++),o=t.charCodeAt(s++),a=t.charCodeAt(s++),r+=je.charAt(i>>2),r+=je.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=je.charAt((o&15)<<2|a>>6),r+=isNaN(a)?"=":je.charAt(a&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};m.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,n,i,o,a=0;a<t.length;)r=tr[t.charCodeAt(a++)-43],n=tr[t.charCodeAt(a++)-43],i=tr[t.charCodeAt(a++)-43],o=tr[t.charCodeAt(a++)-43],e+=String.fromCharCode(r<<2|n>>4),i!==64&&(e+=String.fromCharCode((n&15)<<4|i>>2),o!==64&&(e+=String.fromCharCode((i&3)<<6|o)));return e};m.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};m.decodeUtf8=function(t){return decodeURIComponent(escape(t))};m.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:Is.encode,decode:Is.decode}};m.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};m.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,o=0;o<t.length;++o)n[i++]=t.charCodeAt(o);return e?i-r:n};m.binary.hex.encode=m.bytesToHex;m.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var i=0,o=r;for(t.length&1&&(i=1,n[o++]=parseInt(t[0],16));i<t.length;i+=2)n[o++]=parseInt(t.substr(i,2),16);return e?o-r:n};m.binary.base64.encode=function(t,e){for(var r="",n="",i,o,a,s=0;s<t.byteLength;)i=t[s++],o=t[s++],a=t[s++],r+=je.charAt(i>>2),r+=je.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=je.charAt((o&15)<<2|a>>6),r+=isNaN(a)?"=":je.charAt(a&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};m.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,o,a,s,f=0,c=r;f<t.length;)i=tr[t.charCodeAt(f++)-43],o=tr[t.charCodeAt(f++)-43],a=tr[t.charCodeAt(f++)-43],s=tr[t.charCodeAt(f++)-43],n[c++]=i<<2|o>>4,a!==64&&(n[c++]=(o&15)<<4|a>>2,s!==64&&(n[c++]=(a&3)<<6|s));return e?c-r:n.subarray(0,c)};m.binary.base58.encode=function(t,e){return m.binary.baseN.encode(t,_s,e)};m.binary.base58.decode=function(t,e){return m.binary.baseN.decode(t,_s,e)};m.text={utf8:{},utf16:{}};m.text.utf8.encode=function(t,e,r){t=m.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,o=0;o<t.length;++o)n[i++]=t.charCodeAt(o);return e?i-r:n};m.text.utf8.decode=function(t){return m.decodeUtf8(String.fromCharCode.apply(null,t))};m.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var o=r,a=r,s=0;s<t.length;++s)i[a++]=t.charCodeAt(s),o+=2;return e?o-r:n};m.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};m.deflate=function(t,e,r){if(e=m.decode64(t.deflate(m.encode64(e)).rval),r){var n=2,i=e.charCodeAt(1);i&32&&(n=6),e=e.substring(n,e.length-4)}return e};m.inflate=function(t,e,r){var n=t.inflate(m.encode64(e)).rval;return n===null?null:m.decode64(n)};var so=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(r===null?n=t.removeItem(e):(r=m.encode64(JSON.stringify(r)),n=t.setItem(e,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},fo=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(m.decode64(r))),r},th=function(t,e,r,n){var i=fo(t,e);i===null&&(i={}),i[r]=n,so(t,e,i)},eh=function(t,e,r){var n=fo(t,e);return n!==null&&(n=r in n?n[r]:null),n},rh=function(t,e,r){var n=fo(t,e);if(n!==null&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),so(t,e,n)}},nh=function(t,e){so(t,e,null)},Xn=function(t,e,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,o=!1,a=null;for(var s in r){i=r[s];try{if(i==="flash"||i==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");n=t.apply(this,e),o=i==="flash"}(i==="web"||i==="both")&&(e[0]=localStorage,n=t.apply(this,e),o=!0)}catch(f){a=f}if(o)break}if(!o)throw a;return n};m.setItem=function(t,e,r,n,i){Xn(th,arguments,i)};m.getItem=function(t,e,r,n){return Xn(eh,arguments,n)};m.removeItem=function(t,e,r,n){Xn(rh,arguments,n)};m.clearItems=function(t,e,r){Xn(nh,arguments,r)};m.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};m.format=function(t){for(var e=/%./g,r,n,i=0,o=[],a=0;r=e.exec(t);){n=t.substring(a,e.lastIndex-2),n.length>0&&o.push(n),a=e.lastIndex;var s=r[0][1];switch(s){case"s":case"o":i<arguments.length?o.push(arguments[i+++1]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+s+"?>")}}return o.push(t.substring(a)),o.join("")};m.formatNumber=function(t,e,r,n){var i=t,o=isNaN(e=Math.abs(e))?2:e,a=r===void 0?",":r,s=n===void 0?".":n,f=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",u=c.length>3?c.length%3:0;return f+(u?c.substr(0,u)+s:"")+c.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+s)+(o?a+Math.abs(i-c).toFixed(o).slice(2):"")};m.formatSize=function(t){return t>=1073741824?t=m.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=m.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=m.formatNumber(t/1024,0)+" KiB":t=m.formatNumber(t,0)+" bytes",t};m.bytesFromIP=function(t){return t.indexOf(".")!==-1?m.bytesFromIPv4(t):t.indexOf(":")!==-1?m.bytesFromIPv6(t):null};m.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=m.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()};m.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(a){return a.length===0&&++e,!0});for(var r=(8-t.length+e)*2,n=m.createBuffer(),i=0;i<8;++i){if(!t[i]||t[i].length===0){n.fillWithByte(0,r),r=0;continue}var o=m.hexToBytes(t[i]);o.length<2&&n.putByte(0),n.putBytes(o)}return n.getBytes()};m.bytesToIP=function(t){return t.length===4?m.bytesToIPv4(t):t.length===16?m.bytesToIPv6(t):null};m.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};m.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var o=m.bytesToHex(t[i]+t[i+1]);o[0]==="0"&&o!=="0";)o=o.substr(1);if(o==="0"){var a=r[r.length-1],s=e.length;!a||s!==a.end+1?r.push({start:s,end:s}):(a.end=s,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}e.push(o)}if(r.length>0){var f=r[n];f.end-f.start>0&&(e.splice(f.start,f.end-f.start+1,""),f.start===0&&e.unshift(""),f.end===7&&e.push(""))}return e.join(":")};m.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in m&&!t.update)return e(null,m.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return m.cores=navigator.hardwareConcurrency,e(null,m.cores);if(typeof Worker>"u")return m.cores=1,e(null,m.cores);if(typeof Blob>"u")return m.cores=2,e(null,m.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var s=Date.now(),f=s+4;Date.now()<f;);self.postMessage({st:s,et:f})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,s,f){if(s===0){var c=Math.floor(a.reduce(function(u,l){return u+l},0)/a.length);return m.cores=Math.max(1,c),URL.revokeObjectURL(r),e(null,m.cores)}i(f,function(u,l){a.push(o(f,l)),n(a,s-1,f)})}function i(a,s){for(var f=[],c=[],u=0;u<a;++u){var l=new Worker(r);l.addEventListener("message",function(h){if(c.push(h.data),c.length===a){for(var g=0;g<a;++g)f[g].terminate();s(null,c)}}),f.push(l)}for(var u=0;u<a;++u)f[u].postMessage(u)}function o(a,s){for(var f=[],c=0;c<a;++c)for(var u=s[c],l=f[c]=[],h=0;h<a;++h)if(c!==h){var g=s[h];(u.st>g.st&&u.st<g.et||g.st>u.st&&g.st<u.et)&&l.push(h)}return f.reduce(function(d,p){return Math.max(d,p.length)},0)}}});var Jn=X((R2,Ns)=>{var En=pt();En.pki=En.pki||{};var co=Ns.exports=En.pki.oids=En.oids=En.oids||{};function D(t,e){co[t]=e,co[e]=t}function ht(t,e){co[t]=e}D("1.2.840.113549.1.1.1","rsaEncryption");D("1.2.840.113549.1.1.4","md5WithRSAEncryption");D("1.2.840.113549.1.1.5","sha1WithRSAEncryption");D("1.2.840.113549.1.1.7","RSAES-OAEP");D("1.2.840.113549.1.1.8","mgf1");D("1.2.840.113549.1.1.9","pSpecified");D("1.2.840.113549.1.1.10","RSASSA-PSS");D("1.2.840.113549.1.1.11","sha256WithRSAEncryption");D("1.2.840.113549.1.1.12","sha384WithRSAEncryption");D("1.2.840.113549.1.1.13","sha512WithRSAEncryption");D("1.3.101.112","EdDSA25519");D("1.2.840.10040.4.3","dsa-with-sha1");D("1.3.14.3.2.7","desCBC");D("1.3.14.3.2.26","sha1");D("1.3.14.3.2.29","sha1WithRSASignature");D("2.16.840.1.101.3.4.2.1","sha256");D("2.16.840.1.101.3.4.2.2","sha384");D("2.16.840.1.101.3.4.2.3","sha512");D("2.16.840.1.101.3.4.2.4","sha224");D("2.16.840.1.101.3.4.2.5","sha512-224");D("2.16.840.1.101.3.4.2.6","sha512-256");D("1.2.840.113549.2.2","md2");D("1.2.840.113549.2.5","md5");D("1.2.840.113549.1.7.1","data");D("1.2.840.113549.1.7.2","signedData");D("1.2.840.113549.1.7.3","envelopedData");D("1.2.840.113549.1.7.4","signedAndEnvelopedData");D("1.2.840.113549.1.7.5","digestedData");D("1.2.840.113549.1.7.6","encryptedData");D("1.2.840.113549.1.9.1","emailAddress");D("1.2.840.113549.1.9.2","unstructuredName");D("1.2.840.113549.1.9.3","contentType");D("1.2.840.113549.1.9.4","messageDigest");D("1.2.840.113549.1.9.5","signingTime");D("1.2.840.113549.1.9.6","counterSignature");D("1.2.840.113549.1.9.7","challengePassword");D("1.2.840.113549.1.9.8","unstructuredAddress");D("1.2.840.113549.1.9.14","extensionRequest");D("1.2.840.113549.1.9.20","friendlyName");D("1.2.840.113549.1.9.21","localKeyId");D("1.2.840.113549.1.9.22.1","x509Certificate");D("1.2.840.113549.1.12.10.1.1","keyBag");D("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");D("1.2.840.113549.1.12.10.1.3","certBag");D("1.2.840.113549.1.12.10.1.4","crlBag");D("1.2.840.113549.1.12.10.1.5","secretBag");D("1.2.840.113549.1.12.10.1.6","safeContentsBag");D("1.2.840.113549.1.5.13","pkcs5PBES2");D("1.2.840.113549.1.5.12","pkcs5PBKDF2");D("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");D("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");D("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");D("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");D("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");D("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");D("1.2.840.113549.2.7","hmacWithSHA1");D("1.2.840.113549.2.8","hmacWithSHA224");D("1.2.840.113549.2.9","hmacWithSHA256");D("1.2.840.113549.2.10","hmacWithSHA384");D("1.2.840.113549.2.11","hmacWithSHA512");D("1.2.840.113549.3.7","des-EDE3-CBC");D("2.16.840.1.101.3.4.1.2","aes128-CBC");D("2.16.840.1.101.3.4.1.22","aes192-CBC");D("2.16.840.1.101.3.4.1.42","aes256-CBC");D("2.5.4.3","commonName");D("2.5.4.4","surname");D("2.5.4.5","serialNumber");D("2.5.4.6","countryName");D("2.5.4.7","localityName");D("2.5.4.8","stateOrProvinceName");D("2.5.4.9","streetAddress");D("2.5.4.10","organizationName");D("2.5.4.11","organizationalUnitName");D("2.5.4.12","title");D("2.5.4.13","description");D("2.5.4.15","businessCategory");D("2.5.4.17","postalCode");D("2.5.4.42","givenName");D("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");D("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");D("2.16.840.1.113730.1.1","nsCertType");D("2.16.840.1.113730.1.13","nsComment");ht("2.5.29.1","authorityKeyIdentifier");ht("2.5.29.2","keyAttributes");ht("2.5.29.3","certificatePolicies");ht("2.5.29.4","keyUsageRestriction");ht("2.5.29.5","policyMapping");ht("2.5.29.6","subtreesConstraint");ht("2.5.29.7","subjectAltName");ht("2.5.29.8","issuerAltName");ht("2.5.29.9","subjectDirectoryAttributes");ht("2.5.29.10","basicConstraints");ht("2.5.29.11","nameConstraints");ht("2.5.29.12","policyConstraints");ht("2.5.29.13","basicConstraints");D("2.5.29.14","subjectKeyIdentifier");D("2.5.29.15","keyUsage");ht("2.5.29.16","privateKeyUsagePeriod");D("2.5.29.17","subjectAltName");D("2.5.29.18","issuerAltName");D("2.5.29.19","basicConstraints");ht("2.5.29.20","cRLNumber");ht("2.5.29.21","cRLReason");ht("2.5.29.22","expirationDate");ht("2.5.29.23","instructionCode");ht("2.5.29.24","invalidityDate");ht("2.5.29.25","cRLDistributionPoints");ht("2.5.29.26","issuingDistributionPoint");ht("2.5.29.27","deltaCRLIndicator");ht("2.5.29.28","issuingDistributionPoint");ht("2.5.29.29","certificateIssuer");ht("2.5.29.30","nameConstraints");D("2.5.29.31","cRLDistributionPoints");D("2.5.29.32","certificatePolicies");ht("2.5.29.33","policyMappings");ht("2.5.29.34","policyConstraints");D("2.5.29.35","authorityKeyIdentifier");ht("2.5.29.36","policyConstraints");D("2.5.29.37","extKeyUsage");ht("2.5.29.46","freshestCRL");ht("2.5.29.54","inhibitAnyPolicy");D("1.3.6.1.4.1.11129.2.4.2","timestampList");D("1.3.6.1.5.5.7.1.1","authorityInfoAccess");D("1.3.6.1.5.5.7.3.1","serverAuth");D("1.3.6.1.5.5.7.3.2","clientAuth");D("1.3.6.1.5.5.7.3.3","codeSigning");D("1.3.6.1.5.5.7.3.4","emailProtection");D("1.3.6.1.5.5.7.3.8","timeStamping")});var Bn=X((N2,Ls)=>{var xt=pt();Rt();Jn();var M=Ls.exports=xt.asn1=xt.asn1||{};M.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};M.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};M.create=function(t,e,r,n,i){if(xt.util.isArray(n)){for(var o=[],a=0;a<n.length;++a)n[a]!==void 0&&o.push(n[a]);n=o}var s={tagClass:t,type:e,constructed:r,composed:r||xt.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(s.bitStringContents=i.bitStringContents,s.original=M.copy(s)),s};M.copy=function(t,e){var r;if(xt.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(M.copy(t[n],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:M.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};M.equals=function(t,e,r){if(xt.util.isArray(t)){if(!xt.util.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!M.equals(t[n],e[n]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var i=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&M.equals(t.value,e.value);return r&&r.includeBitStringContents&&(i=i&&t.bitStringContents===e.bitStringContents),i};M.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,n=e&128;return n?r=t.getInt((e&127)<<3):r=e,r}};function Sn(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}var ih=function(t,e){var r=t.getByte();if(e--,r!==128){var n,i=r&128;if(!i)n=r;else{var o=r&127;Sn(t,e,o),n=t.getInt(o<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};M.fromDer=function(t,e){e===void 0&&(e={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"parseAllBytes"in e||(e.parseAllBytes=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=xt.util.createBuffer(t));var r=t.length(),n=jn(t,t.length(),0,e);if(e.parseAllBytes&&t.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=t.length(),i}return n};function jn(t,e,r,n){var i;Sn(t,e,2);var o=t.getByte();e--;var a=o&192,s=o&31;i=t.length();var f=ih(t,e);if(e-=i-t.length(),f!==void 0&&f>e){if(n.strict){var c=new Error("Too few bytes to read ASN.1 value.");throw c.available=t.length(),c.remaining=e,c.requested=f,c}f=e}var u,l,h=(o&32)===32;if(h)if(u=[],f===void 0)for(;;){if(Sn(t,e,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),e-=2;break}i=t.length(),u.push(jn(t,e,r+1,n)),e-=i-t.length()}else for(;f>0;)i=t.length(),u.push(jn(t,f,r+1,n)),e-=i-t.length(),f-=i-t.length();if(u===void 0&&a===M.Class.UNIVERSAL&&s===M.Type.BITSTRING&&(l=t.bytes(f)),u===void 0&&n.decodeBitStrings&&a===M.Class.UNIVERSAL&&s===M.Type.BITSTRING&&f>1){var g=t.read,d=e,p=0;if(s===M.Type.BITSTRING&&(Sn(t,e,1),p=t.getByte(),e--),p===0)try{i=t.length();var y={strict:!0,decodeBitStrings:!0},x=jn(t,e,r+1,y),w=i-t.length();e-=w,s==M.Type.BITSTRING&&w++;var b=x.tagClass;w===f&&(b===M.Class.UNIVERSAL||b===M.Class.CONTEXT_SPECIFIC)&&(u=[x])}catch{}u===void 0&&(t.read=g,e=d)}if(u===void 0){if(f===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");f=e}if(s===M.Type.BMPSTRING)for(u="";f>0;f-=2)Sn(t,e,2),u+=String.fromCharCode(t.getInt16()),e-=2;else u=t.getBytes(f),e-=f}var L=l===void 0?null:{bitStringContents:l};return M.create(a,s,h,u,L)}M.toDer=function(t){var e=xt.util.createBuffer(),r=t.tagClass|t.type,n=xt.util.createBuffer(),i=!1;if("bitStringContents"in t&&(i=!0,t.original&&(i=M.equals(t,t.original))),i)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var o=0;o<t.value.length;++o)t.value[o]!==void 0&&n.putBuffer(M.toDer(t.value[o]))}else if(t.type===M.Type.BMPSTRING)for(var o=0;o<t.value.length;++o)n.putInt16(t.value.charCodeAt(o));else t.type===M.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&!(t.value.charCodeAt(1)&128)||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)===128)?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(n.length()&127);else{var a=n.length(),s="";do s+=String.fromCharCode(a&255),a=a>>>8;while(a>0);e.putByte(s.length|128);for(var o=s.length-1;o>=0;--o)e.putByte(s.charCodeAt(o))}return e.putBuffer(n),e};M.oidToDer=function(t){var e=t.split("."),r=xt.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,i,o,a,s=2;s<e.length;++s){n=!0,i=[],o=parseInt(e[s],10);do a=o&127,o=o>>>7,n||(a|=128),i.push(a),n=!1;while(o>0);for(var f=i.length-1;f>=0;--f)r.putByte(i[f])}return r};M.derToOid=function(t){var e;typeof t=="string"&&(t=xt.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)r=t.getByte(),n=n<<7,r&128?n+=r&127:(e+="."+(n+r),n=0);return e};M.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),o=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),s=0;if(t.length>11){var f=t.charAt(10),c=10;f!=="+"&&f!=="-"&&(s=parseInt(t.substr(10,2),10),c+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(o,a,s,0),c&&(f=t.charAt(c),f==="+"||f==="-")){var u=parseInt(t.substr(c+1,2),10),l=parseInt(t.substr(c+4,2),10),h=u*60+l;h*=6e4,f==="+"?e.setTime(+e-h):e.setTime(+e+h)}return e};M.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),o=parseInt(t.substr(8,2),10),a=parseInt(t.substr(10,2),10),s=parseInt(t.substr(12,2),10),f=0,c=0,u=!1;t.charAt(t.length-1)==="Z"&&(u=!0);var l=t.length-5,h=t.charAt(l);if(h==="+"||h==="-"){var g=parseInt(t.substr(l+1,2),10),d=parseInt(t.substr(l+4,2),10);c=g*60+d,c*=6e4,h==="+"&&(c*=-1),u=!0}return t.charAt(14)==="."&&(f=parseFloat(t.substr(14),10)*1e3),u?(e.setUTCFullYear(r,n,i),e.setUTCHours(o,a,s,f),e.setTime(+e+c)):(e.setFullYear(r,n,i),e.setHours(o,a,s,f)),e};M.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};M.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};M.integerToDer=function(t){var e=xt.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};M.derToInteger=function(t){typeof t=="string"&&(t=xt.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};M.validate=function(t,e,r,n){var i=!1;if((t.tagClass===e.tagClass||typeof e.tagClass>"u")&&(t.type===e.type||typeof e.type>"u"))if(t.constructed===e.constructed||typeof e.constructed>"u"){if(i=!0,e.value&&xt.util.isArray(e.value))for(var o=0,a=0;i&&a<e.value.length;++a)i=e.value[a].optional||!1,t.value[o]&&(i=M.validate(t.value[o],e.value[a],r,n),i?++o:e.value[a].optional&&(i=!0)),!i&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(i&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var s;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var f=t.bitStringContents.charCodeAt(0);if(f!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return i};var Ds=/[^\\u0000-\\u00ff]/;M.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+=`
`);for(var i="",o=0;o<e*r;++o)i+=" ";switch(n+=i+"Tag: ",t.tagClass){case M.Class.UNIVERSAL:n+="Universal:";break;case M.Class.APPLICATION:n+="Application:";break;case M.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case M.Class.PRIVATE:n+="Private:";break}if(t.tagClass===M.Class.UNIVERSAL)switch(n+=t.type,t.type){case M.Type.NONE:n+=" (None)";break;case M.Type.BOOLEAN:n+=" (Boolean)";break;case M.Type.INTEGER:n+=" (Integer)";break;case M.Type.BITSTRING:n+=" (Bit string)";break;case M.Type.OCTETSTRING:n+=" (Octet string)";break;case M.Type.NULL:n+=" (Null)";break;case M.Type.OID:n+=" (Object Identifier)";break;case M.Type.ODESC:n+=" (Object Descriptor)";break;case M.Type.EXTERNAL:n+=" (External or Instance of)";break;case M.Type.REAL:n+=" (Real)";break;case M.Type.ENUMERATED:n+=" (Enumerated)";break;case M.Type.EMBEDDED:n+=" (Embedded PDV)";break;case M.Type.UTF8:n+=" (UTF8)";break;case M.Type.ROID:n+=" (Relative Object Identifier)";break;case M.Type.SEQUENCE:n+=" (Sequence)";break;case M.Type.SET:n+=" (Set)";break;case M.Type.PRINTABLESTRING:n+=" (Printable String)";break;case M.Type.IA5String:n+=" (IA5String (ASCII))";break;case M.Type.UTCTIME:n+=" (UTC time)";break;case M.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case M.Type.BMPSTRING:n+=" (BMP String)";break}else n+=t.type;if(n+=`
`,n+=i+"Constructed: "+t.constructed+`
`,t.composed){for(var a=0,s="",o=0;o<t.value.length;++o)t.value[o]!==void 0&&(a+=1,s+=M.prettyPrint(t.value[o],e+1,r),o+1<t.value.length&&(s+=","));n+=i+"Sub values: "+a+s}else{if(n+=i+"Value: ",t.type===M.Type.OID){var f=M.derToOid(t.value);n+=f,xt.pki&&xt.pki.oids&&f in xt.pki.oids&&(n+=" ("+xt.pki.oids[f]+") ")}if(t.type===M.Type.INTEGER)try{n+=M.derToInteger(t.value)}catch{n+="0x"+xt.util.bytesToHex(t.value)}else if(t.type===M.Type.BITSTRING){if(t.value.length>1?n+="0x"+xt.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var c=t.value.charCodeAt(0);c==1?n+=" (1 unused bit shown)":c>1&&(n+=" ("+c+" unused bits shown)")}}else if(t.type===M.Type.OCTETSTRING)Ds.test(t.value)||(n+="("+t.value+") "),n+="0x"+xt.util.bytesToHex(t.value);else if(t.type===M.Type.UTF8)try{n+=xt.util.decodeUtf8(t.value)}catch(u){if(u.message==="URI malformed")n+="0x"+xt.util.bytesToHex(t.value)+" (malformed UTF8)";else throw u}else t.type===M.Type.PRINTABLESTRING||t.type===M.Type.IA5String?n+=t.value:Ds.test(t.value)?n+="0x"+xt.util.bytesToHex(t.value):t.value.length===0?n+="[null]":n+=t.value}return n}});var lo=X((D2,ks)=>{var kt=pt();Rt();ks.exports=kt.cipher=kt.cipher||{};kt.cipher.algorithms=kt.cipher.algorithms||{};kt.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=kt.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new kt.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};kt.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=kt.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new kt.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};kt.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),kt.cipher.algorithms[t]=e};kt.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in kt.cipher.algorithms?kt.cipher.algorithms[t]:null};var uo=kt.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};uo.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=kt.util.createBuffer(),this.output=t.output||kt.util.createBuffer(),this.mode.start(e)};uo.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};uo.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var po=X((L2,Us)=>{var Ut=pt();Rt();Ut.cipher=Ut.cipher||{};var nt=Us.exports=Ut.cipher.modes=Ut.cipher.modes||{};nt.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};nt.ecb.prototype.start=function(t){};nt.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};nt.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};nt.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};nt.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};nt.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};nt.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=ti(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};nt.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock};nt.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};nt.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};nt.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};nt.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Ut.util.createBuffer(),this._partialBytes=0};nt.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=ti(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};nt.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};nt.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};nt.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Ut.util.createBuffer(),this._partialBytes=0};nt.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=ti(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};nt.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};nt.ofb.prototype.decrypt=nt.ofb.prototype.encrypt;nt.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Ut.util.createBuffer(),this._partialBytes=0};nt.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=ti(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};nt.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}ei(this._inBlock)};nt.ctr.prototype.decrypt=nt.ctr.prototype.encrypt;nt.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Ut.util.createBuffer(),this._partialBytes=0,this._R=3774873600};nt.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=Ut.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=Ut.util.createBuffer(t.additionalData):r=Ut.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=Ut.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(n===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(ho(n*8)))}this._inBlock=this._j0.slice(0),ei(this._inBlock),this._partialBytes=0,r=Ut.util.createBuffer(r),this._aDataLength=ho(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};nt.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),ei(this._inBlock)};nt.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),ei(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};nt.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=Ut.util.createBuffer();var n=this._aDataLength.concat(ho(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var o=0;o<this._ints;++o)this.tag.putInt32(this._s[o]^i[o]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};nt.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){var o=t[i/32|0]&1<<31-i%32;o&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};nt.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,n=3;n>0;--n)e[n]=t[n]>>>1|(t[n-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};nt.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=t[n]>>>(7-r%8)*4&15,o=this._m[r][i];e[0]^=o[0],e[1]^=o[1],e[2]^=o[2],e[3]^=o[3]}return e};nt.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};nt.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,o=new Array(i),a=0;a<i;++a){var s=[0,0,0,0],f=a/n|0,c=(n-1-a%n)*e;s[f]=1<<e-1<<c,o[a]=this.generateSubHashTable(this.multiply(s,t),e)}return o};nt.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var o=n>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<n;){for(var a=1;a<o;++a){var s=i[o],f=i[a];i[o+a]=[s[0]^f[0],s[1]^f[1],s[2]^f[2],s[3]^f[3]]}o*=2}for(i[0]=[0,0,0,0],o=n+1;o<r;++o){var c=i[o^n];i[o]=[t[0]^c[0],t[1]^c[1],t[2]^c[2],t[3]^c[3]]}return i};function ti(t,e){if(typeof t=="string"&&(t=Ut.util.createBuffer(t)),Ut.util.isArray(t)&&t.length>4){var r=t;t=Ut.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!Ut.util.isArray(t)){for(var i=[],o=e/4,n=0;n<o;++n)i.push(t.getInt32());t=i}return t}function ei(t){t[t.length-1]=t[t.length-1]+1&4294967295}function ho(t){return[t/4294967296|0,t&4294967295]}});var mo=X((k2,Fs)=>{var gt=pt();lo();po();Rt();Fs.exports=gt.aes=gt.aes||{};gt.aes.startEncrypting=function(t,e,r,n){var i=ri({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i};gt.aes.createEncryptionCipher=function(t,e){return ri({key:t,output:null,decrypt:!1,mode:e})};gt.aes.startDecrypting=function(t,e,r,n){var i=ri({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i};gt.aes.createDecryptionCipher=function(t,e){return ri({key:t,output:null,decrypt:!0,mode:e})};gt.aes.Algorithm=function(t,e){xo||Os();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(n,i){return go(r._w,n,i,!1)},decrypt:function(n,i){return go(r._w,n,i,!0)}}}),r._init=!1};gt.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=gt.util.createBuffer(e);else if(gt.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=gt.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(!gt.util.isArray(e)){r=e,e=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)e.push(r.getInt32())}}if(!gt.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var o=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(o)!==-1;this._w=Ks(e,t.decrypt&&!a),this._init=!0}};gt.aes._expandKey=function(t,e){return xo||Os(),Ks(t,e)};gt.aes._updateBlock=go;Kr("AES-ECB",gt.cipher.modes.ecb);Kr("AES-CBC",gt.cipher.modes.cbc);Kr("AES-CFB",gt.cipher.modes.cfb);Kr("AES-OFB",gt.cipher.modes.ofb);Kr("AES-CTR",gt.cipher.modes.ctr);Kr("AES-GCM",gt.cipher.modes.gcm);function Kr(t,e){var r=function(){return new gt.aes.Algorithm(t,e)};gt.cipher.registerAlgorithm(t,r)}var xo=!1,Or=4,Yt,yo,Ps,gr,de;function Os(){xo=!0,Ps=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;Yt=new Array(256),yo=new Array(256),gr=new Array(4),de=new Array(4);for(var e=0;e<4;++e)gr[e]=new Array(256),de[e]=new Array(256);for(var r=0,n=0,i,o,a,s,f,c,u,e=0;e<256;++e){s=n^n<<1^n<<2^n<<3^n<<4,s=s>>8^s&255^99,Yt[r]=s,yo[s]=r,f=t[s],i=t[r],o=t[i],a=t[o],c=f<<24^s<<16^s<<8^(s^f),u=(i^o^a)<<24^(r^a)<<16^(r^o^a)<<8^(r^i^a);for(var l=0;l<4;++l)gr[l][r]=c,de[l][s]=u,c=c<<24|c>>>8,u=u<<24|u>>>8;r===0?r=n=1:(r=i^t[t[t[i^a]]],n^=t[t[n]])}}function Ks(t,e){for(var r=t.slice(0),n,i=1,o=r.length,a=o+6+1,s=Or*a,f=o;f<s;++f)n=r[f-1],f%o===0?(n=Yt[n>>>16&255]<<24^Yt[n>>>8&255]<<16^Yt[n&255]<<8^Yt[n>>>24]^Ps[i]<<24,i++):o>6&&f%o===4&&(n=Yt[n>>>24]<<24^Yt[n>>>16&255]<<16^Yt[n>>>8&255]<<8^Yt[n&255]),r[f]=r[f-o]^n;if(e){var c,u=de[0],l=de[1],h=de[2],g=de[3],d=r.slice(0);s=r.length;for(var f=0,p=s-Or;f<s;f+=Or,p-=Or)if(f===0||f===s-Or)d[f]=r[p],d[f+1]=r[p+3],d[f+2]=r[p+2],d[f+3]=r[p+1];else for(var y=0;y<Or;++y)c=r[p+y],d[f+(3&-y)]=u[Yt[c>>>24]]^l[Yt[c>>>16&255]]^h[Yt[c>>>8&255]]^g[Yt[c&255]];r=d}return r}function go(t,e,r,n){var i=t.length/4-1,o,a,s,f,c;n?(o=de[0],a=de[1],s=de[2],f=de[3],c=yo):(o=gr[0],a=gr[1],s=gr[2],f=gr[3],c=Yt);var u,l,h,g,d,p,y;u=e[0]^t[0],l=e[n?3:1]^t[1],h=e[2]^t[2],g=e[n?1:3]^t[3];for(var x=3,w=1;w<i;++w)d=o[u>>>24]^a[l>>>16&255]^s[h>>>8&255]^f[g&255]^t[++x],p=o[l>>>24]^a[h>>>16&255]^s[g>>>8&255]^f[u&255]^t[++x],y=o[h>>>24]^a[g>>>16&255]^s[u>>>8&255]^f[l&255]^t[++x],g=o[g>>>24]^a[u>>>16&255]^s[l>>>8&255]^f[h&255]^t[++x],u=d,l=p,h=y;r[0]=c[u>>>24]<<24^c[l>>>16&255]<<16^c[h>>>8&255]<<8^c[g&255]^t[++x],r[n?3:1]=c[l>>>24]<<24^c[h>>>16&255]<<16^c[g>>>8&255]<<8^c[u&255]^t[++x],r[2]=c[h>>>24]<<24^c[g>>>16&255]<<16^c[u>>>8&255]<<8^c[l&255]^t[++x],r[n?1:3]=c[g>>>24]<<24^c[u>>>16&255]<<16^c[l>>>8&255]<<8^c[h&255]^t[++x]}function ri(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,n;t.decrypt?n=gt.cipher.createDecipher(r,t.key):n=gt.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(o,a){var s=null;a instanceof gt.util.ByteBuffer&&(s=a,a={}),a=a||{},a.output=s,a.iv=o,i.call(n,a)},n}});var qs=X((U2,Vs)=>{var vt=pt();lo();po();Rt();Vs.exports=vt.des=vt.des||{};vt.des.startEncrypting=function(t,e,r,n){var i=ni({key:t,output:r,decrypt:!1,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};vt.des.createEncryptionCipher=function(t,e){return ni({key:t,output:null,decrypt:!1,mode:e})};vt.des.startDecrypting=function(t,e,r,n){var i=ni({key:t,output:r,decrypt:!0,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};vt.des.createDecryptionCipher=function(t,e){return ni({key:t,output:null,decrypt:!0,mode:e})};vt.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(n,i){return Ms(r._keys,n,i,!1)},decrypt:function(n,i){return Ms(r._keys,n,i,!0)}}}),r._init=!1};vt.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=vt.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=dh(e),this._init=!0}};Ce("DES-ECB",vt.cipher.modes.ecb);Ce("DES-CBC",vt.cipher.modes.cbc);Ce("DES-CFB",vt.cipher.modes.cfb);Ce("DES-OFB",vt.cipher.modes.ofb);Ce("DES-CTR",vt.cipher.modes.ctr);Ce("3DES-ECB",vt.cipher.modes.ecb);Ce("3DES-CBC",vt.cipher.modes.cbc);Ce("3DES-CFB",vt.cipher.modes.cfb);Ce("3DES-OFB",vt.cipher.modes.ofb);Ce("3DES-CTR",vt.cipher.modes.ctr);function Ce(t,e){var r=function(){return new vt.des.Algorithm(t,e)};vt.cipher.registerAlgorithm(t,r)}var oh=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],ah=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],sh=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],fh=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],ch=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],uh=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],lh=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],hh=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function dh(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],s=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],f=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],u=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],l=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],g=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],d=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],p=t.length()>8?3:1,y=[],x=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],w=0,b,L=0;L<p;L++){var E=t.getInt32(),S=t.getInt32();b=(E>>>4^S)&252645135,S^=b,E^=b<<4,b=(S>>>-16^E)&65535,E^=b,S^=b<<-16,b=(E>>>2^S)&858993459,S^=b,E^=b<<2,b=(S>>>-16^E)&65535,E^=b,S^=b<<-16,b=(E>>>1^S)&1431655765,S^=b,E^=b<<1,b=(S>>>8^E)&16711935,E^=b,S^=b<<8,b=(E>>>1^S)&1431655765,S^=b,E^=b<<1,b=E<<8|S>>>20&240,E=S<<24|S<<8&16711680|S>>>8&65280|S>>>24&240,S=b;for(var k=0;k<x.length;++k){x[k]?(E=E<<2|E>>>26,S=S<<2|S>>>26):(E=E<<1|E>>>27,S=S<<1|S>>>27),E&=-15,S&=-15;var B=e[E>>>28]|r[E>>>24&15]|n[E>>>20&15]|i[E>>>16&15]|o[E>>>12&15]|a[E>>>8&15]|s[E>>>4&15],O=f[S>>>28]|c[S>>>24&15]|u[S>>>20&15]|l[S>>>16&15]|h[S>>>12&15]|g[S>>>8&15]|d[S>>>4&15];b=(O>>>16^B)&65535,y[w++]=B^b,y[w++]=O^b<<16}}return y}function Ms(t,e,r,n){var i=t.length===32?3:9,o;i===3?o=n?[30,-2,-2]:[0,32,2]:o=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,s=e[0],f=e[1];a=(s>>>4^f)&252645135,f^=a,s^=a<<4,a=(s>>>16^f)&65535,f^=a,s^=a<<16,a=(f>>>2^s)&858993459,s^=a,f^=a<<2,a=(f>>>8^s)&16711935,s^=a,f^=a<<8,a=(s>>>1^f)&1431655765,f^=a,s^=a<<1,s=s<<1|s>>>31,f=f<<1|f>>>31;for(var c=0;c<i;c+=3){for(var u=o[c+1],l=o[c+2],h=o[c];h!=u;h+=l){var g=f^t[h],d=(f>>>4|f<<28)^t[h+1];a=s,s=f,f=a^(ah[g>>>24&63]|fh[g>>>16&63]|uh[g>>>8&63]|hh[g&63]|oh[d>>>24&63]|sh[d>>>16&63]|ch[d>>>8&63]|lh[d&63])}a=s,s=f,f=a}s=s>>>1|s<<31,f=f>>>1|f<<31,a=(s>>>1^f)&1431655765,f^=a,s^=a<<1,a=(f>>>8^s)&16711935,s^=a,f^=a<<8,a=(f>>>2^s)&858993459,s^=a,f^=a<<2,a=(s>>>16^f)&65535,f^=a,s^=a<<16,a=(s>>>4^f)&252645135,f^=a,s^=a<<4,r[0]=s,r[1]=f}function ni(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,n;t.decrypt?n=vt.cipher.createDecipher(r,t.key):n=vt.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(o,a){var s=null;a instanceof vt.util.ByteBuffer&&(s=a,a={}),a=a||{},a.output=s,a.iv=o,i.call(n,a)},n}});var xr=X((P2,Hs)=>{var ii=pt();Hs.exports=ii.md=ii.md||{};ii.md.algorithms=ii.md.algorithms||{}});var Gs=X((O2,zs)=>{var Fe=pt();xr();Rt();var ph=zs.exports=Fe.hmac=Fe.hmac||{};ph.create=function(){var t=null,e=null,r=null,n=null,i={};return i.start=function(o,a){if(o!==null)if(typeof o=="string")if(o=o.toLowerCase(),o in Fe.md.algorithms)e=Fe.md.algorithms[o].create();else throw new Error('Unknown hash algorithm "'+o+'"');else e=o;if(a===null)a=t;else{if(typeof a=="string")a=Fe.util.createBuffer(a);else if(Fe.util.isArray(a)){var s=a;a=Fe.util.createBuffer();for(var f=0;f<s.length;++f)a.putByte(s[f])}var c=a.length();c>e.blockLength&&(e.start(),e.update(a.bytes()),a=e.digest()),r=Fe.util.createBuffer(),n=Fe.util.createBuffer(),c=a.length();for(var f=0;f<c;++f){var s=a.at(f);r.putByte(54^s),n.putByte(92^s)}if(c<e.blockLength)for(var s=e.blockLength-c,f=0;f<s;++f)r.putByte(54),n.putByte(92);t=a,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},i.update=function(o){e.update(o)},i.getMac=function(){var o=e.digest().bytes();return e.start(),e.update(n),e.update(o),e.digest()},i.digest=i.getMac,i}});var oi=X(()=>{});var Ys=X((M2,$s)=>{var Wt=pt();Gs();xr();Rt();var yh=Wt.pkcs5=Wt.pkcs5||{},Me;Wt.util.isNodejs&&!Wt.options.usePureJavaScript&&(Me=oi());$s.exports=Wt.pbkdf2=yh.pbkdf2=function(t,e,r,n,i,o){if(typeof i=="function"&&(o=i,i=null),Wt.util.isNodejs&&!Wt.options.usePureJavaScript&&Me.pbkdf2&&(i===null||typeof i!="object")&&(Me.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),o?Me.pbkdf2Sync.length===4?Me.pbkdf2(t,e,r,n,function(b,L){if(b)return o(b);o(null,L.toString("binary"))}):Me.pbkdf2(t,e,r,n,i,function(b,L){if(b)return o(b);o(null,L.toString("binary"))}):Me.pbkdf2Sync.length===4?Me.pbkdf2Sync(t,e,r,n).toString("binary"):Me.pbkdf2Sync(t,e,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in Wt.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=Wt.md[i].create()}var a=i.digestLength;if(n>4294967295*a){var s=new Error("Derived key is too long.");if(o)return o(s);throw s}var f=Math.ceil(n/a),c=n-(f-1)*a,u=Wt.hmac.create();u.start(i,t);var l="",h,g,d;if(!o){for(var p=1;p<=f;++p){u.start(null,null),u.update(e),u.update(Wt.util.int32ToBytes(p)),h=d=u.digest().getBytes();for(var y=2;y<=r;++y)u.start(null,null),u.update(d),g=u.digest().getBytes(),h=Wt.util.xorBytes(h,g,a),d=g;l+=p<f?h:h.substr(0,c)}return l}var p=1,y;function x(){if(p>f)return o(null,l);u.start(null,null),u.update(e),u.update(Wt.util.int32ToBytes(p)),h=d=u.digest().getBytes(),y=2,w()}function w(){if(y<=r)return u.start(null,null),u.update(d),g=u.digest().getBytes(),h=Wt.util.xorBytes(h,g,a),d=g,++y,Wt.util.setImmediate(w);l+=p<f?h:h.substr(0,c),++p,x()}x()}});var Qs=X((V2,Zs)=>{var si=pt();Rt();var Ws=Zs.exports=si.pem=si.pem||{};Ws.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,n;if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=ai(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},r+=ai(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),r+=ai(n)),t.headers)for(var i=0;i<t.headers.length;++i)r+=ai(t.headers[i]);return t.procType&&(r+=`\r
`),r+=si.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};Ws.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,o;o=r.exec(t),!!o;){var a=o[1];a==="NEW CERTIFICATE REQUEST"&&(a="CERTIFICATE REQUEST");var s={type:a,procType:null,contentDomain:null,dekInfo:null,headers:[],body:si.util.decode64(o[3])};if(e.push(s),!!o[2]){for(var f=o[2].split(i),c=0;o&&c<f.length;){for(var u=f[c].replace(/\s+$/,""),l=c+1;l<f.length;++l){var h=f[l];if(!/\s/.test(h[0]))break;u+=h,c=l}if(o=u.match(n),o){for(var g={name:o[1],values:[]},d=o[2].split(","),p=0;p<d.length;++p)g.values.push(gh(d[p]));if(s.procType)if(!s.contentDomain&&g.name==="Content-Domain")s.contentDomain=d[0]||"";else if(!s.dekInfo&&g.name==="DEK-Info"){if(g.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');s.dekInfo={algorithm:d[0],parameters:d[1]||null}}else s.headers.push(g);else{if(g.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(g.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');s.procType={version:d[0],type:d[1]}}}++c}if(s.procType==="ENCRYPTED"&&!s.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function ai(t){for(var e=t.name+": ",r=[],n=function(f,c){return" "+c},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+`\r
`;for(var o=0,a=-1,i=0;i<e.length;++i,++o)if(o>65&&a!==-1){var s=e[a];s===","?(++a,e=e.substr(0,a)+`\r
 `+e.substr(a)):e=e.substr(0,a)+`\r
`+s+e.substr(a+1),o=i-a-1,a=-1,++i}else(e[i]===" "||e[i]==="	"||e[i]===",")&&(a=i);return e}function gh(t){return t.replace(/^\s+/,"")}});var r0=X((q2,e0)=>{var Ae=pt();xr();Rt();var Js=e0.exports=Ae.sha256=Ae.sha256||{};Ae.md.sha256=Ae.md.algorithms.sha256=Js;Js.create=function(){js||xh();var t=null,e=Ae.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return e=Ae.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=Ae.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var s=n.fullMessageLength.length-1;s>=0;--s)n.fullMessageLength[s]+=a[1],a[1]=a[0]+(n.fullMessageLength[s]/4294967296>>>0),n.fullMessageLength[s]=n.fullMessageLength[s]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(i),Xs(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=Ae.util.createBuffer();i.putBytes(e.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(vo.substr(0,n.blockLength-a));for(var s,f,c=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)s=n.fullMessageLength[u+1]*8,f=s/4294967296>>>0,c+=f,i.putInt32(c>>>0),c=s>>>0;i.putInt32(c);var l={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};Xs(l,r,i);var h=Ae.util.createBuffer();return h.putInt32(l.h0),h.putInt32(l.h1),h.putInt32(l.h2),h.putInt32(l.h3),h.putInt32(l.h4),h.putInt32(l.h5),h.putInt32(l.h6),h.putInt32(l.h7),h},n};var vo=null,js=!1,t0=null;function xh(){vo=String.fromCharCode(128),vo+=Ae.util.fillString(String.fromCharCode(0),64),t0=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],js=!0}function Xs(t,e,r){for(var n,i,o,a,s,f,c,u,l,h,g,d,p,y,x,w=r.length();w>=64;){for(c=0;c<16;++c)e[c]=r.getInt32();for(;c<64;++c)n=e[c-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=e[c-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[c]=n+e[c-7]+i+e[c-16]|0;for(u=t.h0,l=t.h1,h=t.h2,g=t.h3,d=t.h4,p=t.h5,y=t.h6,x=t.h7,c=0;c<64;++c)a=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7),s=y^d&(p^y),o=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),f=u&l|h&(u^l),n=x+a+s+t0[c]+e[c],i=o+f,x=y,y=p,p=d,d=g+n>>>0,g=h,h=l,l=u,u=n+i>>>0;t.h0=t.h0+u|0,t.h1=t.h1+l|0,t.h2=t.h2+h|0,t.h3=t.h3+g|0,t.h4=t.h4+d|0,t.h5=t.h5+p|0,t.h6=t.h6+y|0,t.h7=t.h7+x|0,w-=64}}});var i0=X((H2,n0)=>{var Te=pt();Rt();var fi=null;Te.util.isNodejs&&!Te.options.usePureJavaScript&&!process.versions["node-webkit"]&&(fi=oi());var mh=n0.exports=Te.prng=Te.prng||{};mh.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();e.pools=n,e.pool=0,e.generate=function(c,u){if(!u)return e.generateSync(c);var l=e.plugin.cipher,h=e.plugin.increment,g=e.plugin.formatKey,d=e.plugin.formatSeed,p=Te.util.createBuffer();e.key=null,y();function y(x){if(x)return u(x);if(p.length()>=c)return u(null,p.getBytes(c));if(e.generated>1048575&&(e.key=null),e.key===null)return Te.util.nextTick(function(){o(y)});var w=l(e.key,e.seed);e.generated+=w.length,p.putBytes(w),e.key=g(l(e.key,h(e.seed))),e.seed=d(l(e.key,e.seed)),Te.util.setImmediate(y)}},e.generateSync=function(c){var u=e.plugin.cipher,l=e.plugin.increment,h=e.plugin.formatKey,g=e.plugin.formatSeed;e.key=null;for(var d=Te.util.createBuffer();d.length()<c;){e.generated>1048575&&(e.key=null),e.key===null&&a();var p=u(e.key,e.seed);e.generated+=p.length,d.putBytes(p),e.key=h(u(e.key,l(e.seed))),e.seed=g(u(e.key,e.seed))}return d.getBytes(c)};function o(c){if(e.pools[0].messageLength>=32)return s(),c();var u=32-e.pools[0].messageLength<<5;e.seedFile(u,function(l,h){if(l)return c(l);e.collect(h),s(),c()})}function a(){if(e.pools[0].messageLength>=32)return s();var c=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(c)),s()}function s(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var c=e.plugin.md.create();c.update(e.keyBytes);for(var u=1,l=0;l<32;++l)e.reseeds%u===0&&(c.update(e.pools[l].digest().getBytes()),e.pools[l].start()),u=u<<1;e.keyBytes=c.digest().getBytes(),c.start(),c.update(e.keyBytes);var h=c.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(h),e.generated=0}function f(c){var u=null,l=Te.util.globalScope,h=l.crypto||l.msCrypto;h&&h.getRandomValues&&(u=function(E){return h.getRandomValues(E)});var g=Te.util.createBuffer();if(u)for(;g.length()<c;){var d=Math.max(1,Math.min(c-g.length(),65536)/4),p=new Uint32Array(Math.floor(d));try{u(p);for(var y=0;y<p.length;++y)g.putInt32(p[y])}catch(E){if(!(typeof QuotaExceededError<"u"&&E instanceof QuotaExceededError))throw E}}if(g.length()<c)for(var x,w,b,L=Math.floor(Math.random()*65536);g.length()<c;){w=16807*(L&65535),x=16807*(L>>16),w+=(x&32767)<<16,w+=x>>15,w=(w&2147483647)+(w>>31),L=w&4294967295;for(var y=0;y<3;++y)b=L>>>(y<<3),b^=Math.floor(Math.random()*256),g.putByte(b&255)}return g.getBytes(c)}return fi?(e.seedFile=function(c,u){fi.randomBytes(c,function(l,h){if(l)return u(l);u(null,h.toString())})},e.seedFileSync=function(c){return fi.randomBytes(c).toString()}):(e.seedFile=function(c,u){try{u(null,f(c))}catch(l){u(l)}},e.seedFileSync=f),e.collect=function(c){for(var u=c.length,l=0;l<u;++l)e.pools[e.pool].update(c.substr(l,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(c,u){for(var l="",h=0;h<u;h+=8)l+=String.fromCharCode(c>>h&255);e.collect(l)},e.registerWorker=function(c){if(c===self)e.seedFile=function(l,h){function g(d){var p=d.data;p.forge&&p.forge.prng&&(self.removeEventListener("message",g),h(p.forge.prng.err,p.forge.prng.bytes))}self.addEventListener("message",g),self.postMessage({forge:{prng:{needed:l}}})};else{var u=function(l){var h=l.data;h.forge&&h.forge.prng&&e.seedFile(h.forge.prng.needed,function(g,d){c.postMessage({forge:{prng:{err:g,bytes:d}}})})};c.addEventListener("message",u)}},e}});var Cn=X((z2,bo)=>{var Pt=pt();mo();r0();i0();Rt();(function(){if(Pt.random&&Pt.random.getBytes){bo.exports=Pt.random;return}(function(t){var e={},r=new Array(4),n=Pt.util.createBuffer();e.formatKey=function(l){var h=Pt.util.createBuffer(l);return l=new Array(4),l[0]=h.getInt32(),l[1]=h.getInt32(),l[2]=h.getInt32(),l[3]=h.getInt32(),Pt.aes._expandKey(l,!1)},e.formatSeed=function(l){var h=Pt.util.createBuffer(l);return l=new Array(4),l[0]=h.getInt32(),l[1]=h.getInt32(),l[2]=h.getInt32(),l[3]=h.getInt32(),l},e.cipher=function(l,h){return Pt.aes._updateBlock(l,h,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},e.increment=function(l){return++l[3],l},e.md=Pt.md.sha256;function i(){var l=Pt.prng.create(e);return l.getBytes=function(h,g){return l.generate(h,g)},l.getBytesSync=function(h){return l.generate(h)},l}var o=i(),a=null,s=Pt.util.globalScope,f=s.crypto||s.msCrypto;if(f&&f.getRandomValues&&(a=function(l){return f.getRandomValues(l)}),Pt.options.usePureJavaScript||!Pt.util.isNodejs&&!a){if(typeof window>"u"||window.document,o.collectInt(+new Date,32),typeof navigator<"u"){var c="";for(var u in navigator)try{typeof navigator[u]=="string"&&(c+=navigator[u])}catch{}o.collect(c),c=null}t&&(t().mousemove(function(l){o.collectInt(l.clientX,16),o.collectInt(l.clientY,16)}),t().keypress(function(l){o.collectInt(l.charCode,8)}))}if(!Pt.random)Pt.random=o;else for(var u in o)Pt.random[u]=o[u];Pt.random.createInstance=i,bo.exports=Pt.random})(typeof jQuery<"u"?jQuery:null)})()});var f0=X((G2,s0)=>{var Qt=pt();Rt();var wo=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],o0=[1,2,3,5],vh=function(t,e){return t<<e&65535|(t&65535)>>16-e},bh=function(t,e){return(t&65535)>>e|t<<16-e&65535};s0.exports=Qt.rc2=Qt.rc2||{};Qt.rc2.expandKey=function(t,e){typeof t=="string"&&(t=Qt.util.createBuffer(t)),e=e||128;var r=t,n=t.length(),i=e,o=Math.ceil(i/8),a=255>>(i&7),s;for(s=n;s<128;s++)r.putByte(wo[r.at(s-1)+r.at(s-n)&255]);for(r.setAt(128-o,wo[r.at(128-o)&a]),s=127-o;s>=0;s--)r.setAt(s,wo[r.at(s+1)^r.at(s+o)]);return r};var a0=function(t,e,r){var n=!1,i=null,o=null,a=null,s,f,c,u,l=[];for(t=Qt.rc2.expandKey(t,e),c=0;c<64;c++)l.push(t.getInt16Le());r?(s=function(d){for(c=0;c<4;c++)d[c]+=l[u]+(d[(c+3)%4]&d[(c+2)%4])+(~d[(c+3)%4]&d[(c+1)%4]),d[c]=vh(d[c],o0[c]),u++},f=function(d){for(c=0;c<4;c++)d[c]+=l[d[(c+3)%4]&63]}):(s=function(d){for(c=3;c>=0;c--)d[c]=bh(d[c],o0[c]),d[c]-=l[u]+(d[(c+3)%4]&d[(c+2)%4])+(~d[(c+3)%4]&d[(c+1)%4]),u--},f=function(d){for(c=3;c>=0;c--)d[c]-=l[d[(c+3)%4]&63]});var h=function(d){var p=[];for(c=0;c<4;c++){var y=i.getInt16Le();a!==null&&(r?y^=a.getInt16Le():a.putInt16Le(y)),p.push(y&65535)}u=r?0:63;for(var x=0;x<d.length;x++)for(var w=0;w<d[x][0];w++)d[x][1](p);for(c=0;c<4;c++)a!==null&&(r?a.putInt16Le(p[c]):p[c]^=a.getInt16Le()),o.putInt16Le(p[c])},g=null;return g={start:function(d,p){d&&typeof d=="string"&&(d=Qt.util.createBuffer(d)),n=!1,i=Qt.util.createBuffer(),o=p||new Qt.util.createBuffer,a=d,g.output=o},update:function(d){for(n||i.putBuffer(d);i.length()>=8;)h([[5,s],[1,f],[6,s],[1,f],[5,s]])},finish:function(d){var p=!0;if(r)if(d)p=d(8,i,!r);else{var y=i.length()===8?8:8-i.length();i.fillWithByte(y,y)}if(p&&(n=!0,g.update()),!r&&(p=i.length()===0,p))if(d)p=d(8,o,!r);else{var x=o.length(),w=o.at(x-1);w>x?p=!1:o.truncate(w)}return p}},g};Qt.rc2.startEncrypting=function(t,e,r){var n=Qt.rc2.createEncryptionCipher(t,128);return n.start(e,r),n};Qt.rc2.createEncryptionCipher=function(t,e){return a0(t,e,!0)};Qt.rc2.startDecrypting=function(t,e,r){var n=Qt.rc2.createDecryptionCipher(t,128);return n.start(e,r),n};Qt.rc2.createDecryptionCipher=function(t,e){return a0(t,e,!1)}});var li=X(($2,g0)=>{var Eo=pt();g0.exports=Eo.jsbn=Eo.jsbn||{};var Ve,wh=0xdeadbeefcafe,c0=(wh&16777215)==15715070;function _(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}Eo.jsbn.BigInteger=_;function ft(){return new _(null)}function Eh(t,e,r,n,i,o){for(;--o>=0;){var a=e*this.data[t++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=a&67108863}return i}function Sh(t,e,r,n,i,o){for(var a=e&32767,s=e>>15;--o>=0;){var f=this.data[t]&32767,c=this.data[t++]>>15,u=s*f+c*a;f=a*f+((u&32767)<<15)+r.data[n]+(i&1073741823),i=(f>>>30)+(u>>>15)+s*c+(i>>>30),r.data[n++]=f&1073741823}return i}function u0(t,e,r,n,i,o){for(var a=e&16383,s=e>>14;--o>=0;){var f=this.data[t]&16383,c=this.data[t++]>>14,u=s*f+c*a;f=a*f+((u&16383)<<14)+r.data[n]+i,i=(f>>28)+(u>>14)+s*c,r.data[n++]=f&268435455}return i}typeof navigator>"u"?(_.prototype.am=u0,Ve=28):c0&&navigator.appName=="Microsoft Internet Explorer"?(_.prototype.am=Sh,Ve=30):c0&&navigator.appName!="Netscape"?(_.prototype.am=Eh,Ve=26):(_.prototype.am=u0,Ve=28);_.prototype.DB=Ve;_.prototype.DM=(1<<Ve)-1;_.prototype.DV=1<<Ve;var So=52;_.prototype.FV=Math.pow(2,So);_.prototype.F1=So-Ve;_.prototype.F2=2*Ve-So;var Bh="0123456789abcdefghijklmnopqrstuvwxyz",ci=new Array,Fr,se;Fr="0".charCodeAt(0);for(se=0;se<=9;++se)ci[Fr++]=se;Fr="a".charCodeAt(0);for(se=10;se<36;++se)ci[Fr++]=se;Fr="A".charCodeAt(0);for(se=10;se<36;++se)ci[Fr++]=se;function l0(t){return Bh.charAt(t)}function h0(t,e){var r=ci[t.charCodeAt(e)];return r??-1}function Ch(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}function Ah(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function er(t){var e=ft();return e.fromInt(t),e}function Th(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,i=!1,o=0;--n>=0;){var a=r==8?t[n]&255:h0(t,n);if(a<0){t.charAt(n)=="-"&&(i=!0);continue}i=!1,o==0?this.data[this.t++]=a:o+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this.data[this.t++]=a>>this.DB-o):this.data[this.t-1]|=a<<o,o+=r,o>=this.DB&&(o-=this.DB)}r==8&&t[0]&128&&(this.s=-1,o>0&&(this.data[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&_.ZERO.subTo(this,this)}function Ih(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function _h(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,i=!1,o="",a=this.t,s=this.DB-a*this.DB%e;if(a-- >0)for(s<this.DB&&(n=this.data[a]>>s)>0&&(i=!0,o=l0(n));a>=0;)s<e?(n=(this.data[a]&(1<<s)-1)<<e-s,n|=this.data[--a]>>(s+=this.DB-e)):(n=this.data[a]>>(s-=e)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=l0(n));return i?o:"0"}function Rh(){var t=ft();return _.ZERO.subTo(this,t),t}function Nh(){return this.s<0?this.negate():this}function Dh(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}function ui(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function Lh(){return this.t<=0?0:this.DB*(this.t-1)+ui(this.data[this.t-1]^this.s&this.DM)}function kh(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}function Uh(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}function Ph(t,e){var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(t/this.DB),a=this.s<<r&this.DM,s;for(s=this.t-1;s>=0;--s)e.data[s+o+1]=this.data[s]>>n|a,a=(this.data[s]&i)<<r;for(s=o-1;s>=0;--s)e.data[s]=0;e.data[o]=a,e.t=this.t+o+1,e.s=this.s,e.clamp()}function Oh(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,i=this.DB-n,o=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)e.data[a-r-1]|=(this.data[a]&o)<<i,e.data[a-r]=this.data[a]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&o)<<i),e.t=this.t-r,e.clamp()}function Kh(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()}function Fh(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&_.ZERO.subTo(e,e)}function Mh(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}function Vh(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){e?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=ft());var o=ft(),a=this.s,s=t.s,f=this.DB-ui(n.data[n.t-1]);f>0?(n.lShiftTo(f,o),i.lShiftTo(f,r)):(n.copyTo(o),i.copyTo(r));var c=o.t,u=o.data[c-1];if(u!=0){var l=u*(1<<this.F1)+(c>1?o.data[c-2]>>this.F2:0),h=this.FV/l,g=(1<<this.F1)/l,d=1<<this.F2,p=r.t,y=p-c,x=e??ft();for(o.dlShiftTo(y,x),r.compareTo(x)>=0&&(r.data[r.t++]=1,r.subTo(x,r)),_.ONE.dlShiftTo(c,x),x.subTo(o,o);o.t<c;)o.data[o.t++]=0;for(;--y>=0;){var w=r.data[--p]==u?this.DM:Math.floor(r.data[p]*h+(r.data[p-1]+d)*g);if((r.data[p]+=o.am(0,w,r,y,0,c))<w)for(o.dlShiftTo(y,x),r.subTo(x,r);r.data[p]<--w;)r.subTo(x,r)}e!=null&&(r.drShiftTo(c,e),a!=s&&_.ZERO.subTo(e,e)),r.t=c,r.clamp(),f>0&&r.rShiftTo(f,r),a<0&&_.ZERO.subTo(r,r)}}}function qh(t){var e=ft();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(_.ZERO)>0&&t.subTo(e,e),e}function mr(t){this.m=t}function Hh(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function zh(t){return t}function Gh(t){t.divRemTo(this.m,null,t)}function $h(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function Yh(t,e){t.squareTo(e),this.reduce(e)}mr.prototype.convert=Hh;mr.prototype.revert=zh;mr.prototype.reduce=Gh;mr.prototype.mulTo=$h;mr.prototype.sqrTo=Yh;function Wh(){if(this.t<1)return 0;var t=this.data[0];if(!(t&1))return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function vr(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function Zh(t){var e=ft();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(_.ZERO)>0&&this.m.subTo(e,e),e}function Qh(t){var e=ft();return t.copyTo(e),this.reduce(e),e}function Xh(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function Jh(t,e){t.squareTo(e),this.reduce(e)}function jh(t,e,r){t.multiplyTo(e,r),this.reduce(r)}vr.prototype.convert=Zh;vr.prototype.revert=Qh;vr.prototype.reduce=Xh;vr.prototype.mulTo=jh;vr.prototype.sqrTo=Jh;function td(){return(this.t>0?this.data[0]&1:this.s)==0}function ed(t,e){if(t>4294967295||t<1)return _.ONE;var r=ft(),n=ft(),i=e.convert(this),o=ui(t)-1;for(i.copyTo(r);--o>=0;)if(e.sqrTo(r,n),(t&1<<o)>0)e.mulTo(n,i,r);else{var a=r;r=n,n=a}return e.revert(r)}function rd(t,e){var r;return t<256||e.isEven()?r=new mr(e):r=new vr(e),this.exp(t,r)}_.prototype.copyTo=Ch;_.prototype.fromInt=Ah;_.prototype.fromString=Th;_.prototype.clamp=Ih;_.prototype.dlShiftTo=kh;_.prototype.drShiftTo=Uh;_.prototype.lShiftTo=Ph;_.prototype.rShiftTo=Oh;_.prototype.subTo=Kh;_.prototype.multiplyTo=Fh;_.prototype.squareTo=Mh;_.prototype.divRemTo=Vh;_.prototype.invDigit=Wh;_.prototype.isEven=td;_.prototype.exp=ed;_.prototype.toString=_h;_.prototype.negate=Rh;_.prototype.abs=Nh;_.prototype.compareTo=Dh;_.prototype.bitLength=Lh;_.prototype.mod=qh;_.prototype.modPowInt=rd;_.ZERO=er(0);_.ONE=er(1);function nd(){var t=ft();return this.copyTo(t),t}function id(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function od(){return this.t==0?this.s:this.data[0]<<24>>24}function ad(){return this.t==0?this.s:this.data[0]<<16>>16}function sd(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function fd(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function cd(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=er(r),i=ft(),o=ft(),a="";for(this.divRemTo(n,i,o);i.signum()>0;)a=(r+o.intValue()).toString(t).substr(1)+a,i.divRemTo(n,i,o);return o.intValue().toString(t)+a}function ud(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,o=0,a=0,s=0;s<t.length;++s){var f=h0(t,s);if(f<0){t.charAt(s)=="-"&&this.signum()==0&&(i=!0);continue}a=e*a+f,++o>=r&&(this.dMultiply(n),this.dAddOffset(a,0),o=0,a=0)}o>0&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(a,0)),i&&_.ZERO.subTo(this,this)}function ld(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(_.ONE.shiftLeft(t-1),Bo,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(_.ONE.shiftLeft(t-1),this);else{var n=new Array,i=t&7;n.length=(t>>3)+1,e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function hd(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,i=0;if(t-- >0)for(r<this.DB&&(n=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this.data[t]&(1<<r)-1)<<8-r,n|=this.data[--t]>>(r+=this.DB-8)):(n=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),n&128&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function dd(t){return this.compareTo(t)==0}function pd(t){return this.compareTo(t)<0?this:t}function yd(t){return this.compareTo(t)>0?this:t}function gd(t,e,r){var n,i,o=Math.min(t.t,this.t);for(n=0;n<o;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=o;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function xd(t,e){return t&e}function md(t){var e=ft();return this.bitwiseTo(t,xd,e),e}function Bo(t,e){return t|e}function vd(t){var e=ft();return this.bitwiseTo(t,Bo,e),e}function d0(t,e){return t^e}function bd(t){var e=ft();return this.bitwiseTo(t,d0,e),e}function p0(t,e){return t&~e}function wd(t){var e=ft();return this.bitwiseTo(t,p0,e),e}function Ed(){for(var t=ft(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}function Sd(t){var e=ft();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function Bd(t){var e=ft();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function Cd(t){if(t==0)return-1;var e=0;return t&65535||(t>>=16,e+=16),t&255||(t>>=8,e+=8),t&15||(t>>=4,e+=4),t&3||(t>>=2,e+=2),t&1||++e,e}function Ad(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+Cd(this.data[t]);return this.s<0?this.t*this.DB:-1}function Td(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function Id(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=Td(this.data[r]^e);return t}function _d(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}function Rd(t,e){var r=_.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function Nd(t){return this.changeBit(t,Bo)}function Dd(t){return this.changeBit(t,p0)}function Ld(t){return this.changeBit(t,d0)}function kd(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()}function Ud(t){var e=ft();return this.addTo(t,e),e}function Pd(t){var e=ft();return this.subTo(t,e),e}function Od(t){var e=ft();return this.multiplyTo(t,e),e}function Kd(t){var e=ft();return this.divRemTo(t,e,null),e}function Fd(t){var e=ft();return this.divRemTo(t,null,e),e}function Md(t){var e=ft(),r=ft();return this.divRemTo(t,e,r),new Array(e,r)}function Vd(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function qd(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function An(){}function y0(t){return t}function Hd(t,e,r){t.multiplyTo(e,r)}function zd(t,e){t.squareTo(e)}An.prototype.convert=y0;An.prototype.revert=y0;An.prototype.mulTo=Hd;An.prototype.sqrTo=zd;function Gd(t){return this.exp(t,new An)}function $d(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()}function Yd(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function Mr(t){this.r2=ft(),this.q3=ft(),_.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function Wd(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=ft();return t.copyTo(e),this.reduce(e),e}function Zd(t){return t}function Qd(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function Xd(t,e){t.squareTo(e),this.reduce(e)}function Jd(t,e,r){t.multiplyTo(e,r),this.reduce(r)}Mr.prototype.convert=Wd;Mr.prototype.revert=Zd;Mr.prototype.reduce=Qd;Mr.prototype.mulTo=Jd;Mr.prototype.sqrTo=Xd;function jd(t,e){var r=t.bitLength(),n,i=er(1),o;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?o=new mr(e):e.isEven()?o=new Mr(e):o=new vr(e);var a=new Array,s=3,f=n-1,c=(1<<n)-1;if(a[1]=o.convert(this),n>1){var u=ft();for(o.sqrTo(a[1],u);s<=c;)a[s]=ft(),o.mulTo(u,a[s-2],a[s]),s+=2}var l=t.t-1,h,g=!0,d=ft(),p;for(r=ui(t.data[l])-1;l>=0;){for(r>=f?h=t.data[l]>>r-f&c:(h=(t.data[l]&(1<<r+1)-1)<<f-r,l>0&&(h|=t.data[l-1]>>this.DB+r-f)),s=n;!(h&1);)h>>=1,--s;if((r-=s)<0&&(r+=this.DB,--l),g)a[h].copyTo(i),g=!1;else{for(;s>1;)o.sqrTo(i,d),o.sqrTo(d,i),s-=2;s>0?o.sqrTo(i,d):(p=i,i=d,d=p),o.mulTo(d,a[h],i)}for(;l>=0&&!(t.data[l]&1<<r);)o.sqrTo(i,d),p=i,i=d,d=p,--r<0&&(r=this.DB-1,--l)}return o.revert(i)}function tp(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),r.rShiftTo(o,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r}function ep(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r}function rp(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return _.ZERO;for(var r=t.clone(),n=this.clone(),i=er(1),o=er(0),a=er(0),s=er(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!o.isEven())&&(i.addTo(this,i),o.subTo(t,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),e?((!a.isEven()||!s.isEven())&&(a.addTo(this,a),s.subTo(t,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(a,i),o.subTo(s,o)):(n.subTo(r,n),e&&a.subTo(i,a),s.subTo(o,s))}if(n.compareTo(_.ONE)!=0)return _.ZERO;if(s.compareTo(t)>=0)return s.subtract(t);if(s.signum()<0)s.addTo(t,s);else return s;return s.signum()<0?s.add(t):s}var pe=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],np=(1<<26)/pe[pe.length-1];function ip(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=pe[pe.length-1]){for(e=0;e<pe.length;++e)if(r.data[0]==pe[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<pe.length;){for(var n=pe[e],i=e+1;i<pe.length&&n<np;)n*=pe[i++];for(n=r.modInt(n);e<i;)if(n%pe[e++]==0)return!1}return r.millerRabin(t)}function op(t){var e=this.subtract(_.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n=e.shiftRight(r),i=ap(),o,a=0;a<t;++a){do o=new _(this.bitLength(),i);while(o.compareTo(_.ONE)<=0||o.compareTo(e)>=0);var s=o.modPow(n,this);if(s.compareTo(_.ONE)!=0&&s.compareTo(e)!=0){for(var f=1;f++<r&&s.compareTo(e)!=0;)if(s=s.modPowInt(2,this),s.compareTo(_.ONE)==0)return!1;if(s.compareTo(e)!=0)return!1}}return!0}function ap(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)}}}_.prototype.chunkSize=sd;_.prototype.toRadix=cd;_.prototype.fromRadix=ud;_.prototype.fromNumber=ld;_.prototype.bitwiseTo=gd;_.prototype.changeBit=Rd;_.prototype.addTo=kd;_.prototype.dMultiply=Vd;_.prototype.dAddOffset=qd;_.prototype.multiplyLowerTo=$d;_.prototype.multiplyUpperTo=Yd;_.prototype.modInt=ep;_.prototype.millerRabin=op;_.prototype.clone=nd;_.prototype.intValue=id;_.prototype.byteValue=od;_.prototype.shortValue=ad;_.prototype.signum=fd;_.prototype.toByteArray=hd;_.prototype.equals=dd;_.prototype.min=pd;_.prototype.max=yd;_.prototype.and=md;_.prototype.or=vd;_.prototype.xor=bd;_.prototype.andNot=wd;_.prototype.not=Ed;_.prototype.shiftLeft=Sd;_.prototype.shiftRight=Bd;_.prototype.getLowestSetBit=Ad;_.prototype.bitCount=Id;_.prototype.testBit=_d;_.prototype.setBit=Nd;_.prototype.clearBit=Dd;_.prototype.flipBit=Ld;_.prototype.add=Ud;_.prototype.subtract=Pd;_.prototype.multiply=Od;_.prototype.divide=Kd;_.prototype.remainder=Fd;_.prototype.divideAndRemainder=Md;_.prototype.modPow=jd;_.prototype.modInverse=rp;_.prototype.pow=Gd;_.prototype.gcd=tp;_.prototype.isProbablePrime=ip});var w0=X((Y2,b0)=>{var Ie=pt();xr();Rt();var m0=b0.exports=Ie.sha1=Ie.sha1||{};Ie.md.sha1=Ie.md.algorithms.sha1=m0;m0.create=function(){v0||sp();var t=null,e=Ie.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return e=Ie.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=Ie.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var s=n.fullMessageLength.length-1;s>=0;--s)n.fullMessageLength[s]+=a[1],a[1]=a[0]+(n.fullMessageLength[s]/4294967296>>>0),n.fullMessageLength[s]=n.fullMessageLength[s]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(i),x0(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=Ie.util.createBuffer();i.putBytes(e.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(Co.substr(0,n.blockLength-a));for(var s,f,c=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)s=n.fullMessageLength[u+1]*8,f=s/4294967296>>>0,c+=f,i.putInt32(c>>>0),c=s>>>0;i.putInt32(c);var l={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};x0(l,r,i);var h=Ie.util.createBuffer();return h.putInt32(l.h0),h.putInt32(l.h1),h.putInt32(l.h2),h.putInt32(l.h3),h.putInt32(l.h4),h},n};var Co=null,v0=!1;function sp(){Co=String.fromCharCode(128),Co+=Ie.util.fillString(String.fromCharCode(0),64),v0=!0}function x0(t,e,r){for(var n,i,o,a,s,f,c,u,l=r.length();l>=64;){for(i=t.h0,o=t.h1,a=t.h2,s=t.h3,f=t.h4,u=0;u<16;++u)n=r.getInt32(),e[u]=n,c=s^o&(a^s),n=(i<<5|i>>>27)+c+f+1518500249+n,f=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<20;++u)n=e[u-3]^e[u-8]^e[u-14]^e[u-16],n=n<<1|n>>>31,e[u]=n,c=s^o&(a^s),n=(i<<5|i>>>27)+c+f+1518500249+n,f=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<32;++u)n=e[u-3]^e[u-8]^e[u-14]^e[u-16],n=n<<1|n>>>31,e[u]=n,c=o^a^s,n=(i<<5|i>>>27)+c+f+1859775393+n,f=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<40;++u)n=e[u-6]^e[u-16]^e[u-28]^e[u-32],n=n<<2|n>>>30,e[u]=n,c=o^a^s,n=(i<<5|i>>>27)+c+f+1859775393+n,f=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<60;++u)n=e[u-6]^e[u-16]^e[u-28]^e[u-32],n=n<<2|n>>>30,e[u]=n,c=o&a|s&(o^a),n=(i<<5|i>>>27)+c+f+2400959708+n,f=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<80;++u)n=e[u-6]^e[u-16]^e[u-28]^e[u-32],n=n<<2|n>>>30,e[u]=n,c=o^a^s,n=(i<<5|i>>>27)+c+f+3395469782+n,f=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+o|0,t.h2=t.h2+a|0,t.h3=t.h3+s|0,t.h4=t.h4+f|0,l-=64}}});var B0=X((W2,S0)=>{var _e=pt();Rt();Cn();w0();var E0=S0.exports=_e.pkcs1=_e.pkcs1||{};E0.encode_rsa_oaep=function(t,e,r){var n,i,o,a;typeof r=="string"?(n=r,i=arguments[3]||void 0,o=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),o?o.start():o=_e.md.sha1.create(),a||(a=o);var s=Math.ceil(t.n.bitLength()/8),f=s-2*o.digestLength-2;if(e.length>f){var c=new Error("RSAES-OAEP input message length is too long.");throw c.length=e.length,c.maxLength=f,c}n||(n=""),o.update(n,"raw");for(var u=o.digest(),l="",h=f-e.length,g=0;g<h;g++)l+="\0";var d=u.getBytes()+l+""+e;if(!i)i=_e.random.getBytes(o.digestLength);else if(i.length!==o.digestLength){var c=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw c.seedLength=i.length,c.digestLength=o.digestLength,c}var p=hi(i,s-o.digestLength-1,a),y=_e.util.xorBytes(d,p,d.length),x=hi(y,o.digestLength,a),w=_e.util.xorBytes(i,x,i.length);return"\0"+w+y};E0.decode_rsa_oaep=function(t,e,r){var n,i,o;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md));var a=Math.ceil(t.n.bitLength()/8);if(e.length!==a){var y=new Error("RSAES-OAEP encoded message length is invalid.");throw y.length=e.length,y.expectedLength=a,y}if(i===void 0?i=_e.md.sha1.create():i.start(),o||(o=i),a<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var s=i.digest().getBytes(),f=e.charAt(0),c=e.substring(1,i.digestLength+1),u=e.substring(1+i.digestLength),l=hi(u,i.digestLength,o),h=_e.util.xorBytes(c,l,c.length),g=hi(h,a-i.digestLength-1,o),d=_e.util.xorBytes(u,g,u.length),p=d.substring(0,i.digestLength),y=f!=="\0",x=0;x<i.digestLength;++x)y|=s.charAt(x)!==p.charAt(x);for(var w=1,b=i.digestLength,L=i.digestLength;L<d.length;L++){var E=d.charCodeAt(L),S=E&1^1,k=w?65534:0;y|=E&k,w=w&S,b+=w}if(y||d.charCodeAt(b)!==1)throw new Error("Invalid RSAES-OAEP padding.");return d.substring(b+1)};function hi(t,e,r){r||(r=_e.md.sha1.create());for(var n="",i=Math.ceil(e/r.digestLength),o=0;o<i;++o){var a=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255);r.start(),r.update(t+a),n+=r.digest().getBytes()}return n.substring(0,e)}});var C0=X((Z2,Ao)=>{var rr=pt();Rt();li();Cn();(function(){if(rr.prime){Ao.exports=rr.prime;return}var t=Ao.exports=rr.prime=rr.prime||{},e=rr.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new e(null);n.fromInt(30);var i=function(l,h){return l|h};t.generateProbablePrime=function(l,h,g){typeof h=="function"&&(g=h,h={}),h=h||{};var d=h.algorithm||"PRIMEINC";typeof d=="string"&&(d={name:d}),d.options=d.options||{};var p=h.prng||rr.random,y={nextBytes:function(x){for(var w=p.getBytesSync(x.length),b=0;b<x.length;++b)x[b]=w.charCodeAt(b)}};if(d.name==="PRIMEINC")return o(l,y,d.options,g);throw new Error("Invalid prime generation algorithm: "+d.name)};function o(l,h,g,d){return"workers"in g?f(l,h,g,d):a(l,h,g,d)}function a(l,h,g,d){var p=c(l,h),y=0,x=u(p.bitLength());"millerRabinTests"in g&&(x=g.millerRabinTests);var w=10;"maxBlockTime"in g&&(w=g.maxBlockTime),s(p,l,h,y,x,w,d)}function s(l,h,g,d,p,y,x){var w=+new Date;do{if(l.bitLength()>h&&(l=c(h,g)),l.isProbablePrime(p))return x(null,l);l.dAddOffset(r[d++%8],0)}while(y<0||+new Date-w<y);rr.util.setImmediate(function(){s(l,h,g,d,p,y,x)})}function f(l,h,g,d){if(typeof Worker>"u")return a(l,h,g,d);var p=c(l,h),y=g.workers,x=g.workLoad||100,w=x*30/8,b=g.workerScript||"forge/prime.worker.js";if(y===-1)return rr.util.estimateCores(function(E,S){E&&(S=2),y=S-1,L()});L();function L(){y=Math.max(1,y);for(var E=[],S=0;S<y;++S)E[S]=new Worker(b);for(var k=y,S=0;S<y;++S)E[S].addEventListener("message",O);var B=!1;function O(F){if(!B){--k;var P=F.data;if(P.found){for(var V=0;V<E.length;++V)E[V].terminate();return B=!0,d(null,new e(P.prime,16))}p.bitLength()>l&&(p=c(l,h));var W=p.toString(16);F.target.postMessage({hex:W,workLoad:x}),p.dAddOffset(w,0)}}}}function c(l,h){var g=new e(l,h),d=l-1;return g.testBit(d)||g.bitwiseTo(e.ONE.shiftLeft(d),i,g),g.dAddOffset(31-g.mod(n).byteValue(),0),g}function u(l){return l<=100?27:l<=150?18:l<=200?15:l<=250?12:l<=300?9:l<=350?8:l<=400?7:l<=500?6:l<=600?5:l<=800?4:l<=1250?3:2}})()});var pi=X((Q2,D0)=>{var Y=pt();Bn();li();Jn();B0();C0();Cn();Rt();typeof at>"u"&&(at=Y.jsbn.BigInteger);var at,To=Y.util.isNodejs?oi():null,v=Y.asn1,fe=Y.util;Y.pki=Y.pki||{};D0.exports=Y.pki.rsa=Y.rsa=Y.rsa||{};var J=Y.pki,fp=[6,4,2,4,2,4,6,2],cp={name:"PrivateKeyInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},up={name:"RSAPrivateKey",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},lp={name:"RSAPublicKey",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},hp=Y.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:v.Class.UNIVERSAL,type:v.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},dp={name:"DigestInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:v.Class.UNIVERSAL,type:v.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:v.Class.UNIVERSAL,type:v.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},pp=function(t){var e;if(t.algorithm in J.oids)e=J.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var n=v.oidToDer(e).getBytes(),i=v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[]),o=v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[]);o.value.push(v.create(v.Class.UNIVERSAL,v.Type.OID,!1,n)),o.value.push(v.create(v.Class.UNIVERSAL,v.Type.NULL,!1,""));var a=v.create(v.Class.UNIVERSAL,v.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(o),i.value.push(a),v.toDer(i).getBytes()},R0=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(at.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(at.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new at(Y.util.bytesToHex(Y.random.getBytes(e.n.bitLength()/8)),16);while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(at.ONE));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var i=t.mod(e.p).modPow(e.dP,e.p),o=t.mod(e.q).modPow(e.dQ,e.q);i.compareTo(o)<0;)i=i.add(e.p);var a=i.subtract(o).multiply(e.qInv).mod(e.p).multiply(e.q).add(o);return a=a.multiply(n.modInverse(e.n)).mod(e.n),a};J.rsa.encrypt=function(t,e,r){var n=r,i,o=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=N0(t,e,r)):(i=Y.util.createBuffer(),i.putBytes(t));for(var a=new at(i.toHex(),16),s=R0(a,e,n),f=s.toString(16),c=Y.util.createBuffer(),u=o-Math.ceil(f.length/2);u>0;)c.putByte(0),--u;return c.putBytes(Y.util.hexToBytes(f)),c.getBytes()};J.rsa.decrypt=function(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8);if(t.length!==i){var o=new Error("Encrypted message length is invalid.");throw o.length=t.length,o.expected=i,o}var a=new at(Y.util.createBuffer(t).toHex(),16);if(a.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var s=R0(a,e,r),f=s.toString(16),c=Y.util.createBuffer(),u=i-Math.ceil(f.length/2);u>0;)c.putByte(0),--u;return c.putBytes(Y.util.hexToBytes(f)),n!==!1?di(c.getBytes(),e,r):c.getBytes()};J.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n=r.prng||Y.random,i={nextBytes:function(s){for(var f=n.getBytesSync(s.length),c=0;c<s.length;++c)s[c]=f.charCodeAt(c)}},o=r.algorithm||"PRIMEINC",a;if(o==="PRIMEINC")a={algorithm:o,state:0,bits:t,rng:i,eInt:e||65537,e:new at(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+o);return a};J.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new at(null);r.fromInt(30);for(var n=0,i=function(l,h){return l|h},o=+new Date,a,s=0;t.keys===null&&(e<=0||s<e);){if(t.state===0){var f=t.p===null?t.pBits:t.qBits,c=f-1;t.pqState===0?(t.num=new at(f,t.rng),t.num.testBit(c)||t.num.bitwiseTo(at.ONE.shiftLeft(c),i,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),n=0,++t.pqState):t.pqState===1?t.num.bitLength()>f?t.pqState=0:t.num.isProbablePrime(gp(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(fp[n++%8],0):t.pqState===2?t.pqState=t.num.subtract(at.ONE).gcd(t.e).compareTo(at.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(at.ONE),t.q1=t.q.subtract(at.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(at.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var u=t.e.modInverse(t.phi);t.keys={privateKey:J.rsa.setPrivateKey(t.n,t.e,u,t.p,t.q,u.mod(t.p1),u.mod(t.q1),t.q.modInverse(t.p)),publicKey:J.rsa.setPublicKey(t.n,t.e)}}a=+new Date,s+=a-o,o=a}return t.keys!==null};J.rsa.generateKeyPair=function(t,e,r,n){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(n=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(n=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!Y.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(n){if(A0("generateKeyPair"))return To.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(s,f,c){if(s)return n(s);n(null,{privateKey:J.privateKeyFromPem(c),publicKey:J.publicKeyFromPem(f)})});if(T0("generateKey")&&T0("exportKey"))return fe.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:_0(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(s){return fe.globalScope.crypto.subtle.exportKey("pkcs8",s.privateKey)}).then(void 0,function(s){n(s)}).then(function(s){if(s){var f=J.privateKeyFromAsn1(v.fromDer(Y.util.createBuffer(s)));n(null,{privateKey:f,publicKey:J.setRsaPublicKey(f.n,f.e)})}});if(I0("generateKey")&&I0("exportKey")){var i=fe.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:_0(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(s){var f=s.target.result,c=fe.globalScope.msCrypto.subtle.exportKey("pkcs8",f.privateKey);c.oncomplete=function(u){var l=u.target.result,h=J.privateKeyFromAsn1(v.fromDer(Y.util.createBuffer(l)));n(null,{privateKey:h,publicKey:J.setRsaPublicKey(h.n,h.e)})},c.onerror=function(u){n(u)}},i.onerror=function(s){n(s)};return}}else if(A0("generateKeyPairSync")){var o=To.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:J.privateKeyFromPem(o.privateKey),publicKey:J.publicKeyFromPem(o.publicKey)}}}var a=J.rsa.createKeyPairGenerationState(t,e,r);if(!n)return J.rsa.stepKeyPairGenerationState(a,0),a.keys;yp(a,r,n)};J.setRsaPublicKey=J.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(n,i,o){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(s,f,c){return N0(s,f,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(s,f){return Y.pkcs1.encode_rsa_oaep(f,s,o)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(s){return s}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var a=i.encode(n,r,!0);return J.rsa.encrypt(a,r,!0)},r.verify=function(n,i,o,a){typeof o=="string"?o=o.toUpperCase():o===void 0&&(o="RSASSA-PKCS1-V1_5"),a===void 0&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),o==="RSASSA-PKCS1-V1_5"?o={verify:function(f,c){c=di(c,r,!0);var u=v.fromDer(c,{parseAllBytes:a._parseAllDigestBytes}),l={},h=[];if(!v.validate(u,dp,l,h)){var g=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw g.errors=h,g}var d=v.derToOid(l.algorithmIdentifier);if(!(d===Y.oids.md2||d===Y.oids.md5||d===Y.oids.sha1||d===Y.oids.sha224||d===Y.oids.sha256||d===Y.oids.sha384||d===Y.oids.sha512||d===Y.oids["sha512-224"]||d===Y.oids["sha512-256"])){var g=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw g.oid=d,g}if((d===Y.oids.md2||d===Y.oids.md5)&&!("parameters"in l))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return f===l.digest}}:(o==="NONE"||o==="NULL"||o===null)&&(o={verify:function(f,c){return c=di(c,r,!0),f===c}});var s=J.rsa.decrypt(i,r,!0,!1);return o.verify(n,s,r.n.bitLength())},r};J.setRsaPrivateKey=J.rsa.setPrivateKey=function(t,e,r,n,i,o,a,s){var f={n:t,e,d:r,p:n,q:i,dP:o,dQ:a,qInv:s};return f.decrypt=function(c,u,l){typeof u=="string"?u=u.toUpperCase():u===void 0&&(u="RSAES-PKCS1-V1_5");var h=J.rsa.decrypt(c,f,!1,!1);if(u==="RSAES-PKCS1-V1_5")u={decode:di};else if(u==="RSA-OAEP"||u==="RSAES-OAEP")u={decode:function(g,d){return Y.pkcs1.decode_rsa_oaep(d,g,l)}};else if(["RAW","NONE","NULL",null].indexOf(u)!==-1)u={decode:function(g){return g}};else throw new Error('Unsupported encryption scheme: "'+u+'".');return u.decode(h,f,!1)},f.sign=function(c,u){var l=!1;typeof u=="string"&&(u=u.toUpperCase()),u===void 0||u==="RSASSA-PKCS1-V1_5"?(u={encode:pp},l=1):(u==="NONE"||u==="NULL"||u===null)&&(u={encode:function(){return c}},l=1);var h=u.encode(c,f.n.bitLength());return J.rsa.encrypt(h,f,l)},f};J.wrapRsaPrivateKey=function(t){return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,v.integerToDer(0).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(J.oids.rsaEncryption).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.NULL,!1,"")]),v.create(v.Class.UNIVERSAL,v.Type.OCTETSTRING,!1,v.toDer(t).getBytes())])};J.privateKeyFromAsn1=function(t){var e={},r=[];if(v.validate(t,cp,e,r)&&(t=v.fromDer(Y.util.createBuffer(e.privateKey))),e={},r=[],!v.validate(t,up,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,o,a,s,f,c,u,l;return i=Y.util.createBuffer(e.privateKeyModulus).toHex(),o=Y.util.createBuffer(e.privateKeyPublicExponent).toHex(),a=Y.util.createBuffer(e.privateKeyPrivateExponent).toHex(),s=Y.util.createBuffer(e.privateKeyPrime1).toHex(),f=Y.util.createBuffer(e.privateKeyPrime2).toHex(),c=Y.util.createBuffer(e.privateKeyExponent1).toHex(),u=Y.util.createBuffer(e.privateKeyExponent2).toHex(),l=Y.util.createBuffer(e.privateKeyCoefficient).toHex(),J.setRsaPrivateKey(new at(i,16),new at(o,16),new at(a,16),new at(s,16),new at(f,16),new at(c,16),new at(u,16),new at(l,16))};J.privateKeyToAsn1=J.privateKeyToRSAPrivateKey=function(t){return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,v.integerToDer(0).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Re(t.n)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Re(t.e)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Re(t.d)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Re(t.p)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Re(t.q)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Re(t.dP)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Re(t.dQ)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Re(t.qInv))])};J.publicKeyFromAsn1=function(t){var e={},r=[];if(v.validate(t,hp,e,r)){var n=v.derToOid(e.publicKeyOid);if(n!==J.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}t=e.rsaPublicKey}if(r=[],!v.validate(t,lp,e,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var o=Y.util.createBuffer(e.publicKeyModulus).toHex(),a=Y.util.createBuffer(e.publicKeyExponent).toHex();return J.setRsaPublicKey(new at(o,16),new at(a,16))};J.publicKeyToAsn1=J.publicKeyToSubjectPublicKeyInfo=function(t){return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(J.oids.rsaEncryption).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.NULL,!1,"")]),v.create(v.Class.UNIVERSAL,v.Type.BITSTRING,!1,[J.publicKeyToRSAPublicKey(t)])])};J.publicKeyToRSAPublicKey=function(t){return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Re(t.n)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Re(t.e))])};function N0(t,e,r){var n=Y.util.createBuffer(),i=Math.ceil(e.n.bitLength()/8);if(t.length>i-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");throw o.length=t.length,o.max=i-11,o}n.putByte(0),n.putByte(r);var a=i-3-t.length,s;if(r===0||r===1){s=r===0?0:255;for(var f=0;f<a;++f)n.putByte(s)}else for(;a>0;){for(var c=0,u=Y.random.getBytes(a),f=0;f<a;++f)s=u.charCodeAt(f),s===0?++c:n.putByte(s);a=c}return n.putByte(0),n.putBytes(t),n}function di(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8),o=Y.util.createBuffer(t),a=o.getByte(),s=o.getByte();if(a!==0||r&&s!==0&&s!==1||!r&&s!=2||r&&s===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var f=0;if(s===0){f=i-3-n;for(var c=0;c<f;++c)if(o.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(s===1)for(f=0;o.length()>1;){if(o.getByte()!==255){--o.read;break}++f}else if(s===2)for(f=0;o.length()>1;){if(o.getByte()===0){--o.read;break}++f}var u=o.getByte();if(u!==0||f!==i-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}function yp(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng),i();function i(){o(t.pBits,function(s,f){if(s)return r(s);if(t.p=f,t.q!==null)return a(s,t.q);o(t.qBits,a)})}function o(s,f){Y.prime.generateProbablePrime(s,n,f)}function a(s,f){if(s)return r(s);if(t.q=f,t.p.compareTo(t.q)<0){var c=t.p;t.p=t.q,t.q=c}if(t.p.subtract(at.ONE).gcd(t.e).compareTo(at.ONE)!==0){t.p=null,i();return}if(t.q.subtract(at.ONE).gcd(t.e).compareTo(at.ONE)!==0){t.q=null,o(t.qBits,a);return}if(t.p1=t.p.subtract(at.ONE),t.q1=t.q.subtract(at.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(at.ONE)!==0){t.p=t.q=null,i();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,o(t.qBits,a);return}var u=t.e.modInverse(t.phi);t.keys={privateKey:J.rsa.setPrivateKey(t.n,t.e,u,t.p,t.q,u.mod(t.p1),u.mod(t.q1),t.q.modInverse(t.p)),publicKey:J.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}}function Re(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=Y.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}function gp(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function A0(t){return Y.util.isNodejs&&typeof To[t]=="function"}function T0(t){return typeof fe.globalScope<"u"&&typeof fe.globalScope.crypto=="object"&&typeof fe.globalScope.crypto.subtle=="object"&&typeof fe.globalScope.crypto.subtle[t]=="function"}function I0(t){return typeof fe.globalScope<"u"&&typeof fe.globalScope.msCrypto=="object"&&typeof fe.globalScope.msCrypto.subtle=="object"&&typeof fe.globalScope.msCrypto.subtle[t]=="function"}function _0(t){for(var e=Y.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}});var K0=X((X2,O0)=>{var q=pt();mo();Bn();qs();xr();Jn();Ys();Qs();Cn();f0();pi();Rt();typeof L0>"u"&&(L0=q.jsbn.BigInteger);var L0,A=q.asn1,j=q.pki=q.pki||{};O0.exports=j.pbe=q.pbe=q.pbe||{};var br=j.oids,xp={name:"EncryptedPrivateKeyInfo",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:A.Class.UNIVERSAL,type:A.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},mp={name:"PBES2Algorithms",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:A.Class.UNIVERSAL,type:A.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:A.Class.UNIVERSAL,type:A.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},vp={name:"pkcs-12PbeParams",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:A.Class.UNIVERSAL,type:A.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"iterations"}]};j.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=q.random.getBytesSync(r.saltSize),i=r.count,o=A.integerToDer(i),a,s,f;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var c,u,l;switch(r.algorithm){case"aes128":a=16,c=16,u=br["aes128-CBC"],l=q.aes.createEncryptionCipher;break;case"aes192":a=24,c=16,u=br["aes192-CBC"],l=q.aes.createEncryptionCipher;break;case"aes256":a=32,c=16,u=br["aes256-CBC"],l=q.aes.createEncryptionCipher;break;case"des":a=8,c=8,u=br.desCBC,l=q.des.createEncryptionCipher;break;default:var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var g="hmacWith"+r.prfAlgorithm.toUpperCase(),d=P0(g),p=q.pkcs5.pbkdf2(e,n,i,a,d),y=q.random.getBytesSync(c),x=l(p);x.start(y),x.update(A.toDer(t)),x.finish(),f=x.output.getBytes();var w=bp(n,o,a,g);s=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(br.pkcs5PBES2).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(br.pkcs5PBKDF2).getBytes()),w]),A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(u).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,y)])])])}else if(r.algorithm==="3des"){a=24;var b=new q.util.ByteBuffer(n),p=j.pbe.generatePkcs12Key(e,b,1,i,a),y=j.pbe.generatePkcs12Key(e,b,2,i,a),x=q.des.createEncryptionCipher(p);x.start(y),x.update(A.toDer(t)),x.finish(),f=x.output.getBytes(),s=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(br["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,n),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,o.getBytes())])])}else{var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var L=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[s,A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,f)]);return L};j.decryptPrivateKeyInfo=function(t,e){var r=null,n={},i=[];if(!A.validate(t,xp,n,i)){var o=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var a=A.derToOid(n.encryptionOid),s=j.pbe.getCipher(a,n.encryptionParams,e),f=q.util.createBuffer(n.encryptedData);return s.update(f),s.finish()&&(r=A.fromDer(s.output)),r};j.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:A.toDer(t).getBytes()};return q.pem.encode(r,{maxline:e})};j.encryptedPrivateKeyFromPem=function(t){var e=q.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return A.fromDer(e.body)};j.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var n=j.wrapRsaPrivateKey(j.privateKeyToAsn1(t));return n=j.encryptPrivateKeyInfo(n,e,r),j.encryptedPrivateKeyToPem(n)}var i,o,a,s;switch(r.algorithm){case"aes128":i="AES-128-CBC",a=16,o=q.random.getBytesSync(16),s=q.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",a=24,o=q.random.getBytesSync(16),s=q.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",a=32,o=q.random.getBytesSync(16),s=q.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",a=24,o=q.random.getBytesSync(8),s=q.des.createEncryptionCipher;break;case"des":i="DES-CBC",a=8,o=q.random.getBytesSync(8),s=q.des.createEncryptionCipher;break;default:var f=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw f.algorithm=r.algorithm,f}var c=q.pbe.opensslDeriveBytes(e,o.substr(0,8),a),u=s(c);u.start(o),u.update(A.toDer(j.privateKeyToAsn1(t))),u.finish();var l={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:q.util.bytesToHex(o).toUpperCase()},body:u.output.getBytes()};return q.pem.encode(l)};j.decryptRsaPrivateKey=function(t,e){var r=null,n=q.pem.decode(t)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var o,a;switch(n.dekInfo.algorithm){case"DES-CBC":o=8,a=q.des.createDecryptionCipher;break;case"DES-EDE3-CBC":o=24,a=q.des.createDecryptionCipher;break;case"AES-128-CBC":o=16,a=q.aes.createDecryptionCipher;break;case"AES-192-CBC":o=24,a=q.aes.createDecryptionCipher;break;case"AES-256-CBC":o=32,a=q.aes.createDecryptionCipher;break;case"RC2-40-CBC":o=5,a=function(l){return q.rc2.createDecryptionCipher(l,40)};break;case"RC2-64-CBC":o=8,a=function(l){return q.rc2.createDecryptionCipher(l,64)};break;case"RC2-128-CBC":o=16,a=function(l){return q.rc2.createDecryptionCipher(l,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var s=q.util.hexToBytes(n.dekInfo.parameters),f=q.pbe.opensslDeriveBytes(e,s.substr(0,8),o),c=a(f);if(c.start(s),c.update(q.util.createBuffer(n.body)),c.finish())r=c.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=j.decryptPrivateKeyInfo(A.fromDer(r),e):r=A.fromDer(r),r!==null&&(r=j.privateKeyFromAsn1(r)),r};j.pbe.generatePkcs12Key=function(t,e,r,n,i,o){var a,s;if(typeof o>"u"||o===null){if(!("sha1"in q.md))throw new Error('"sha1" hash algorithm unavailable.');o=q.md.sha1.create()}var f=o.digestLength,c=o.blockLength,u=new q.util.ByteBuffer,l=new q.util.ByteBuffer;if(t!=null){for(s=0;s<t.length;s++)l.putInt16(t.charCodeAt(s));l.putInt16(0)}var h=l.length(),g=e.length(),d=new q.util.ByteBuffer;d.fillWithByte(r,c);var p=c*Math.ceil(g/c),y=new q.util.ByteBuffer;for(s=0;s<p;s++)y.putByte(e.at(s%g));var x=c*Math.ceil(h/c),w=new q.util.ByteBuffer;for(s=0;s<x;s++)w.putByte(l.at(s%h));var b=y;b.putBuffer(w);for(var L=Math.ceil(i/f),E=1;E<=L;E++){var S=new q.util.ByteBuffer;S.putBytes(d.bytes()),S.putBytes(b.bytes());for(var k=0;k<n;k++)o.start(),o.update(S.getBytes()),S=o.digest();var B=new q.util.ByteBuffer;for(s=0;s<c;s++)B.putByte(S.at(s%f));var O=Math.ceil(g/c)+Math.ceil(h/c),F=new q.util.ByteBuffer;for(a=0;a<O;a++){var P=new q.util.ByteBuffer(b.getBytes(c)),V=511;for(s=B.length()-1;s>=0;s--)V=V>>8,V+=B.at(s)+P.at(s),P.setAt(s,V&255);F.putBuffer(P)}b=F,u.putBuffer(S)}return u.truncate(u.length()-i),u};j.pbe.getCipher=function(t,e,r){switch(t){case j.oids.pkcs5PBES2:return j.pbe.getCipherForPBES2(t,e,r);case j.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case j.oids["pbewithSHAAnd40BitRC2-CBC"]:return j.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};j.pbe.getCipherForPBES2=function(t,e,r){var n={},i=[];if(!A.validate(e,mp,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}if(t=A.derToOid(n.kdfOid),t!==j.oids.pkcs5PBKDF2){var o=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw o.oid=t,o.supportedOids=["pkcs5PBKDF2"],o}if(t=A.derToOid(n.encOid),t!==j.oids["aes128-CBC"]&&t!==j.oids["aes192-CBC"]&&t!==j.oids["aes256-CBC"]&&t!==j.oids["des-EDE3-CBC"]&&t!==j.oids.desCBC){var o=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw o.oid=t,o.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],o}var a=n.kdfSalt,s=q.util.createBuffer(n.kdfIterationCount);s=s.getInt(s.length()<<3);var f,c;switch(j.oids[t]){case"aes128-CBC":f=16,c=q.aes.createDecryptionCipher;break;case"aes192-CBC":f=24,c=q.aes.createDecryptionCipher;break;case"aes256-CBC":f=32,c=q.aes.createDecryptionCipher;break;case"des-EDE3-CBC":f=24,c=q.des.createDecryptionCipher;break;case"desCBC":f=8,c=q.des.createDecryptionCipher;break}var u=U0(n.prfOid),l=q.pkcs5.pbkdf2(r,a,s,f,u),h=n.encIv,g=c(l);return g.start(h),g};j.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},i=[];if(!A.validate(e,vp,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var a=q.util.createBuffer(n.salt),s=q.util.createBuffer(n.iterations);s=s.getInt(s.length()<<3);var f,c,u;switch(t){case j.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:f=24,c=8,u=q.des.startDecrypting;break;case j.oids["pbewithSHAAnd40BitRC2-CBC"]:f=5,c=8,u=function(p,y){var x=q.rc2.createDecryptionCipher(p,40);return x.start(y,null),x};break;default:var o=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw o.oid=t,o}var l=U0(n.prfOid),h=j.pbe.generatePkcs12Key(r,a,1,s,f,l);l.start();var g=j.pbe.generatePkcs12Key(r,a,2,s,c,l);return u(h,g)};j.pbe.opensslDeriveBytes=function(t,e,r,n){if(typeof n>"u"||n===null){if(!("md5"in q.md))throw new Error('"md5" hash algorithm unavailable.');n=q.md.md5.create()}e===null&&(e="");for(var i=[k0(n,t+e)],o=16,a=1;o<r;++a,o+=16)i.push(k0(n,i[a-1]+t+e));return i.join("").substr(0,r)};function k0(t,e){return t.start().update(e).digest().getBytes()}function U0(t){var e;if(!t)e="hmacWithSHA1";else if(e=j.oids[A.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return P0(e)}function P0(t){var e=q.md;switch(t){case"hmacWithSHA224":e=q.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}function bp(t,e,r,n){var i=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,t),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,e.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,q.util.hexToBytes(r.toString(16))),A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(j.oids[n]).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.NULL,!1,"")])),i}});var Nf=X((Fm,Rf)=>{"use strict";Rf.exports=I1;function I1(t,e){for(var r=new Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(s,f){r[n]=function(u){if(o)if(o=!1,u)f(u);else{for(var l=new Array(arguments.length-1),h=0;h<l.length;)l[h++]=arguments[h];s.apply(null,l)}};try{t.apply(e||null,r)}catch(c){o&&(o=!1,f(c))}})}});var Uf=X(kf=>{"use strict";var Li=kf;Li.length=function(e){var r=e.length;if(!r)return 0;for(var n=0;--r%4>1&&e.charAt(r)==="=";)++n;return Math.ceil(e.length*3)/4-n};var en=new Array(64),Lf=new Array(123);for(ve=0;ve<64;)Lf[en[ve]=ve<26?ve+65:ve<52?ve+71:ve<62?ve-4:ve-59|43]=ve++;var ve;Li.encode=function(e,r,n){for(var i=null,o=[],a=0,s=0,f;r<n;){var c=e[r++];switch(s){case 0:o[a++]=en[c>>2],f=(c&3)<<4,s=1;break;case 1:o[a++]=en[f|c>>4],f=(c&15)<<2,s=2;break;case 2:o[a++]=en[f|c>>6],o[a++]=en[c&63],s=0;break}a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0)}return s&&(o[a++]=en[f],o[a++]=61,s===1&&(o[a++]=61)),i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))};var Df="invalid encoding";Li.decode=function(e,r,n){for(var i=n,o=0,a,s=0;s<e.length;){var f=e.charCodeAt(s++);if(f===61&&o>1)break;if((f=Lf[f])===void 0)throw Error(Df);switch(o){case 0:a=f,o=1;break;case 1:r[n++]=a<<2|(f&48)>>4,a=f,o=2;break;case 2:r[n++]=(a&15)<<4|(f&60)>>2,a=f,o=3;break;case 3:r[n++]=(a&3)<<6|f,o=0;break}}if(o===1)throw Error(Df);return n-i};Li.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var Of=X((Vm,Pf)=>{"use strict";Pf.exports=ki;function ki(){this._listeners={}}ki.prototype.on=function(e,r,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:n||this}),this};ki.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};ki.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var zf=X((qm,Hf)=>{"use strict";Hf.exports=Kf(Kf);function Kf(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),n=r[3]===128;function i(f,c,u){e[0]=f,c[u]=r[0],c[u+1]=r[1],c[u+2]=r[2],c[u+3]=r[3]}function o(f,c,u){e[0]=f,c[u]=r[3],c[u+1]=r[2],c[u+2]=r[1],c[u+3]=r[0]}t.writeFloatLE=n?i:o,t.writeFloatBE=n?o:i;function a(f,c){return r[0]=f[c],r[1]=f[c+1],r[2]=f[c+2],r[3]=f[c+3],e[0]}function s(f,c){return r[3]=f[c],r[2]=f[c+1],r[1]=f[c+2],r[0]=f[c+3],e[0]}t.readFloatLE=n?a:s,t.readFloatBE=n?s:a}():function(){function e(n,i,o,a){var s=i<0?1:0;if(s&&(i=-i),i===0)n(1/i>0?0:2147483648,o,a);else if(isNaN(i))n(2143289344,o,a);else if(i>34028234663852886e22)n((s<<31|2139095040)>>>0,o,a);else if(i<11754943508222875e-54)n((s<<31|Math.round(i/1401298464324817e-60))>>>0,o,a);else{var f=Math.floor(Math.log(i)/Math.LN2),c=Math.round(i*Math.pow(2,-f)*8388608)&8388607;n((s<<31|f+127<<23|c)>>>0,o,a)}}t.writeFloatLE=e.bind(null,Ff),t.writeFloatBE=e.bind(null,Mf);function r(n,i,o){var a=n(i,o),s=(a>>31)*2+1,f=a>>>23&255,c=a&8388607;return f===255?c?NaN:s*(1/0):f===0?s*1401298464324817e-60*c:s*Math.pow(2,f-150)*(c+8388608)}t.readFloatLE=r.bind(null,Vf),t.readFloatBE=r.bind(null,qf)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),n=r[7]===128;function i(f,c,u){e[0]=f,c[u]=r[0],c[u+1]=r[1],c[u+2]=r[2],c[u+3]=r[3],c[u+4]=r[4],c[u+5]=r[5],c[u+6]=r[6],c[u+7]=r[7]}function o(f,c,u){e[0]=f,c[u]=r[7],c[u+1]=r[6],c[u+2]=r[5],c[u+3]=r[4],c[u+4]=r[3],c[u+5]=r[2],c[u+6]=r[1],c[u+7]=r[0]}t.writeDoubleLE=n?i:o,t.writeDoubleBE=n?o:i;function a(f,c){return r[0]=f[c],r[1]=f[c+1],r[2]=f[c+2],r[3]=f[c+3],r[4]=f[c+4],r[5]=f[c+5],r[6]=f[c+6],r[7]=f[c+7],e[0]}function s(f,c){return r[7]=f[c],r[6]=f[c+1],r[5]=f[c+2],r[4]=f[c+3],r[3]=f[c+4],r[2]=f[c+5],r[1]=f[c+6],r[0]=f[c+7],e[0]}t.readDoubleLE=n?a:s,t.readDoubleBE=n?s:a}():function(){function e(n,i,o,a,s,f){var c=a<0?1:0;if(c&&(a=-a),a===0)n(0,s,f+i),n(1/a>0?0:2147483648,s,f+o);else if(isNaN(a))n(0,s,f+i),n(2146959360,s,f+o);else if(a>17976931348623157e292)n(0,s,f+i),n((c<<31|2146435072)>>>0,s,f+o);else{var u;if(a<22250738585072014e-324)u=a/5e-324,n(u>>>0,s,f+i),n((c<<31|u/4294967296)>>>0,s,f+o);else{var l=Math.floor(Math.log(a)/Math.LN2);l===1024&&(l=1023),u=a*Math.pow(2,-l),n(u*4503599627370496>>>0,s,f+i),n((c<<31|l+1023<<20|u*1048576&1048575)>>>0,s,f+o)}}}t.writeDoubleLE=e.bind(null,Ff,0,4),t.writeDoubleBE=e.bind(null,Mf,4,0);function r(n,i,o,a,s){var f=n(a,s+i),c=n(a,s+o),u=(c>>31)*2+1,l=c>>>20&2047,h=4294967296*(c&1048575)+f;return l===2047?h?NaN:u*(1/0):l===0?u*5e-324*h:u*Math.pow(2,l-1075)*(h+4503599627370496)}t.readDoubleLE=r.bind(null,Vf,0,4),t.readDoubleBE=r.bind(null,qf,4,0)}(),t}function Ff(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function Mf(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function Vf(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function qf(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var Gf=X((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var Yf=X($f=>{"use strict";var pa=$f;pa.length=function(e){for(var r=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,r+=4):r+=3;return r};pa.read=function(e,r,n){var i=n-r;if(i<1)return"";for(var o=null,a=[],s=0,f;r<n;)f=e[r++],f<128?a[s++]=f:f>191&&f<224?a[s++]=(f&31)<<6|e[r++]&63:f>239&&f<365?(f=((f&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,a[s++]=55296+(f>>10),a[s++]=56320+(f&1023)):a[s++]=(f&15)<<12|(e[r++]&63)<<6|e[r++]&63,s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0);return o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};pa.write=function(e,r,n){for(var i=n,o,a,s=0;s<e.length;++s)o=e.charCodeAt(s),o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=o&63|128):(o&64512)===55296&&((a=e.charCodeAt(s+1))&64512)===56320?(o=65536+((o&1023)<<10)+(a&1023),++s,r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=o&63|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=o&63|128);return n-i}});var Zf=X((zm,Wf)=>{"use strict";Wf.exports=_1;function _1(t,e,r){var n=r||8192,i=n>>>1,o=null,a=n;return function(f){if(f<1||f>i)return t(f);a+f>n&&(o=t(n),a=0);var c=e.call(o,a,a+=f);return a&7&&(a=(a|7)+1),c}}});var Xf=X((Gm,Qf)=>{"use strict";Qf.exports=Kt;var Ln=Tr();function Kt(t,e){this.lo=t>>>0,this.hi=e>>>0}var Ar=Kt.zero=new Kt(0,0);Ar.toNumber=function(){return 0};Ar.zzEncode=Ar.zzDecode=function(){return this};Ar.length=function(){return 1};var R1=Kt.zeroHash="\0\0\0\0\0\0\0\0";Kt.fromNumber=function(e){if(e===0)return Ar;var r=e<0;r&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new Kt(n,i)};Kt.from=function(e){if(typeof e=="number")return Kt.fromNumber(e);if(Ln.isString(e))if(Ln.Long)e=Ln.Long.fromString(e);else return Kt.fromNumber(parseInt(e,10));return e.low||e.high?new Kt(e.low>>>0,e.high>>>0):Ar};Kt.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};Kt.prototype.toLong=function(e){return Ln.Long?new Ln.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var cr=String.prototype.charCodeAt;Kt.fromHash=function(e){return e===R1?Ar:new Kt((cr.call(e,0)|cr.call(e,1)<<8|cr.call(e,2)<<16|cr.call(e,3)<<24)>>>0,(cr.call(e,4)|cr.call(e,5)<<8|cr.call(e,6)<<16|cr.call(e,7)<<24)>>>0)};Kt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Kt.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};Kt.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};Kt.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var Tr=X(ya=>{"use strict";var $=ya;$.asPromise=Nf();$.base64=Uf();$.EventEmitter=Of();$.float=zf();$.inquire=Gf();$.utf8=Yf();$.pool=Zf();$.LongBits=Xf();$.isNode=!!(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);$.global=$.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||ya;$.emptyArray=Object.freeze?Object.freeze([]):[];$.emptyObject=Object.freeze?Object.freeze({}):{};$.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};$.isString=function(e){return typeof e=="string"||e instanceof String};$.isObject=function(e){return e&&typeof e=="object"};$.isset=$.isSet=function(e,r){var n=e[r];return n!=null&&e.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};$.Buffer=function(){try{var t=$.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}();$._Buffer_from=null;$._Buffer_allocUnsafe=null;$.newBuffer=function(e){return typeof e=="number"?$.Buffer?$._Buffer_allocUnsafe(e):new $.Array(e):$.Buffer?$._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};$.Array=typeof Uint8Array<"u"?Uint8Array:Array;$.Long=$.global.dcodeIO&&$.global.dcodeIO.Long||$.global.Long||$.inquire("long");$.key2Re=/^true|false|0|1$/;$.key32Re=/^-?(?:0|[1-9][0-9]*)$/;$.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;$.longToHash=function(e){return e?$.LongBits.from(e).toHash():$.LongBits.zeroHash};$.longFromHash=function(e,r){var n=$.LongBits.fromHash(e);return $.Long?$.Long.fromBits(n.lo,n.hi,r):n.toNumber(!!r)};function Jf(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;++i)(t[n[i]]===void 0||!r)&&(t[n[i]]=e[n[i]]);return t}$.merge=Jf;$.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function jf(t){function e(r,n){if(!(this instanceof e))return new e(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&Jf(this,n)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return t},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}$.newError=jf;$.ProtocolError=jf("ProtocolError");$.oneOfGetter=function(e){for(var r={},n=0;n<e.length;++n)r[e[n]]=1;return function(){for(var i=Object.keys(this),o=i.length-1;o>-1;--o)if(r[i[o]]===1&&this[i[o]]!==void 0&&this[i[o]]!==null)return i[o]}};$.oneOfSetter=function(e){return function(r){for(var n=0;n<e.length;++n)e[n]!==r&&delete this[e[n]]}};$.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};$._configure=function(){var t=$.Buffer;if(!t){$._Buffer_from=$._Buffer_allocUnsafe=null;return}$._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,n){return new t(r,n)},$._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var ma=X((Ym,ic)=>{"use strict";ic.exports=It;var be=Tr(),xa,rc=be.LongBits,N1=be.utf8;function we(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function It(t){this.buf=t,this.pos=0,this.len=t.length}var tc=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new It(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new It(e);throw Error("illegal buffer")},nc=function(){return be.Buffer?function(r){return(It.create=function(i){return be.Buffer.isBuffer(i)?new xa(i):tc(i)})(r)}:tc};It.create=nc();It.prototype._slice=be.Array.prototype.subarray||be.Array.prototype.slice;It.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,we(this,10);return e}}();It.prototype.int32=function(){return this.uint32()|0};It.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function ga(){var t=new rc(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw we(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw we(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}It.prototype.bool=function(){return this.uint32()!==0};function Ui(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}It.prototype.fixed32=function(){if(this.pos+4>this.len)throw we(this,4);return Ui(this.buf,this.pos+=4)};It.prototype.sfixed32=function(){if(this.pos+4>this.len)throw we(this,4);return Ui(this.buf,this.pos+=4)|0};function ec(){if(this.pos+8>this.len)throw we(this,8);return new rc(Ui(this.buf,this.pos+=4),Ui(this.buf,this.pos+=4))}It.prototype.float=function(){if(this.pos+4>this.len)throw we(this,4);var e=be.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};It.prototype.double=function(){if(this.pos+8>this.len)throw we(this,4);var e=be.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};It.prototype.bytes=function(){var e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw we(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(r,n);if(r===n){var i=be.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,r,n)};It.prototype.string=function(){var e=this.bytes();return N1.read(e,0,e.length)};It.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw we(this,e);this.pos+=e}else do if(this.pos>=this.len)throw we(this);while(this.buf[this.pos++]&128);return this};It.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};It._configure=function(t){xa=t,It.create=nc(),xa._configure();var e=be.Long?"toLong":"toNumber";be.merge(It.prototype,{int64:function(){return ga.call(this)[e](!1)},uint64:function(){return ga.call(this)[e](!0)},sint64:function(){return ga.call(this).zzDecode()[e](!1)},fixed64:function(){return ec.call(this)[e](!0)},sfixed64:function(){return ec.call(this)[e](!1)}})}});var fc=X((Wm,sc)=>{"use strict";sc.exports=Ir;var ac=ma();(Ir.prototype=Object.create(ac.prototype)).constructor=Ir;var oc=Tr();function Ir(t){ac.call(this,t)}Ir._configure=function(){oc.Buffer&&(Ir.prototype._slice=oc.Buffer.prototype.slice)};Ir.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Ir._configure()});var Ca=X((Zm,hc)=>{"use strict";hc.exports=ct;var ce=Tr(),va,Pi=ce.LongBits,cc=ce.base64,uc=ce.utf8;function kn(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function wa(){}function D1(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function ct(){this.len=0,this.head=new kn(wa,0,0),this.tail=this.head,this.states=null}var lc=function(){return ce.Buffer?function(){return(ct.create=function(){return new va})()}:function(){return new ct}};ct.create=lc();ct.alloc=function(e){return new ce.Array(e)};ce.Array!==Array&&(ct.alloc=ce.pool(ct.alloc,ce.Array.prototype.subarray));ct.prototype._push=function(e,r,n){return this.tail=this.tail.next=new kn(e,r,n),this.len+=r,this};function Ea(t,e,r){e[r]=t&255}function L1(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function Sa(t,e){this.len=t,this.next=void 0,this.val=e}Sa.prototype=Object.create(kn.prototype);Sa.prototype.fn=L1;ct.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new Sa((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};ct.prototype.int32=function(e){return e<0?this._push(Ba,10,Pi.fromNumber(e)):this.uint32(e)};ct.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function Ba(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}ct.prototype.uint64=function(e){var r=Pi.from(e);return this._push(Ba,r.length(),r)};ct.prototype.int64=ct.prototype.uint64;ct.prototype.sint64=function(e){var r=Pi.from(e).zzEncode();return this._push(Ba,r.length(),r)};ct.prototype.bool=function(e){return this._push(Ea,1,e?1:0)};function ba(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}ct.prototype.fixed32=function(e){return this._push(ba,4,e>>>0)};ct.prototype.sfixed32=ct.prototype.fixed32;ct.prototype.fixed64=function(e){var r=Pi.from(e);return this._push(ba,4,r.lo)._push(ba,4,r.hi)};ct.prototype.sfixed64=ct.prototype.fixed64;ct.prototype.float=function(e){return this._push(ce.float.writeFloatLE,4,e)};ct.prototype.double=function(e){return this._push(ce.float.writeDoubleLE,8,e)};var k1=ce.Array.prototype.set?function(e,r,n){r.set(e,n)}:function(e,r,n){for(var i=0;i<e.length;++i)r[n+i]=e[i]};ct.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(Ea,1,0);if(ce.isString(e)){var n=ct.alloc(r=cc.length(e));cc.decode(e,n,0),e=n}return this.uint32(r)._push(k1,r,e)};ct.prototype.string=function(e){var r=uc.length(e);return r?this.uint32(r)._push(uc.write,r,e):this._push(Ea,1,0)};ct.prototype.fork=function(){return this.states=new D1(this),this.head=this.tail=new kn(wa,0,0),this.len=0,this};ct.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new kn(wa,0,0),this.len=0),this};ct.prototype.ldelim=function(){var e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=r,this.len+=n),this};ct.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r};ct._configure=function(t){va=t,ct.create=lc(),va._configure()}});var yc=X((Qm,pc)=>{"use strict";pc.exports=ke;var dc=Ca();(ke.prototype=Object.create(dc.prototype)).constructor=ke;var ur=Tr();function ke(){dc.call(this)}ke._configure=function(){ke.alloc=ur._Buffer_allocUnsafe,ke.writeBytesBuffer=ur.Buffer&&ur.Buffer.prototype instanceof Uint8Array&&ur.Buffer.prototype.set.name==="set"?function(e,r,n){r.set(e,n)}:function(e,r,n){if(e.copy)e.copy(r,n,0,e.length);else for(var i=0;i<e.length;)r[n++]=e[i++]}};ke.prototype.bytes=function(e){ur.isString(e)&&(e=ur._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(ke.writeBytesBuffer,r,e),this};function U1(t,e,r){t.length<40?ur.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}ke.prototype.string=function(e){var r=ur.Buffer.byteLength(e);return this.uint32(r),r&&this._push(U1,r,e),this};ke._configure()});var Tc=X((Qv,Ac)=>{var mt=pt();xr();Rt();var On=Ac.exports=mt.sha512=mt.sha512||{};mt.md.sha512=mt.md.algorithms.sha512=On;var Bc=mt.sha384=mt.sha512.sha384=mt.sha512.sha384||{};Bc.create=function(){return On.create("SHA-384")};mt.md.sha384=mt.md.algorithms.sha384=Bc;mt.sha512.sha256=mt.sha512.sha256||{create:function(){return On.create("SHA-512/256")}};mt.md["sha512/256"]=mt.md.algorithms["sha512/256"]=mt.sha512.sha256;mt.sha512.sha224=mt.sha512.sha224||{create:function(){return On.create("SHA-512/224")}};mt.md["sha512/224"]=mt.md.algorithms["sha512/224"]=mt.sha512.sha224;On.create=function(t){if(Cc||G1(),typeof t>"u"&&(t="SHA-512"),!(t in Rr))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=Rr[t],r=null,n=mt.util.createBuffer(),i=new Array(80),o=0;o<80;++o)i[o]=new Array(2);var a=64;switch(t){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var s={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return s.start=function(){s.messageLength=0,s.fullMessageLength=s.messageLength128=[];for(var f=s.messageLengthSize/4,c=0;c<f;++c)s.fullMessageLength.push(0);n=mt.util.createBuffer(),r=new Array(e.length);for(var c=0;c<e.length;++c)r[c]=e[c].slice(0);return s},s.start(),s.update=function(f,c){c==="utf8"&&(f=mt.util.encodeUtf8(f));var u=f.length;s.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var l=s.fullMessageLength.length-1;l>=0;--l)s.fullMessageLength[l]+=u[1],u[1]=u[0]+(s.fullMessageLength[l]/4294967296>>>0),s.fullMessageLength[l]=s.fullMessageLength[l]>>>0,u[0]=u[1]/4294967296>>>0;return n.putBytes(f),Sc(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),s},s.digest=function(){var f=mt.util.createBuffer();f.putBytes(n.bytes());var c=s.fullMessageLength[s.fullMessageLength.length-1]+s.messageLengthSize,u=c&s.blockLength-1;f.putBytes(Da.substr(0,s.blockLength-u));for(var l,h,g=s.fullMessageLength[0]*8,d=0;d<s.fullMessageLength.length-1;++d)l=s.fullMessageLength[d+1]*8,h=l/4294967296>>>0,g+=h,f.putInt32(g>>>0),g=l>>>0;f.putInt32(g);for(var p=new Array(r.length),d=0;d<r.length;++d)p[d]=r[d].slice(0);Sc(p,i,f);var y=mt.util.createBuffer(),x;t==="SHA-512"?x=p.length:t==="SHA-384"?x=p.length-2:x=p.length-4;for(var d=0;d<x;++d)y.putInt32(p[d][0]),(d!==x-1||t!=="SHA-512/224")&&y.putInt32(p[d][1]);return y},s};var Da=null,Cc=!1,La=null,Rr=null;function G1(){Da=String.fromCharCode(128),Da+=mt.util.fillString(String.fromCharCode(0),128),La=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],Rr={},Rr["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],Rr["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],Rr["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],Rr["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],Cc=!0}function Sc(t,e,r){for(var n,i,o,a,s,f,c,u,l,h,g,d,p,y,x,w,b,L,E,S,k,B,O,F,P,V,W,et,C,R,N,U,I,H,G,Z=r.length();Z>=128;){for(C=0;C<16;++C)e[C][0]=r.getInt32()>>>0,e[C][1]=r.getInt32()>>>0;for(;C<80;++C)U=e[C-2],R=U[0],N=U[1],n=((R>>>19|N<<13)^(N>>>29|R<<3)^R>>>6)>>>0,i=((R<<13|N>>>19)^(N<<3|R>>>29)^(R<<26|N>>>6))>>>0,H=e[C-15],R=H[0],N=H[1],o=((R>>>1|N<<31)^(R>>>8|N<<24)^R>>>7)>>>0,a=((R<<31|N>>>1)^(R<<24|N>>>8)^(R<<25|N>>>7))>>>0,I=e[C-7],G=e[C-16],N=i+I[1]+a+G[1],e[C][0]=n+I[0]+o+G[0]+(N/4294967296>>>0)>>>0,e[C][1]=N>>>0;for(p=t[0][0],y=t[0][1],x=t[1][0],w=t[1][1],b=t[2][0],L=t[2][1],E=t[3][0],S=t[3][1],k=t[4][0],B=t[4][1],O=t[5][0],F=t[5][1],P=t[6][0],V=t[6][1],W=t[7][0],et=t[7][1],C=0;C<80;++C)c=((k>>>14|B<<18)^(k>>>18|B<<14)^(B>>>9|k<<23))>>>0,u=((k<<18|B>>>14)^(k<<14|B>>>18)^(B<<23|k>>>9))>>>0,l=(P^k&(O^P))>>>0,h=(V^B&(F^V))>>>0,s=((p>>>28|y<<4)^(y>>>2|p<<30)^(y>>>7|p<<25))>>>0,f=((p<<4|y>>>28)^(y<<30|p>>>2)^(y<<25|p>>>7))>>>0,g=(p&x|b&(p^x))>>>0,d=(y&w|L&(y^w))>>>0,N=et+u+h+La[C][1]+e[C][1],n=W+c+l+La[C][0]+e[C][0]+(N/4294967296>>>0)>>>0,i=N>>>0,N=f+d,o=s+g+(N/4294967296>>>0)>>>0,a=N>>>0,W=P,et=V,P=O,V=F,O=k,F=B,N=S+i,k=E+n+(N/4294967296>>>0)>>>0,B=N>>>0,E=b,S=L,b=x,L=w,x=p,w=y,N=i+a,p=n+o+(N/4294967296>>>0)>>>0,y=N>>>0;N=t[0][1]+y,t[0][0]=t[0][0]+p+(N/4294967296>>>0)>>>0,t[0][1]=N>>>0,N=t[1][1]+w,t[1][0]=t[1][0]+x+(N/4294967296>>>0)>>>0,t[1][1]=N>>>0,N=t[2][1]+L,t[2][0]=t[2][0]+b+(N/4294967296>>>0)>>>0,t[2][1]=N>>>0,N=t[3][1]+S,t[3][0]=t[3][0]+E+(N/4294967296>>>0)>>>0,t[3][1]=N>>>0,N=t[4][1]+B,t[4][0]=t[4][0]+k+(N/4294967296>>>0)>>>0,t[4][1]=N>>>0,N=t[5][1]+F,t[5][0]=t[5][0]+O+(N/4294967296>>>0)>>>0,t[5][1]=N>>>0,N=t[6][1]+V,t[6][0]=t[6][0]+P+(N/4294967296>>>0)>>>0,t[6][1]=N>>>0,N=t[7][1]+et,t[7][0]=t[7][0]+W+(N/4294967296>>>0)>>>0,t[7][1]=N>>>0,Z-=128}}});var tu=X((f8,jc)=>{var cn=1e3,un=cn*60,ln=un*60,kr=ln*24,mg=kr*7,vg=kr*365.25;jc.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return bg(t);if(r==="number"&&isFinite(t))return e.long?Eg(t):wg(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function bg(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*vg;case"weeks":case"week":case"w":return r*mg;case"days":case"day":case"d":return r*kr;case"hours":case"hour":case"hrs":case"hr":case"h":return r*ln;case"minutes":case"minute":case"mins":case"min":case"m":return r*un;case"seconds":case"second":case"secs":case"sec":case"s":return r*cn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function wg(t){var e=Math.abs(t);return e>=kr?Math.round(t/kr)+"d":e>=ln?Math.round(t/ln)+"h":e>=un?Math.round(t/un)+"m":e>=cn?Math.round(t/cn)+"s":t+"ms"}function Eg(t){var e=Math.abs(t);return e>=kr?qi(t,e,kr,"day"):e>=ln?qi(t,e,ln,"hour"):e>=un?qi(t,e,un,"minute"):e>=cn?qi(t,e,cn,"second"):t+" ms"}function qi(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var ru=X((c8,eu)=>{function Sg(t){r.debug=r,r.default=r,r.coerce=f,r.disable=o,r.enable=i,r.enabled=a,r.humanize=tu(),r.destroy=c,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let l=0;for(let h=0;h<u.length;h++)l=(l<<5)-l+u.charCodeAt(h),l|=0;return r.colors[Math.abs(l)%r.colors.length]}r.selectColor=e;function r(u){let l,h=null,g,d;function p(...y){if(!p.enabled)return;let x=p,w=Number(new Date),b=w-(l||w);x.diff=b,x.prev=l,x.curr=w,l=w,y[0]=r.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let L=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(S,k)=>{if(S==="%%")return"%";L++;let B=r.formatters[k];if(typeof B=="function"){let O=y[L];S=B.call(x,O),y.splice(L,1),L--}return S}),r.formatArgs.call(x,y),(x.log||r.log).apply(x,y)}return p.namespace=u,p.useColors=r.useColors(),p.color=r.selectColor(u),p.extend=n,p.destroy=r.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(g!==r.namespaces&&(g=r.namespaces,d=r.enabled(u)),d),set:y=>{h=y}}),typeof r.init=="function"&&r.init(p),p}function n(u,l){let h=r(this.namespace+(typeof l>"u"?":":l)+u);return h.log=this.log,h}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let l,h=(typeof u=="string"?u:"").split(/[\s,]+/),g=h.length;for(l=0;l<g;l++)h[l]&&(u=h[l].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.slice(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function o(){let u=[...r.names.map(s),...r.skips.map(s).map(l=>"-"+l)].join(",");return r.enable(""),u}function a(u){if(u[u.length-1]==="*")return!0;let l,h;for(l=0,h=r.skips.length;l<h;l++)if(r.skips[l].test(u))return!1;for(l=0,h=r.names.length;l<h;l++)if(r.names[l].test(u))return!0;return!1}function s(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function f(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}eu.exports=Sg});var nu=X((te,Hi)=>{te.formatArgs=Cg;te.save=Ag;te.load=Tg;te.useColors=Bg;te.storage=Ig();te.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();te.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Bg(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Cg(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Hi.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}te.log=console.debug||console.log||(()=>{});function Ag(t){try{t?te.storage.setItem("debug",t):te.storage.removeItem("debug")}catch{}}function Tg(){let t;try{t=te.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function Ig(){try{return localStorage}catch{}}Hi.exports=ru()(te);var{formatters:_g}=Hi.exports;_g.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var za=X((p8,ou)=>{"use strict";function iu(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function Ng(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return iu(t,r)}catch{r.message=t.message,r.stack=t.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(t)),iu(new i,r)}}ou.exports=Ng});var $a=X((w8,Ga)=>{var b8=function(){typeof Ga<"u"&&(Ga.exports=p);var t=86400,e=3200,r=146097*e/400,n=t*r,i=1e3*n,o=864e13,a=4294967296,s=1e6,f="000000000",c=Math.trunc||function(B){var O=B-B%1;return O==0&&(B<0||B===0&&1/B!=1/0)?-0:O},u=p.prototype,l=(p.fromDate=function(B){return new p(+B)},p.fromInt64BE=L(0,1,2,3,0,4),p.fromInt64LE=L(3,2,1,0,4,0),p.fromString=function(P){var O,F=new p,P=(P+="").replace(/^\s*[+\-]?\d+/,function(W){var W=+W,et=1970+(W-1970)%400;return F.year=W-et,et}).replace(/(?:Z|([+\-]\d{2}):?(\d{2}))$/,function(V,W,et){return W<0&&(et*=-1),O=6e4*(60*+W+ +et),""}).replace(/\.\d+$/,function(V){return F.nano=+(V+f).substr(1,9),""}).split(/\D+/);if(1<P.length?P[1]--:P[1]=0,F.time=O=Date.UTC.apply(Date,P)-(O||0),isNaN(O))throw new TypeError("Invalid Date");return y(F)},p.fromTimeT=function(B){return w(B,0)},u.year=0,u.time=0,u.nano=0,u.addNano=function(B){return this.nano+=+B||0,this},u.getNano=function(){var B=y(this);return(B.time%1e3*s+ +B.nano+1e9)%1e9},u.getTimeT=function(){var O=y(this),B=Math.floor(O.time/1e3),O=O.year;return O&&(B+=O*r*t/e),B},u.getYear=function(){return this.toDate().getUTCFullYear()+this.year},u.toDate=function(){return x(y(this).time)},u.toJSON=function(){return this.toString().replace(/0{1,6}Z$/,"Z")},u.toString=function(B){var O=this,F=O.toDate(),P={H:function(){return S(F.getUTCHours())},L:function(){return k(F.getUTCMilliseconds(),3)},M:function(){return S(F.getUTCMinutes())},N:function(){return k(O.getNano(),9)},S:function(){return S(F.getUTCSeconds())},Y:function(){var V=O.getYear();return 999999<V?"+"+V:9999<V?"+"+k(V,6):0<=V?k(V,4):-999999<=V?"-"+k(-V,6):V},a:function(){return g[F.getUTCDay()]},b:function(){return h[F.getUTCMonth()]},d:function(){return S(F.getUTCDate())},e:function(){return function(V){return(9<V?"":" ")+(0|V)}(F.getUTCDate())},m:function(){return S(F.getUTCMonth()+1)}};return function V(W){return W.replace(/%./g,function(et){var R=et[1],C=d[R],R=P[R];return C?V(C):R?R():et})}(B||l)},u.writeInt64BE=b(0,1,2,3,0,4),u.writeInt64LE=b(3,2,1,0,4,0),"%Y-%m-%dT%H:%M:%S.%NZ"),h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],d={"%":"%",F:"%Y-%m-%d",n:`
`,R:"%H:%M",T:"%H:%M:%S",t:"	",X:"%T",Z:"GMT",z:"+0000"};return p;function p(B,O,F){var P=this;if(!(P instanceof p))return new p(B,O,F);P.time=+B||0,P.nano=+O||0,P.year=+F||0,y(P)}function y(B){var O,F,P,V=B.year,W=B.time,et=B.nano,C=((et<0||s<=et)&&(et-=(F=Math.floor(et/s))*s,W+=F,F=1),V%e);return(W<-o||o<W||C)&&((O=c(W/i))&&(V+=O*e,W-=O*i),(P=x(W)).setUTCFullYear(C+P.getUTCFullYear()),P=(W=+P)+(O=c((V-=C)/e))*i,O&&-o<=P&&P<=o&&(V-=O*e,W=P),F=1),F&&(B.year=V,B.time=W,B.nano=et),B}function x(B){var O=new Date(0);return O.setTime(B),O}function w(V,P){V=+V||0;var F=c((P=(P|0)*a)/n)+c(V/n),P=P%n+V%n,V=c(P/n);return V&&(F+=V,P-=V*n),new p(1e3*P,0,F*e)}function b(B,O,F,P,V,W){return function(C,R){var U=y(this);C=C||new Array(8),E(C,R|=0);var I=Math.floor(U.time/1e3),U=U.year*(r*t/e),N=c(U/a)+c(I/a),U=U%a+I%a,I=Math.floor(U/a);return I&&(N+=I,U-=I*a),et(C,R+V,N),et(C,R+W,U),C};function et(C,R,N){C[R+B]=N>>24&255,C[R+O]=N>>16&255,C[R+F]=N>>8&255,C[R+P]=255&N}}function L(B,O,F,P,V,W){return function(C,R){E(C,R|=0);var N=et(C,R+V);return w(et(C,R+W),N)};function et(C,R){return 16777216*C[R+B]+(C[R+O]<<16|C[R+F]<<8|C[R+P])}}function E(B,O){if(B=B&&B.length,B==null)throw new TypeError("Invalid Buffer");if(B<O+8)throw new RangeError("Out of range")}function S(B){return(9<B?"":"0")+(0|B)}function k(B,O){return(f+(0|B)).substr(-O)}}()});var C2={};Lt(C2,{create:()=>b2,createWithExpiration:()=>w2,extractPublicKey:()=>Al,getLocalKey:()=>S2,marshal:()=>_l,namespace:()=>Ul,namespaceLength:()=>v2,peerIdFromRoutingKey:()=>Dl,peerIdToRoutingKey:()=>Nl,unmarshal:()=>Rl});var t8=Bt(Bn(),1),e8=Bt(K0(),1);var st=class extends Error{code;props;constructor(e,r,n){super(e),this.code=r,this.name=n?.name??"CodeError",this.props=n??{}}};var xg=Bt(pt(),1);function Vr(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}var Do={};Lt(Do,{base10:()=>Ap});function wp(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),a=o.charCodeAt(0);if(r[a]!==255)throw new TypeError(o+" is ambiguous");r[a]=i}var s=t.length,f=t.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function l(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";for(var p=0,y=0,x=0,w=d.length;x!==w&&d[x]===0;)x++,p++;for(var b=(w-x)*u+1>>>0,L=new Uint8Array(b);x!==w;){for(var E=d[x],S=0,k=b-1;(E!==0||S<y)&&k!==-1;k--,S++)E+=256*L[k]>>>0,L[k]=E%s>>>0,E=E/s>>>0;if(E!==0)throw new Error("Non-zero carry");y=S,x++}for(var B=b-y;B!==b&&L[B]===0;)B++;for(var O=f.repeat(p);B<b;++B)O+=t.charAt(L[B]);return O}function h(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;var p=0;if(d[p]!==" "){for(var y=0,x=0;d[p]===f;)y++,p++;for(var w=(d.length-p)*c+1>>>0,b=new Uint8Array(w);d[p];){var L=r[d.charCodeAt(p)];if(L===255)return;for(var E=0,S=w-1;(L!==0||E<x)&&S!==-1;S--,E++)L+=s*b[S]>>>0,b[S]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");x=E,p++}if(d[p]!==" "){for(var k=w-x;k!==w&&b[k]===0;)k++;for(var B=new Uint8Array(y+(w-k)),O=y;k!==w;)B[O++]=b[k++];return B}}}function g(d){var p=h(d);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:h,decode:g}}var Ep=wp,Sp=Ep,F0=Sp;var ex=new Uint8Array(0);var M0=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},qe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var V0=t=>new TextEncoder().encode(t),q0=t=>new TextDecoder().decode(t);var Io=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},_o=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return z0(this,e)}},Ro=class{constructor(e){this.decoders=e}or(e){return z0(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},z0=(t,e)=>new Ro({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),No=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Io(e,r,n),this.decoder=new _o(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},qr=({name:t,prefix:e,encode:r,decode:n})=>new No(t,e,r,n),nr=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=F0(r,e);return qr({prefix:t,name:e,encode:n,decode:o=>qe(i(o))})},Bp=(t,e,r,n)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let o=t.length;for(;t[o-1]==="=";)--o;let a=new Uint8Array(o*r/8|0),s=0,f=0,c=0;for(let u=0;u<o;++u){let l=i[t[u]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<r|l,s+=r,s>=8&&(s-=8,a[c++]=255&f>>s)}if(s>=r||255&f<<8-s)throw new SyntaxError("Unexpected end of data");return a},Cp=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,o="",a=0,s=0;for(let f=0;f<t.length;++f)for(s=s<<8|t[f],a+=8;a>r;)a-=r,o+=e[i&s>>a];if(a&&(o+=e[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},At=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>qr({prefix:e,name:t,encode(i){return Cp(i,n,r)},decode(i){return Bp(i,n,r,t)}});var Ap=nr({prefix:"9",name:"base10",alphabet:"0123456789"});var Lo={};Lt(Lo,{base16:()=>Tp,base16upper:()=>Ip});var Tp=At({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Ip=At({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var ko={};Lt(ko,{base2:()=>_p});var _p=At({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Uo={};Lt(Uo,{base256emoji:()=>kp});var G0=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Rp=G0.reduce((t,e,r)=>(t[r]=e,t),[]),Np=G0.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Dp(t){return t.reduce((e,r)=>(e+=Rp[r],e),"")}function Lp(t){let e=[];for(let r of t){let n=Np[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var kp=qr({prefix:"\u{1F680}",name:"base256emoji",encode:Dp,decode:Lp});var Oo={};Lt(Oo,{base32:()=>ir,base32hex:()=>Op,base32hexpad:()=>Fp,base32hexpadupper:()=>Mp,base32hexupper:()=>Kp,base32pad:()=>Up,base32padupper:()=>Pp,base32upper:()=>Po,base32z:()=>Vp});var ir=At({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Po=At({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Up=At({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Pp=At({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Op=At({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Kp=At({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Fp=At({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Mp=At({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Vp=At({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Ko={};Lt(Ko,{base36:()=>yi,base36upper:()=>qp});var yi=nr({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),qp=nr({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Fo={};Lt(Fo,{base58btc:()=>Ht,base58flickr:()=>Hp});var Ht=nr({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Hp=nr({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Mo={};Lt(Mo,{base64:()=>Hr,base64pad:()=>zp,base64url:()=>Gp,base64urlpad:()=>$p});var Hr=At({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),zp=At({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Gp=At({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),$p=At({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Vo={};Lt(Vo,{base8:()=>Yp});var Yp=At({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var qo={};Lt(qo,{identity:()=>Wp});var Wp=qr({prefix:"\0",name:"identity",encode:t=>q0(t),decode:t=>V0(t)});var gx=new TextEncoder,xx=new TextDecoder;var zo={};Lt(zo,{identity:()=>De});var Xp=W0,$0=128,Jp=127,jp=~Jp,ty=Math.pow(2,31);function W0(t,e,r){e=e||[],r=r||0;for(var n=r;t>=ty;)e[r++]=t&255|$0,t/=128;for(;t&jp;)e[r++]=t&255|$0,t>>>=7;return e[r]=t|0,W0.bytes=r-n+1,e}var ey=Ho,ry=128,Y0=127;function Ho(t,n){var r=0,n=n||0,i=0,o=n,a,s=t.length;do{if(o>=s)throw Ho.bytes=0,new RangeError("Could not decode varint");a=t[o++],r+=i<28?(a&Y0)<<i:(a&Y0)*Math.pow(2,i),i+=7}while(a>=ry);return Ho.bytes=o-n,r}var ny=Math.pow(2,7),iy=Math.pow(2,14),oy=Math.pow(2,21),ay=Math.pow(2,28),sy=Math.pow(2,35),fy=Math.pow(2,42),cy=Math.pow(2,49),uy=Math.pow(2,56),ly=Math.pow(2,63),hy=function(t){return t<ny?1:t<iy?2:t<oy?3:t<ay?4:t<sy?5:t<fy?6:t<cy?7:t<uy?8:t<ly?9:10},dy={encode:Xp,decode:ey,encodingLength:hy},py=dy,Tn=py;var In=(t,e=0)=>[Tn.decode(t,e),Tn.decode.bytes],zr=(t,e,r=0)=>(Tn.encode(t,e,r),e),Gr=t=>Tn.encodingLength(t);var Ne=(t,e)=>{let r=e.byteLength,n=Gr(t),i=n+Gr(r),o=new Uint8Array(i+r);return zr(t,o,0),zr(r,o,n),o.set(e,i),new $r(t,r,e,o)},wr=t=>{let e=qe(t),[r,n]=In(e),[i,o]=In(e.subarray(n)),a=e.subarray(n+o);if(a.byteLength!==i)throw new Error("Incorrect length");return new $r(r,i,a,e)},Z0=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&M0(t.bytes,r.bytes)}},$r=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};var Q0=0,yy="identity",X0=qe,gy=t=>Ne(Q0,X0(t)),De={code:Q0,name:yy,encode:X0,digest:gy};var Yo={};Lt(Yo,{sha256:()=>zt,sha512:()=>xy});var $o=({name:t,code:e,encode:r})=>new Go(t,e,r),Go=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?Ne(this.code,r):r.then(n=>Ne(this.code,n))}else throw Error("Unknown type, must be binary type")}};var j0=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),zt=$o({name:"sha2-256",code:18,encode:j0("SHA-256")}),xy=$o({name:"sha2-512",code:19,encode:j0("SHA-512")});var tf=(t,e)=>{let{bytes:r,version:n}=t;switch(n){case 0:return vy(r,Wo(t),e||Ht.encoder);default:return by(r,Wo(t),e||ir.encoder)}};var ef=new WeakMap,Wo=t=>{let e=ef.get(t);if(e==null){let r=new Map;return ef.set(t,r),r}return e},ye=class t{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==_n)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==wy)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=Ne(e,r);return t.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return t.equals(this,e)}static equals(e,r){let n=r;return n&&e.code===n.code&&e.version===n.version&&Z0(e.multihash,n.multihash)}toString(e){return tf(this,e)}toJSON(){return{"/":tf(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof t)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:n,code:i,multihash:o,bytes:a}=r;return new t(n,i,o,a||rf(n,i,o.bytes))}else if(r[Ey]===!0){let{version:n,multihash:i,code:o}=r,a=wr(i);return t.create(n,o,a)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==_n)throw new Error(`Version 0 CID must use dag-pb (code: ${_n}) block encoding`);return new t(e,r,n,n.bytes)}case 1:{let i=rf(e,r,n.bytes);return new t(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,_n,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,n]=t.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),n=r.size-r.multihashSize,i=qe(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=i.subarray(r.multihashSize-r.digestSize),a=new $r(r.multihashCode,r.digestSize,o,i);return[r.version===0?t.createV0(a):t.createV1(r.codec,a),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[l,h]=In(e.subarray(r));return r+=h,l},i=n(),o=_n;if(i===18?(i=0,r=0):o=n(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let a=r,s=n(),f=n(),c=r+f,u=c-a;return{version:i,codec:o,multihashCode:s,digestSize:f,multihashSize:u,size:c}}static parse(e,r){let[n,i]=my(e,r),o=t.decode(i);if(o.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return Wo(o).set(n,e),o}},my=(t,e)=>{switch(t[0]){case"Q":{let r=e||Ht;return[Ht.prefix,r.decode(`${Ht.prefix}${t}`)]}case Ht.prefix:{let r=e||Ht;return[Ht.prefix,r.decode(t)]}case ir.prefix:{let r=e||ir;return[ir.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},vy=(t,e,r)=>{let{prefix:n}=r;if(n!==Ht.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let o=r.encode(t).slice(1);return e.set(n,o),o}else return i},by=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let o=r.encode(t);return e.set(n,o),o}else return i},_n=112,wy=18,rf=(t,e,r)=>{let n=Gr(t),i=n+Gr(e),o=new Uint8Array(i+r.byteLength);return zr(t,o,0),zr(e,o,n),o.set(r,i),o},Ey=Symbol.for("@ipld/js-cid/CID");var Yr={...qo,...ko,...Vo,...Do,...Lo,...Oo,...Ko,...Fo,...Mo,...Uo},Lx={...Yo,...zo};function xi(t=0){return globalThis.Buffer?.allocUnsafe!=null?Vr(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function of(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var nf=of("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Zo=of("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=xi(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Sy={utf8:nf,"utf-8":nf,hex:Yr.base16,latin1:Zo,ascii:Zo,binary:Zo,...Yr},mi=Sy;function bt(t,e="utf8"){let r=mi[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Vr(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var Na={};Lt(Na,{Ed25519PrivateKey:()=>_r,Ed25519PublicKey:()=>Pn,generateKeyPair:()=>V1,generateKeyPairFromSeed:()=>bc,unmarshalEd25519PrivateKey:()=>F1,unmarshalEd25519PublicKey:()=>M1});function Ot(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function af(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Qo(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function sf(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");af(t.outputLen),af(t.blockLen)}function Wr(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ff(t,e){Qo(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var vi=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var cf=t=>t instanceof Uint8Array;var bi=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ge=(t,e)=>t<<32-e|t>>>e,By=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!By)throw new Error("Non little-endian hardware is not supported");function Xo(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Rn(t){if(typeof t=="string"&&(t=Xo(t)),!cf(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function wi(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!cf(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}var Zr=class{clone(){return this._cloneInto()}},Yx={}.toString;function Ei(t){let e=n=>t().update(Rn(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Qr(t=32){if(vi&&typeof vi.getRandomValues=="function")return vi.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function Cy(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),f=n?4:0,c=n?0:4;t.setUint32(e+f,a,n),t.setUint32(e+c,s,n)}var Xr=class extends Zr{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=bi(this.buffer)}update(e){Wr(this);let{view:r,buffer:n,blockLen:i}=this;e=Rn(e);let o=e.length;for(let a=0;a<o;){let s=Math.min(i-this.pos,o-a);if(s===i){let f=bi(e);for(;i<=o-a;a+=i)this.process(f,a);continue}n.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Wr(this),ff(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let l=a;l<i;l++)r[l]=0;Cy(n,i-8,BigInt(this.length*8),o),this.process(n,0);let s=bi(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=f/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<c;l++)s.setUint32(4*l,u[l],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:a,pos:s}=this;return e.length=i,e.pos=s,e.finished=o,e.destroyed=a,i%r&&e.buffer.set(n),e}};var Si=BigInt(4294967295),Jo=BigInt(32);function uf(t,e=!1){return e?{h:Number(t&Si),l:Number(t>>Jo&Si)}:{h:Number(t>>Jo&Si)|0,l:Number(t&Si)|0}}function Ay(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:a}=uf(t[i],e);[r[i],n[i]]=[o,a]}return[r,n]}var Ty=(t,e)=>BigInt(t>>>0)<<Jo|BigInt(e>>>0),Iy=(t,e,r)=>t>>>r,_y=(t,e,r)=>t<<32-r|e>>>r,Ry=(t,e,r)=>t>>>r|e<<32-r,Ny=(t,e,r)=>t<<32-r|e>>>r,Dy=(t,e,r)=>t<<64-r|e>>>r-32,Ly=(t,e,r)=>t>>>r-32|e<<64-r,ky=(t,e)=>e,Uy=(t,e)=>t,Py=(t,e,r)=>t<<r|e>>>32-r,Oy=(t,e,r)=>e<<r|t>>>32-r,Ky=(t,e,r)=>e<<r-32|t>>>64-r,Fy=(t,e,r)=>t<<r-32|e>>>64-r;function My(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var Vy=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),qy=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Hy=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),zy=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,Gy=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),$y=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0;var Yy={fromBig:uf,split:Ay,toBig:Ty,shrSH:Iy,shrSL:_y,rotrSH:Ry,rotrSL:Ny,rotrBH:Dy,rotrBL:Ly,rotr32H:ky,rotr32L:Uy,rotlSH:Py,rotlSL:Oy,rotlBH:Ky,rotlBL:Fy,add:My,add3L:Vy,add3H:qy,add4L:Hy,add4H:zy,add5H:$y,add5L:Gy},tt=Yy;var[Wy,Zy]=(()=>tt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),or=new Uint32Array(80),ar=new Uint32Array(80),jo=class extends Xr{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:a,Dh:s,Dl:f,Eh:c,El:u,Fh:l,Fl:h,Gh:g,Gl:d,Hh:p,Hl:y}=this;return[e,r,n,i,o,a,s,f,c,u,l,h,g,d,p,y]}set(e,r,n,i,o,a,s,f,c,u,l,h,g,d,p,y){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=a|0,this.Dh=s|0,this.Dl=f|0,this.Eh=c|0,this.El=u|0,this.Fh=l|0,this.Fl=h|0,this.Gh=g|0,this.Gl=d|0,this.Hh=p|0,this.Hl=y|0}process(e,r){for(let b=0;b<16;b++,r+=4)or[b]=e.getUint32(r),ar[b]=e.getUint32(r+=4);for(let b=16;b<80;b++){let L=or[b-15]|0,E=ar[b-15]|0,S=tt.rotrSH(L,E,1)^tt.rotrSH(L,E,8)^tt.shrSH(L,E,7),k=tt.rotrSL(L,E,1)^tt.rotrSL(L,E,8)^tt.shrSL(L,E,7),B=or[b-2]|0,O=ar[b-2]|0,F=tt.rotrSH(B,O,19)^tt.rotrBH(B,O,61)^tt.shrSH(B,O,6),P=tt.rotrSL(B,O,19)^tt.rotrBL(B,O,61)^tt.shrSL(B,O,6),V=tt.add4L(k,P,ar[b-7],ar[b-16]),W=tt.add4H(V,S,F,or[b-7],or[b-16]);or[b]=W|0,ar[b]=V|0}let{Ah:n,Al:i,Bh:o,Bl:a,Ch:s,Cl:f,Dh:c,Dl:u,Eh:l,El:h,Fh:g,Fl:d,Gh:p,Gl:y,Hh:x,Hl:w}=this;for(let b=0;b<80;b++){let L=tt.rotrSH(l,h,14)^tt.rotrSH(l,h,18)^tt.rotrBH(l,h,41),E=tt.rotrSL(l,h,14)^tt.rotrSL(l,h,18)^tt.rotrBL(l,h,41),S=l&g^~l&p,k=h&d^~h&y,B=tt.add5L(w,E,k,Zy[b],ar[b]),O=tt.add5H(B,x,L,S,Wy[b],or[b]),F=B|0,P=tt.rotrSH(n,i,28)^tt.rotrBH(n,i,34)^tt.rotrBH(n,i,39),V=tt.rotrSL(n,i,28)^tt.rotrBL(n,i,34)^tt.rotrBL(n,i,39),W=n&o^n&s^o&s,et=i&a^i&f^a&f;x=p|0,w=y|0,p=g|0,y=d|0,g=l|0,d=h|0,{h:l,l:h}=tt.add(c|0,u|0,O|0,F|0),c=s|0,u=f|0,s=o|0,f=a|0,o=n|0,a=i|0;let C=tt.add3L(F,V,et);n=tt.add3H(C,O,P,W),i=C|0}({h:n,l:i}=tt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:a}=tt.add(this.Bh|0,this.Bl|0,o|0,a|0),{h:s,l:f}=tt.add(this.Ch|0,this.Cl|0,s|0,f|0),{h:c,l:u}=tt.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:l,l:h}=tt.add(this.Eh|0,this.El|0,l|0,h|0),{h:g,l:d}=tt.add(this.Fh|0,this.Fl|0,g|0,d|0),{h:p,l:y}=tt.add(this.Gh|0,this.Gl|0,p|0,y|0),{h:x,l:w}=tt.add(this.Hh|0,this.Hl|0,x|0,w|0),this.set(n,i,o,a,s,f,c,u,l,h,g,d,p,y,x,w)}roundClean(){or.fill(0),ar.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var ta=Ei(()=>new jo);var Ai={};Lt(Ai,{bitGet:()=>r1,bitLen:()=>e1,bitMask:()=>Nn,bitSet:()=>n1,bytesToHex:()=>He,bytesToNumberBE:()=>ze,bytesToNumberLE:()=>sr,concatBytes:()=>Ge,createHmacDrbg:()=>na,ensureBytes:()=>Tt,equalBytes:()=>jy,hexToBytes:()=>Sr,hexToNumber:()=>ra,numberToBytesBE:()=>fr,numberToBytesLE:()=>Br,numberToHexUnpadded:()=>df,numberToVarBytesBE:()=>Jy,utf8ToBytes:()=>t1,validateObject:()=>Le});var hf=BigInt(0),Bi=BigInt(1),Qy=BigInt(2),Ci=t=>t instanceof Uint8Array,Xy=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function He(t){if(!Ci(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Xy[t[r]];return e}function df(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function ra(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Sr(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,o=t.slice(i,i+2),a=Number.parseInt(o,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[n]=a}return r}function ze(t){return ra(He(t))}function sr(t){if(!Ci(t))throw new Error("Uint8Array expected");return ra(He(Uint8Array.from(t).reverse()))}function fr(t,e){return Sr(t.toString(16).padStart(e*2,"0"))}function Br(t,e){return fr(t,e).reverse()}function Jy(t){return Sr(df(t))}function Tt(t,e,r){let n;if(typeof e=="string")try{n=Sr(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(Ci(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function Ge(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!Ci(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function jy(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function t1(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function e1(t){let e;for(e=0;t>hf;t>>=Bi,e+=1);return e}function r1(t,e){return t>>BigInt(e)&Bi}var n1=(t,e,r)=>t|(r?Bi:hf)<<BigInt(e),Nn=t=>(Qy<<BigInt(t-1))-Bi,ea=t=>new Uint8Array(t),lf=t=>Uint8Array.from(t);function na(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=ea(t),i=ea(t),o=0,a=()=>{n.fill(1),i.fill(0),o=0},s=(...l)=>r(i,n,...l),f=(l=ea())=>{i=s(lf([0]),l),n=s(),l.length!==0&&(i=s(lf([1]),l),n=s())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let l=0,h=[];for(;l<e;){n=s();let g=n.slice();h.push(g),l+=n.length}return Ge(...h)};return(l,h)=>{a(),f(l);let g;for(;!(g=h(c()));)f();return a(),g}}var i1={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Le(t,e,r={}){let n=(i,o,a)=>{let s=i1[o];if(typeof s!="function")throw new Error(`Invalid validator "${o}", expected function`);let f=t[i];if(!(a&&f===void 0)&&!s(f,t))throw new Error(`Invalid param ${String(i)}=${f} (${typeof f}), expected ${o}`)};for(let[i,o]of Object.entries(e))n(i,o,!1);for(let[i,o]of Object.entries(r))n(i,o,!0);return t}var Dt=BigInt(0),wt=BigInt(1),Cr=BigInt(2),o1=BigInt(3),ia=BigInt(4),pf=BigInt(5),yf=BigInt(8),a1=BigInt(9),s1=BigInt(16);function yt(t,e){let r=t%e;return r>=Dt?r:e+r}function f1(t,e,r){if(r<=Dt||e<Dt)throw new Error("Expected power/modulo > 0");if(r===wt)return Dt;let n=wt;for(;e>Dt;)e&wt&&(n=n*t%r),t=t*t%r,e>>=wt;return n}function Et(t,e,r){let n=t;for(;e-- >Dt;)n*=n,n%=r;return n}function Ti(t,e){if(t===Dt||e<=Dt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=yt(t,e),n=e,i=Dt,o=wt,a=wt,s=Dt;for(;r!==Dt;){let c=n/r,u=n%r,l=i-a*c,h=o-s*c;n=r,r=u,i=a,o=s,a=l,s=h}if(n!==wt)throw new Error("invert: does not exist");return yt(i,e)}function c1(t){let e=(t-wt)/Cr,r,n,i;for(r=t-wt,n=0;r%Cr===Dt;r/=Cr,n++);for(i=Cr;i<t&&f1(i,e,t)!==t-wt;i++);if(n===1){let a=(t+wt)/ia;return function(f,c){let u=f.pow(c,a);if(!f.eql(f.sqr(u),c))throw new Error("Cannot find square root");return u}}let o=(r+wt)/Cr;return function(s,f){if(s.pow(f,e)===s.neg(s.ONE))throw new Error("Cannot find square root");let c=n,u=s.pow(s.mul(s.ONE,i),r),l=s.pow(f,o),h=s.pow(f,r);for(;!s.eql(h,s.ONE);){if(s.eql(h,s.ZERO))return s.ZERO;let g=1;for(let p=s.sqr(h);g<c&&!s.eql(p,s.ONE);g++)p=s.sqr(p);let d=s.pow(u,wt<<BigInt(c-g-1));u=s.sqr(d),l=s.mul(l,d),h=s.mul(h,u),c=g}return l}}function u1(t){if(t%ia===o1){let e=(t+wt)/ia;return function(n,i){let o=n.pow(i,e);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%yf===pf){let e=(t-pf)/yf;return function(n,i){let o=n.mul(i,Cr),a=n.pow(o,e),s=n.mul(i,a),f=n.mul(n.mul(s,Cr),a),c=n.mul(s,n.sub(f,n.ONE));if(!n.eql(n.sqr(c),i))throw new Error("Cannot find square root");return c}}return t%s1,c1(t)}var gf=(t,e)=>(yt(t,e)&wt)===wt,l1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function oa(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=l1.reduce((n,i)=>(n[i]="function",n),e);return Le(t,r)}function h1(t,e,r){if(r<Dt)throw new Error("Expected power > 0");if(r===Dt)return t.ONE;if(r===wt)return e;let n=t.ONE,i=e;for(;r>Dt;)r&wt&&(n=t.mul(n,i)),i=t.sqr(i),r>>=wt;return n}function d1(t,e){let r=new Array(e.length),n=e.reduce((o,a,s)=>t.is0(a)?o:(r[s]=o,t.mul(o,a)),t.ONE),i=t.inv(n);return e.reduceRight((o,a,s)=>t.is0(a)?o:(r[s]=t.mul(o,r[s]),t.mul(o,a)),i),r}function aa(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Ii(t,e,r=!1,n={}){if(t<=Dt)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:o}=aa(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let a=u1(t),s=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:Nn(i),ZERO:Dt,ONE:wt,create:f=>yt(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof f}`);return Dt<=f&&f<t},is0:f=>f===Dt,isOdd:f=>(f&wt)===wt,neg:f=>yt(-f,t),eql:(f,c)=>f===c,sqr:f=>yt(f*f,t),add:(f,c)=>yt(f+c,t),sub:(f,c)=>yt(f-c,t),mul:(f,c)=>yt(f*c,t),pow:(f,c)=>h1(s,f,c),div:(f,c)=>yt(f*Ti(c,t),t),sqrN:f=>f*f,addN:(f,c)=>f+c,subN:(f,c)=>f-c,mulN:(f,c)=>f*c,inv:f=>Ti(f,t),sqrt:n.sqrt||(f=>a(s,f)),invertBatch:f=>d1(s,f),cmov:(f,c,u)=>u?c:f,toBytes:f=>r?Br(f,o):fr(f,o),fromBytes:f=>{if(f.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${f.length}`);return r?sr(f):ze(f)}});return Object.freeze(s)}function xf(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}function mf(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function sa(t){let e=mf(t);return e+Math.ceil(e/2)}function vf(t,e,r=!1){let n=t.length,i=mf(e),o=sa(e);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);let a=r?ze(t):sr(t),s=yt(a,e-wt)+wt;return r?Br(s,i):fr(s,i)}var y1=BigInt(0),fa=BigInt(1);function _i(t,e){let r=(i,o)=>{let a=o.negate();return i?a:o},n=i=>{let o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:r,unsafeLadder(i,o){let a=t.ZERO,s=i;for(;o>y1;)o&fa&&(a=a.add(s)),s=s.double(),o>>=fa;return a},precomputeWindow(i,o){let{windows:a,windowSize:s}=n(o),f=[],c=i,u=c;for(let l=0;l<a;l++){u=c,f.push(u);for(let h=1;h<s;h++)u=u.add(c),f.push(u);c=u.double()}return f},wNAF(i,o,a){let{windows:s,windowSize:f}=n(i),c=t.ZERO,u=t.BASE,l=BigInt(2**i-1),h=2**i,g=BigInt(i);for(let d=0;d<s;d++){let p=d*f,y=Number(a&l);a>>=g,y>f&&(y-=h,a+=fa);let x=p,w=p+Math.abs(y)-1,b=d%2!==0,L=y<0;y===0?u=u.add(r(b,o[x])):c=c.add(r(L,o[w]))}return{p:c,f:u}},wNAFCached(i,o,a,s){let f=i._WINDOW_SIZE||1,c=o.get(i);return c||(c=this.precomputeWindow(i,f),f!==1&&o.set(i,s(c))),this.wNAF(f,c,a)}}}function Dn(t){return oa(t.Fp),Le(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...aa(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}var xe=BigInt(0),Jt=BigInt(1),Ri=BigInt(2),g1=BigInt(8),x1={zip215:!0};function m1(t){let e=Dn(t);return Le(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Ni(t){let e=m1(t),{Fp:r,n,prehash:i,hash:o,randomBytes:a,nByteLength:s,h:f}=e,c=Ri<<BigInt(s*8)-Jt,u=r.create,l=e.uvRatio||((U,I)=>{try{return{isValid:!0,value:r.sqrt(U*r.inv(I))}}catch{return{isValid:!1,value:xe}}}),h=e.adjustScalarBytes||(U=>U),g=e.domain||((U,I,H)=>{if(I.length||H)throw new Error("Contexts/pre-hash are not supported");return U}),d=U=>typeof U=="bigint"&&xe<U,p=(U,I)=>d(U)&&d(I)&&U<I,y=U=>U===xe||p(U,c);function x(U,I){if(p(U,I))return U;throw new Error(`Expected valid scalar < ${I}, got ${typeof U} ${U}`)}function w(U){return U===xe?U:x(U,n)}let b=new Map;function L(U){if(!(U instanceof E))throw new Error("ExtendedPoint expected")}class E{constructor(I,H,G,Z){if(this.ex=I,this.ey=H,this.ez=G,this.et=Z,!y(I))throw new Error("x required");if(!y(H))throw new Error("y required");if(!y(G))throw new Error("z required");if(!y(Z))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(I){if(I instanceof E)throw new Error("extended point not allowed");let{x:H,y:G}=I||{};if(!y(H)||!y(G))throw new Error("invalid affine point");return new E(H,G,Jt,u(H*G))}static normalizeZ(I){let H=r.invertBatch(I.map(G=>G.ez));return I.map((G,Z)=>G.toAffine(H[Z])).map(E.fromAffine)}_setWindowSize(I){this._WINDOW_SIZE=I,b.delete(this)}assertValidity(){let{a:I,d:H}=e;if(this.is0())throw new Error("bad point: ZERO");let{ex:G,ey:Z,ez:rt,et:it}=this,dt=u(G*G),ot=u(Z*Z),ut=u(rt*rt),_t=u(ut*ut),Ct=u(dt*I),Vt=u(ut*u(Ct+ot)),qt=u(_t+u(H*u(dt*ot)));if(Vt!==qt)throw new Error("bad point: equation left != right (1)");let Nt=u(G*Z),$t=u(rt*it);if(Nt!==$t)throw new Error("bad point: equation left != right (2)")}equals(I){L(I);let{ex:H,ey:G,ez:Z}=this,{ex:rt,ey:it,ez:dt}=I,ot=u(H*dt),ut=u(rt*Z),_t=u(G*dt),Ct=u(it*Z);return ot===ut&&_t===Ct}is0(){return this.equals(E.ZERO)}negate(){return new E(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){let{a:I}=e,{ex:H,ey:G,ez:Z}=this,rt=u(H*H),it=u(G*G),dt=u(Ri*u(Z*Z)),ot=u(I*rt),ut=H+G,_t=u(u(ut*ut)-rt-it),Ct=ot+it,Vt=Ct-dt,qt=ot-it,Nt=u(_t*Vt),$t=u(Ct*qt),Ke=u(_t*qt),yr=u(Vt*Ct);return new E(Nt,$t,yr,Ke)}add(I){L(I);let{a:H,d:G}=e,{ex:Z,ey:rt,ez:it,et:dt}=this,{ex:ot,ey:ut,ez:_t,et:Ct}=I;if(H===BigInt(-1)){let ys=u((rt-Z)*(ut+ot)),gs=u((rt+Z)*(ut-ot)),io=u(gs-ys);if(io===xe)return this.double();let xs=u(it*Ri*Ct),ms=u(dt*Ri*_t),vs=ms+xs,bs=gs+ys,ws=ms-xs,Vl=u(vs*io),ql=u(bs*ws),Hl=u(vs*ws),zl=u(io*bs);return new E(Vl,ql,zl,Hl)}let Vt=u(Z*ot),qt=u(rt*ut),Nt=u(dt*G*Ct),$t=u(it*_t),Ke=u((Z+rt)*(ot+ut)-Vt-qt),yr=$t-Nt,bn=$t+Nt,ps=u(qt-H*Vt),Ol=u(Ke*yr),Kl=u(bn*ps),Fl=u(Ke*ps),Ml=u(yr*bn);return new E(Ol,Kl,Ml,Fl)}subtract(I){return this.add(I.negate())}wNAF(I){return B.wNAFCached(this,b,I,E.normalizeZ)}multiply(I){let{p:H,f:G}=this.wNAF(x(I,n));return E.normalizeZ([H,G])[0]}multiplyUnsafe(I){let H=w(I);return H===xe?k:this.equals(k)||H===Jt?this:this.equals(S)?this.wNAF(H).p:B.unsafeLadder(this,H)}isSmallOrder(){return this.multiplyUnsafe(f).is0()}isTorsionFree(){return B.unsafeLadder(this,n).is0()}toAffine(I){let{ex:H,ey:G,ez:Z}=this,rt=this.is0();I==null&&(I=rt?g1:r.inv(Z));let it=u(H*I),dt=u(G*I),ot=u(Z*I);if(rt)return{x:xe,y:Jt};if(ot!==Jt)throw new Error("invZ was invalid");return{x:it,y:dt}}clearCofactor(){let{h:I}=e;return I===Jt?this:this.multiplyUnsafe(I)}static fromHex(I,H=!1){let{d:G,a:Z}=e,rt=r.BYTES;I=Tt("pointHex",I,rt);let it=I.slice(),dt=I[rt-1];it[rt-1]=dt&-129;let ot=sr(it);ot===xe||(H?x(ot,c):x(ot,r.ORDER));let ut=u(ot*ot),_t=u(ut-Jt),Ct=u(G*ut-Z),{isValid:Vt,value:qt}=l(_t,Ct);if(!Vt)throw new Error("Point.fromHex: invalid y coordinate");let Nt=(qt&Jt)===Jt,$t=(dt&128)!==0;if(!H&&qt===xe&&$t)throw new Error("Point.fromHex: x=0 and x_0=1");return $t!==Nt&&(qt=u(-qt)),E.fromAffine({x:qt,y:ot})}static fromPrivateKey(I){return P(I).point}toRawBytes(){let{x:I,y:H}=this.toAffine(),G=Br(H,r.BYTES);return G[G.length-1]|=I&Jt?128:0,G}toHex(){return He(this.toRawBytes())}}E.BASE=new E(e.Gx,e.Gy,Jt,u(e.Gx*e.Gy)),E.ZERO=new E(xe,Jt,Jt,xe);let{BASE:S,ZERO:k}=E,B=_i(E,s*8);function O(U){return yt(U,n)}function F(U){return O(sr(U))}function P(U){let I=s;U=Tt("private key",U,I);let H=Tt("hashed private key",o(U),2*I),G=h(H.slice(0,I)),Z=H.slice(I,2*I),rt=F(G),it=S.multiply(rt),dt=it.toRawBytes();return{head:G,prefix:Z,scalar:rt,point:it,pointBytes:dt}}function V(U){return P(U).pointBytes}function W(U=new Uint8Array,...I){let H=Ge(...I);return F(o(g(H,Tt("context",U),!!i)))}function et(U,I,H={}){U=Tt("message",U),i&&(U=i(U));let{prefix:G,scalar:Z,pointBytes:rt}=P(I),it=W(H.context,G,U),dt=S.multiply(it).toRawBytes(),ot=W(H.context,dt,rt,U),ut=O(it+ot*Z);w(ut);let _t=Ge(dt,Br(ut,r.BYTES));return Tt("result",_t,s*2)}let C=x1;function R(U,I,H,G=C){let{context:Z,zip215:rt}=G,it=r.BYTES;U=Tt("signature",U,2*it),I=Tt("message",I),i&&(I=i(I));let dt=sr(U.slice(it,2*it)),ot,ut,_t;try{ot=E.fromHex(H,rt),ut=E.fromHex(U.slice(0,it),rt),_t=S.multiplyUnsafe(dt)}catch{return!1}if(!rt&&ot.isSmallOrder())return!1;let Ct=W(Z,ut.toRawBytes(),ot.toRawBytes(),I);return ut.add(ot.multiplyUnsafe(Ct)).subtract(_t).clearCofactor().equals(E.ZERO)}return S._setWindowSize(8),{CURVE:e,getPublicKey:V,sign:et,verify:R,ExtendedPoint:E,utils:{getExtendedPublicKey:P,randomPrivateKey:()=>a(r.BYTES),precompute(U=8,I=E.BASE){return I._setWindowSize(U),I.multiply(BigInt(3)),I}}}}var ua=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),bf=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),ym=BigInt(0),v1=BigInt(1),ca=BigInt(2),b1=BigInt(5),wf=BigInt(10),w1=BigInt(20),E1=BigInt(40),Ef=BigInt(80);function S1(t){let e=ua,n=t*t%e*t%e,i=Et(n,ca,e)*n%e,o=Et(i,v1,e)*t%e,a=Et(o,b1,e)*o%e,s=Et(a,wf,e)*a%e,f=Et(s,w1,e)*s%e,c=Et(f,E1,e)*f%e,u=Et(c,Ef,e)*c%e,l=Et(u,Ef,e)*c%e,h=Et(l,wf,e)*a%e;return{pow_p_5_8:Et(h,ca,e)*t%e,b2:n}}function B1(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function C1(t,e){let r=ua,n=yt(e*e*e,r),i=yt(n*n*e,r),o=S1(t*i).pow_p_5_8,a=yt(t*n*o,r),s=yt(e*a*a,r),f=a,c=yt(a*bf,r),u=s===t,l=s===yt(-t,r),h=s===yt(-t*bf,r);return u&&(a=f),(l||h)&&(a=c),gf(a,r)&&(a=yt(-a,r)),{isValid:u||l,value:a}}var $e=Ii(ua,void 0,!0),la={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:$e,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:ta,randomBytes:Qr,adjustScalarBytes:B1,uvRatio:C1},Jr=Ni(la);function Sf(t,e,r){if(e.length>255)throw new Error("Context is too big");return wi(Xo("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,e.length]),e,t)}var gm=Ni({...la,domain:Sf}),xm=Ni({...la,domain:Sf,prehash:ta});var A1=($e.ORDER+BigInt(3))/BigInt(8),mm=$e.pow(ca,A1),vm=$e.sqrt($e.neg($e.ONE)),bm=($e.ORDER-BigInt(5))/BigInt(8),wm=BigInt(486662);var Em=xf($e,$e.neg(BigInt(486664)));var Sm=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Bm=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Cm=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Am=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");var Tm=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var jr=32,Ye=64,Di=32;async function Bf(){let t=Jr.utils.randomPrivateKey(),e=Jr.getPublicKey(t);return{privateKey:If(t,e),publicKey:e}}async function Cf(t){if(t.length!==Di)throw new TypeError('"seed" must be 32 bytes in length.');if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, or Uint8Array.');let e=t,r=Jr.getPublicKey(e);return{privateKey:If(e,r),publicKey:r}}async function Af(t,e){let r=t.subarray(0,Di);return Jr.sign(e,r)}async function Tf(t,e,r){return Jr.verify(e,r,t)}function If(t,e){let r=new Uint8Array(Ye);for(let n=0;n<Di;n++)r[n]=t[n],r[Di+n]=e[n];return r}function me(t,e){e==null&&(e=t.reduce((i,o)=>i+o.length,0));let r=xi(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return Vr(r)}var Xt={get(t=globalThis){let e=t.crypto;if(e==null||e.subtle==null)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return e}};var ha={alg:"A128GCM",ext:!0,k:"scm9jmO_4BJAgdwWGVulLg",key_ops:["encrypt","decrypt"],kty:"oct"};function da(t){let e=t?.algorithm??"AES-GCM",r=t?.keyLength??16,n=t?.nonceLength??12,i=t?.digest??"SHA-256",o=t?.saltLength??16,a=t?.iterations??32767,s=Xt.get();r*=8;async function f(l,h){let g=s.getRandomValues(new Uint8Array(o)),d=s.getRandomValues(new Uint8Array(n)),p={name:e,iv:d};typeof h=="string"&&(h=bt(h));let y;if(h.length===0){y=await s.subtle.importKey("jwk",ha,{name:"AES-GCM"},!0,["encrypt"]);try{let w={name:"PBKDF2",salt:g,iterations:a,hash:{name:i}},b=await s.subtle.importKey("raw",h,{name:"PBKDF2"},!1,["deriveKey"]);y=await s.subtle.deriveKey(w,b,{name:e,length:r},!0,["encrypt"])}catch{y=await s.subtle.importKey("jwk",ha,{name:"AES-GCM"},!0,["encrypt"])}}else{let w={name:"PBKDF2",salt:g,iterations:a,hash:{name:i}},b=await s.subtle.importKey("raw",h,{name:"PBKDF2"},!1,["deriveKey"]);y=await s.subtle.deriveKey(w,b,{name:e,length:r},!0,["encrypt"])}let x=await s.subtle.encrypt(p,y,l);return me([g,p.iv,new Uint8Array(x)])}async function c(l,h){let g=l.subarray(0,o),d=l.subarray(o,o+n),p=l.subarray(o+n),y={name:e,iv:d};typeof h=="string"&&(h=bt(h));let x;if(h.length===0)try{let b={name:"PBKDF2",salt:g,iterations:a,hash:{name:i}},L=await s.subtle.importKey("raw",h,{name:"PBKDF2"},!1,["deriveKey"]);x=await s.subtle.deriveKey(b,L,{name:e,length:r},!0,["decrypt"])}catch{x=await s.subtle.importKey("jwk",ha,{name:"AES-GCM"},!0,["decrypt"])}else{let b={name:"PBKDF2",salt:g,iterations:a,hash:{name:i}},L=await s.subtle.importKey("raw",h,{name:"PBKDF2"},!1,["deriveKey"]);x=await s.subtle.deriveKey(b,L,{name:e,length:r},!0,["decrypt"])}let w=await s.subtle.decrypt(y,x,p);return new Uint8Array(w)}return{encrypt:f,decrypt:c}}async function tn(t,e){let n=await da().encrypt(t,e);return Hr.encode(n)}var Aa=Bt(ma(),1),gc=Bt(fc(),1),xc=Bt(Tr(),1),Ta=Bt(Ca(),1),mc=Bt(yc(),1);function P1(){xc.default._configure(),Aa.default._configure(gc.default),Ta.default._configure(mc.default)}P1();var vc=["uint64","int64","sint64","fixed64","sfixed64"];function O1(t){for(let e of vc){if(t[e]==null)continue;let r=t[e];t[e]=function(){return BigInt(r.call(this).toString())}}return t}function Ia(t){return O1(new Aa.default(t))}function K1(t){for(let e of vc){if(t[e]==null)continue;let r=t[e];t[e]=function(n){return r.call(this,n.toString())}}return t}function _a(){return K1(Ta.default.create())}function rn(t,e){let r=Ia(t instanceof Uint8Array?t:t.subarray());return e.decode(r)}function nn(t,e){let r=_a();return e.encode(t,r,{lengthDelimited:!1}),r.finish()}var on;(function(t){t[t.VARINT=0]="VARINT",t[t.BIT64=1]="BIT64",t[t.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",t[t.START_GROUP=3]="START_GROUP",t[t.END_GROUP=4]="END_GROUP",t[t.BIT32=5]="BIT32"})(on||(on={}));function Oi(t,e,r,n){return{name:t,type:e,encode:r,decode:n}}function Un(t){function e(i){if(t[i.toString()]==null)throw new Error("Invalid enum value");return t[i]}let r=function(o,a){let s=e(o);a.int32(s)},n=function(o){let a=o.int32();return e(a)};return Oi("enum",on.VARINT,r,n)}function an(t,e){return Oi("message",on.LENGTH_DELIMITED,t,e)}var St;(function(t){t.RSA="RSA",t.Ed25519="Ed25519",t.Secp256k1="Secp256k1"})(St||(St={}));var Ra;(function(t){t[t.RSA=0]="RSA",t[t.Ed25519=1]="Ed25519",t[t.Secp256k1=2]="Secp256k1"})(Ra||(Ra={}));(function(t){t.codec=()=>Un(Ra)})(St||(St={}));var Ue;(function(t){let e;t.codec=()=>(e==null&&(e=an((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),r.Type!=null&&(n.uint32(8),St.codec().encode(r.Type,n)),r.Data!=null&&(n.uint32(18),n.bytes(r.Data)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={},o=n==null?r.len:r.pos+n;for(;r.pos<o;){let a=r.uint32();switch(a>>>3){case 1:i.Type=St.codec().decode(r);break;case 2:i.Data=r.bytes();break;default:r.skipType(a&7);break}}return i})),e),t.encode=r=>nn(r,t.codec()),t.decode=r=>rn(r,t.codec())})(Ue||(Ue={}));var Pe;(function(t){let e;t.codec=()=>(e==null&&(e=an((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),r.Type!=null&&(n.uint32(8),St.codec().encode(r.Type,n)),r.Data!=null&&(n.uint32(18),n.bytes(r.Data)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={},o=n==null?r.len:r.pos+n;for(;r.pos<o;){let a=r.uint32();switch(a>>>3){case 1:i.Type=St.codec().decode(r);break;case 2:i.Data=r.bytes();break;default:r.skipType(a&7);break}}return i})),e),t.encode=r=>nn(r,t.codec()),t.decode=r=>rn(r,t.codec())})(Pe||(Pe={}));var Pn=class{_key;constructor(e){this._key=sn(e,jr)}async verify(e,r){return Tf(this._key,r,e)}marshal(){return this._key}get bytes(){return Ue.encode({Type:St.Ed25519,Data:this.marshal()}).subarray()}equals(e){return Ot(this.bytes,e.bytes)}async hash(){let{bytes:e}=await zt.digest(this.bytes);return e}},_r=class{_key;_publicKey;constructor(e,r){this._key=sn(e,Ye),this._publicKey=sn(r,jr)}async sign(e){return Af(this._key,e)}get public(){return new Pn(this._publicKey)}marshal(){return this._key}get bytes(){return Pe.encode({Type:St.Ed25519,Data:this.marshal()}).subarray()}equals(e){return Ot(this.bytes,e.bytes)}async hash(){let{bytes:e}=await zt.digest(this.bytes);return e}async id(){let e=De.digest(this.public.bytes);return Ht.encode(e.bytes).substring(1)}async export(e,r="libp2p-key"){if(r==="libp2p-key")return tn(this.bytes,e);throw new st(`export format '${r}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}};function F1(t){if(t.length>Ye){t=sn(t,Ye+jr);let n=t.subarray(0,Ye),i=t.subarray(Ye,t.length);return new _r(n,i)}t=sn(t,Ye);let e=t.subarray(0,Ye),r=t.subarray(jr);return new _r(e,r)}function M1(t){return t=sn(t,jr),new Pn(t)}async function V1(){let{privateKey:t,publicKey:e}=await Bf();return new _r(t,e)}async function bc(t){let{privateKey:e,publicKey:r}=await Cf(t);return new _r(e,r)}function sn(t,e){if(t=Uint8Array.from(t??[]),t.length!==e)throw new st(`Key must be a Uint8Array of length ${e}, got ${t.length}`,"ERR_INVALID_KEY_TYPE");return t}function Ft(t,e="utf8"){let r=mi[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var Ev=Bt(Rt(),1),Sv=Bt(li(),1),wc=Bt(pt(),1);function Ee(t,e){let r=Uint8Array.from(t.abs().toByteArray());if(r=r[0]===0?r.subarray(1):r,e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=me([new Uint8Array(e-r.length),r])}return Ft(r,"base64url")}function jt(t){let e=Ec(t);return new wc.default.jsbn.BigInteger(Ft(e,"base16"),16)}function Ec(t,e){let r=bt(t,"base64urlpad");if(e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=me([new Uint8Array(e-r.length),r])}return r}var q1={"P-256":256,"P-384":384,"P-521":521},H1=Object.keys(q1),kv=H1.join(" / ");var Pa={};Lt(Pa,{MAX_KEY_SIZE:()=>Mn,RsaPrivateKey:()=>fn,RsaPublicKey:()=>Fn,fromJwk:()=>tg,generateKeyPair:()=>eg,unmarshalRsaPrivateKey:()=>J1,unmarshalRsaPublicKey:()=>j1});var Kn=Bt(pt(),1);var mb=Bt(Tc(),1);function Fi(t){if(isNaN(t)||t<=0)throw new st("random bytes length must be a Number bigger than 0","ERR_INVALID_LENGTH");return Qr(t)}var tb=Bt(pi(),1),ka=Bt(pt(),1);function Ic(t,e){return e.map(r=>jt(t[r]))}function _c(t){return ka.default.pki.setRsaPrivateKey(...Ic(t,["n","e","d","p","q","dp","dq","qi"]))}function Rc(t){return ka.default.pki.setRsaPublicKey(...Ic(t,["n","e"]))}var Nr={};Lt(Nr,{jwkToPkcs1:()=>Y1,jwkToPkix:()=>Z1,pkcs1ToJwk:()=>$1,pkixToJwk:()=>W1});var nb=Bt(Bn(),1),ib=Bt(pi(),1);var We=Bt(pt(),1);function $1(t){let e=We.default.asn1.fromDer(Ft(t,"ascii")),r=We.default.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:Ee(r.n),e:Ee(r.e),d:Ee(r.d),p:Ee(r.p),q:Ee(r.q),dp:Ee(r.dP),dq:Ee(r.dQ),qi:Ee(r.qInv),alg:"RS256"}}function Y1(t){if(t.n==null||t.e==null||t.d==null||t.p==null||t.q==null||t.dp==null||t.dq==null||t.qi==null)throw new st("JWK was missing components","ERR_INVALID_PARAMETERS");let e=We.default.pki.privateKeyToAsn1({n:jt(t.n),e:jt(t.e),d:jt(t.d),p:jt(t.p),q:jt(t.q),dP:jt(t.dp),dQ:jt(t.dq),qInv:jt(t.qi)});return bt(We.default.asn1.toDer(e).getBytes(),"ascii")}function W1(t){let e=We.default.asn1.fromDer(Ft(t,"ascii")),r=We.default.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:Ee(r.n),e:Ee(r.e)}}function Z1(t){if(t.n==null||t.e==null)throw new st("JWK was missing components","ERR_INVALID_PARAMETERS");let e=We.default.pki.publicKeyToAsn1({n:jt(t.n),e:jt(t.e)});return bt(We.default.asn1.toDer(e).getBytes(),"ascii")}async function Nc(t){let e=await Xt.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),r=await kc(e);return{privateKey:r[0],publicKey:r[1]}}async function Ua(t){let r=[await Xt.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await Q1(t)],n=await kc({privateKey:r[0],publicKey:r[1]});return{privateKey:n[0],publicKey:n[1]}}async function Dc(t,e){let r=await Xt.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),n=await Xt.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},r,Uint8Array.from(e));return new Uint8Array(n,0,n.byteLength)}async function Lc(t,e,r){let n=await Xt.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return Xt.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},n,e,r)}async function kc(t){if(t.privateKey==null||t.publicKey==null)throw new st("Private and public key are required","ERR_INVALID_PARAMETERS");return Promise.all([Xt.get().subtle.exportKey("jwk",t.privateKey),Xt.get().subtle.exportKey("jwk",t.publicKey)])}async function Q1(t){return Xt.get().subtle.importKey("jwk",{kty:t.kty,n:t.n,e:t.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}function Uc(t,e,r,n){let i=e?Rc(t):_c(t),o=Ft(Uint8Array.from(r),"ascii"),a=n(o,i);return bt(a,"ascii")}function Pc(t,e){return Uc(t,!0,e,(r,n)=>n.encrypt(r))}function Oc(t,e){return Uc(t,!1,e,(r,n)=>n.decrypt(r))}function Mi(t){if(t.kty!=="RSA")throw new st("invalid key type","ERR_INVALID_KEY_TYPE");if(t.n==null)throw new st("invalid key modulus","ERR_INVALID_KEY_MODULUS");return bt(t.n,"base64url").length*8}var Mn=8192,Fn=class{_key;constructor(e){this._key=e}async verify(e,r){return Lc(this._key,r,e)}marshal(){return Nr.jwkToPkix(this._key)}get bytes(){return Ue.encode({Type:St.RSA,Data:this.marshal()}).subarray()}encrypt(e){return Pc(this._key,e)}equals(e){return Ot(this.bytes,e.bytes)}async hash(){let{bytes:e}=await zt.digest(this.bytes);return e}},fn=class{_key;_publicKey;constructor(e,r){this._key=e,this._publicKey=r}genSecret(){return Fi(16)}async sign(e){return Dc(this._key,e)}get public(){if(this._publicKey==null)throw new st("public key not provided","ERR_PUBKEY_NOT_PROVIDED");return new Fn(this._publicKey)}decrypt(e){return Oc(this._key,e)}marshal(){return Nr.jwkToPkcs1(this._key)}get bytes(){return Pe.encode({Type:St.RSA,Data:this.marshal()}).subarray()}equals(e){return Ot(this.bytes,e.bytes)}async hash(){let{bytes:e}=await zt.digest(this.bytes);return e}async id(){let e=await this.public.hash();return Ft(e,"base58btc")}async export(e,r="pkcs-8"){if(r==="pkcs-8"){let n=new Kn.default.util.ByteBuffer(this.marshal()),i=Kn.default.asn1.fromDer(n),o=Kn.default.pki.privateKeyFromAsn1(i),a={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return Kn.default.pki.encryptRsaPrivateKey(o,e,a)}else{if(r==="libp2p-key")return tn(this.bytes,e);throw new st(`export format '${r}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}}};async function J1(t){let e=Nr.pkcs1ToJwk(t);if(Mi(e)>Mn)throw new st("key size is too large","ERR_KEY_SIZE_TOO_LARGE");let r=await Ua(e);return new fn(r.privateKey,r.publicKey)}function j1(t){let e=Nr.pkixToJwk(t);if(Mi(e)>Mn)throw new st("key size is too large","ERR_KEY_SIZE_TOO_LARGE");return new Fn(e)}async function tg(t){if(Mi(t)>Mn)throw new st("key size is too large","ERR_KEY_SIZE_TOO_LARGE");let e=await Ua(t);return new fn(e.privateKey,e.publicKey)}async function eg(t){if(t>Mn)throw new st("key size is too large","ERR_KEY_SIZE_TOO_LARGE");let e=await Nc(t);return new fn(e.privateKey,e.publicKey)}var qa={};Lt(qa,{Secp256k1PrivateKey:()=>qn,Secp256k1PublicKey:()=>Vn,generateKeyPair:()=>gg,unmarshalSecp256k1PrivateKey:()=>pg,unmarshalSecp256k1PublicKey:()=>yg});var rg=(t,e,r)=>t&e^~t&r,ng=(t,e,r)=>t&e^t&r^e&r,ig=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),lr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),hr=new Uint32Array(64),Oa=class extends Xr{constructor(){super(64,32,8,!1),this.A=lr[0]|0,this.B=lr[1]|0,this.C=lr[2]|0,this.D=lr[3]|0,this.E=lr[4]|0,this.F=lr[5]|0,this.G=lr[6]|0,this.H=lr[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:a,G:s,H:f}=this;return[e,r,n,i,o,a,s,f]}set(e,r,n,i,o,a,s,f){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=a|0,this.G=s|0,this.H=f|0}process(e,r){for(let l=0;l<16;l++,r+=4)hr[l]=e.getUint32(r,!1);for(let l=16;l<64;l++){let h=hr[l-15],g=hr[l-2],d=ge(h,7)^ge(h,18)^h>>>3,p=ge(g,17)^ge(g,19)^g>>>10;hr[l]=p+hr[l-7]+d+hr[l-16]|0}let{A:n,B:i,C:o,D:a,E:s,F:f,G:c,H:u}=this;for(let l=0;l<64;l++){let h=ge(s,6)^ge(s,11)^ge(s,25),g=u+h+rg(s,f,c)+ig[l]+hr[l]|0,p=(ge(n,2)^ge(n,13)^ge(n,22))+ng(n,i,o)|0;u=c,c=f,f=s,s=a+g|0,a=o,o=i,i=n,n=g+p|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,s=s+this.E|0,f=f+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,o,a,s,f,c,u)}roundClean(){hr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Kc=Ei(()=>new Oa);function og(t){let e=Dn(t);Le(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:ag,hexToBytes:sg}=Ai,Dr={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=Dr;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:ag(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=Dr,r=typeof t=="string"?sg(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:o}=Dr._parseInt(r.subarray(2)),{d:a,l:s}=Dr._parseInt(o);if(s.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(t){let e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,r=c=>{let u=c.toString(16);return u.length&1?`0${u}`:u},n=e(r(t.s)),i=e(r(t.r)),o=n.length/2,a=i.length/2,s=r(o),f=r(a);return`30${r(a+o+4)}02${f}${i}02${s}${n}`}},Ze=BigInt(0),ue=BigInt(1),Tb=BigInt(2),Fc=BigInt(3),Ib=BigInt(4);function fg(t){let e=og(t),{Fp:r}=e,n=e.toBytes||((d,p,y)=>{let x=p.toAffine();return Ge(Uint8Array.from([4]),r.toBytes(x.x),r.toBytes(x.y))}),i=e.fromBytes||(d=>{let p=d.subarray(1),y=r.fromBytes(p.subarray(0,r.BYTES)),x=r.fromBytes(p.subarray(r.BYTES,2*r.BYTES));return{x:y,y:x}});function o(d){let{a:p,b:y}=e,x=r.sqr(d),w=r.mul(x,d);return r.add(r.add(w,r.mul(d,p)),y)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(d){return typeof d=="bigint"&&Ze<d&&d<e.n}function s(d){if(!a(d))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function f(d){let{allowedPrivateKeyLengths:p,nByteLength:y,wrapPrivateKey:x,n:w}=e;if(p&&typeof d!="bigint"){if(d instanceof Uint8Array&&(d=He(d)),typeof d!="string"||!p.includes(d.length))throw new Error("Invalid key");d=d.padStart(y*2,"0")}let b;try{b=typeof d=="bigint"?d:ze(Tt("private key",d,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof d}`)}return x&&(b=yt(b,w)),s(b),b}let c=new Map;function u(d){if(!(d instanceof l))throw new Error("ProjectivePoint expected")}class l{constructor(p,y,x){if(this.px=p,this.py=y,this.pz=x,p==null||!r.isValid(p))throw new Error("x required");if(y==null||!r.isValid(y))throw new Error("y required");if(x==null||!r.isValid(x))throw new Error("z required")}static fromAffine(p){let{x:y,y:x}=p||{};if(!p||!r.isValid(y)||!r.isValid(x))throw new Error("invalid affine point");if(p instanceof l)throw new Error("projective point not allowed");let w=b=>r.eql(b,r.ZERO);return w(y)&&w(x)?l.ZERO:new l(y,x,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(p){let y=r.invertBatch(p.map(x=>x.pz));return p.map((x,w)=>x.toAffine(y[w])).map(l.fromAffine)}static fromHex(p){let y=l.fromAffine(i(Tt("pointHex",p)));return y.assertValidity(),y}static fromPrivateKey(p){return l.BASE.multiply(f(p))}_setWindowSize(p){this._WINDOW_SIZE=p,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:p,y}=this.toAffine();if(!r.isValid(p)||!r.isValid(y))throw new Error("bad point: x or y not FE");let x=r.sqr(y),w=o(p);if(!r.eql(x,w))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:p}=this.toAffine();if(r.isOdd)return!r.isOdd(p);throw new Error("Field doesn't support isOdd")}equals(p){u(p);let{px:y,py:x,pz:w}=this,{px:b,py:L,pz:E}=p,S=r.eql(r.mul(y,E),r.mul(b,w)),k=r.eql(r.mul(x,E),r.mul(L,w));return S&&k}negate(){return new l(this.px,r.neg(this.py),this.pz)}double(){let{a:p,b:y}=e,x=r.mul(y,Fc),{px:w,py:b,pz:L}=this,E=r.ZERO,S=r.ZERO,k=r.ZERO,B=r.mul(w,w),O=r.mul(b,b),F=r.mul(L,L),P=r.mul(w,b);return P=r.add(P,P),k=r.mul(w,L),k=r.add(k,k),E=r.mul(p,k),S=r.mul(x,F),S=r.add(E,S),E=r.sub(O,S),S=r.add(O,S),S=r.mul(E,S),E=r.mul(P,E),k=r.mul(x,k),F=r.mul(p,F),P=r.sub(B,F),P=r.mul(p,P),P=r.add(P,k),k=r.add(B,B),B=r.add(k,B),B=r.add(B,F),B=r.mul(B,P),S=r.add(S,B),F=r.mul(b,L),F=r.add(F,F),B=r.mul(F,P),E=r.sub(E,B),k=r.mul(F,O),k=r.add(k,k),k=r.add(k,k),new l(E,S,k)}add(p){u(p);let{px:y,py:x,pz:w}=this,{px:b,py:L,pz:E}=p,S=r.ZERO,k=r.ZERO,B=r.ZERO,O=e.a,F=r.mul(e.b,Fc),P=r.mul(y,b),V=r.mul(x,L),W=r.mul(w,E),et=r.add(y,x),C=r.add(b,L);et=r.mul(et,C),C=r.add(P,V),et=r.sub(et,C),C=r.add(y,w);let R=r.add(b,E);return C=r.mul(C,R),R=r.add(P,W),C=r.sub(C,R),R=r.add(x,w),S=r.add(L,E),R=r.mul(R,S),S=r.add(V,W),R=r.sub(R,S),B=r.mul(O,C),S=r.mul(F,W),B=r.add(S,B),S=r.sub(V,B),B=r.add(V,B),k=r.mul(S,B),V=r.add(P,P),V=r.add(V,P),W=r.mul(O,W),C=r.mul(F,C),V=r.add(V,W),W=r.sub(P,W),W=r.mul(O,W),C=r.add(C,W),P=r.mul(V,C),k=r.add(k,P),P=r.mul(R,C),S=r.mul(et,S),S=r.sub(S,P),P=r.mul(et,V),B=r.mul(R,B),B=r.add(B,P),new l(S,k,B)}subtract(p){return this.add(p.negate())}is0(){return this.equals(l.ZERO)}wNAF(p){return g.wNAFCached(this,c,p,y=>{let x=r.invertBatch(y.map(w=>w.pz));return y.map((w,b)=>w.toAffine(x[b])).map(l.fromAffine)})}multiplyUnsafe(p){let y=l.ZERO;if(p===Ze)return y;if(s(p),p===ue)return this;let{endo:x}=e;if(!x)return g.unsafeLadder(this,p);let{k1neg:w,k1:b,k2neg:L,k2:E}=x.splitScalar(p),S=y,k=y,B=this;for(;b>Ze||E>Ze;)b&ue&&(S=S.add(B)),E&ue&&(k=k.add(B)),B=B.double(),b>>=ue,E>>=ue;return w&&(S=S.negate()),L&&(k=k.negate()),k=new l(r.mul(k.px,x.beta),k.py,k.pz),S.add(k)}multiply(p){s(p);let y=p,x,w,{endo:b}=e;if(b){let{k1neg:L,k1:E,k2neg:S,k2:k}=b.splitScalar(y),{p:B,f:O}=this.wNAF(E),{p:F,f:P}=this.wNAF(k);B=g.constTimeNegate(L,B),F=g.constTimeNegate(S,F),F=new l(r.mul(F.px,b.beta),F.py,F.pz),x=B.add(F),w=O.add(P)}else{let{p:L,f:E}=this.wNAF(y);x=L,w=E}return l.normalizeZ([x,w])[0]}multiplyAndAddUnsafe(p,y,x){let w=l.BASE,b=(E,S)=>S===Ze||S===ue||!E.equals(w)?E.multiplyUnsafe(S):E.multiply(S),L=b(this,y).add(b(p,x));return L.is0()?void 0:L}toAffine(p){let{px:y,py:x,pz:w}=this,b=this.is0();p==null&&(p=b?r.ONE:r.inv(w));let L=r.mul(y,p),E=r.mul(x,p),S=r.mul(w,p);if(b)return{x:r.ZERO,y:r.ZERO};if(!r.eql(S,r.ONE))throw new Error("invZ was invalid");return{x:L,y:E}}isTorsionFree(){let{h:p,isTorsionFree:y}=e;if(p===ue)return!0;if(y)return y(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:p,clearCofactor:y}=e;return p===ue?this:y?y(l,this):this.multiplyUnsafe(e.h)}toRawBytes(p=!0){return this.assertValidity(),n(l,this,p)}toHex(p=!0){return He(this.toRawBytes(p))}}l.BASE=new l(e.Gx,e.Gy,r.ONE),l.ZERO=new l(r.ZERO,r.ONE,r.ZERO);let h=e.nBitLength,g=_i(l,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:l,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:a}}function cg(t){let e=Dn(t);return Le(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Mc(t){let e=cg(t),{Fp:r,n}=e,i=r.BYTES+1,o=2*r.BYTES+1;function a(C){return Ze<C&&C<r.ORDER}function s(C){return yt(C,n)}function f(C){return Ti(C,n)}let{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:h}=fg({...e,toBytes(C,R,N){let U=R.toAffine(),I=r.toBytes(U.x),H=Ge;return N?H(Uint8Array.from([R.hasEvenY()?2:3]),I):H(Uint8Array.from([4]),I,r.toBytes(U.y))},fromBytes(C){let R=C.length,N=C[0],U=C.subarray(1);if(R===i&&(N===2||N===3)){let I=ze(U);if(!a(I))throw new Error("Point is not on curve");let H=l(I),G=r.sqrt(H),Z=(G&ue)===ue;return(N&1)===1!==Z&&(G=r.neg(G)),{x:I,y:G}}else if(R===o&&N===4){let I=r.fromBytes(U.subarray(0,r.BYTES)),H=r.fromBytes(U.subarray(r.BYTES,2*r.BYTES));return{x:I,y:H}}else throw new Error(`Point of length ${R} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),g=C=>He(fr(C,e.nByteLength));function d(C){let R=n>>ue;return C>R}function p(C){return d(C)?s(-C):C}let y=(C,R,N)=>ze(C.slice(R,N));class x{constructor(R,N,U){this.r=R,this.s=N,this.recovery=U,this.assertValidity()}static fromCompact(R){let N=e.nByteLength;return R=Tt("compactSignature",R,N*2),new x(y(R,0,N),y(R,N,2*N))}static fromDER(R){let{r:N,s:U}=Dr.toSig(Tt("DER",R));return new x(N,U)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(R){return new x(this.r,this.s,R)}recoverPublicKey(R){let{r:N,s:U,recovery:I}=this,H=k(Tt("msgHash",R));if(I==null||![0,1,2,3].includes(I))throw new Error("recovery id invalid");let G=I===2||I===3?N+e.n:N;if(G>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let Z=I&1?"03":"02",rt=c.fromHex(Z+g(G)),it=f(G),dt=s(-H*it),ot=s(U*it),ut=c.BASE.multiplyAndAddUnsafe(rt,dt,ot);if(!ut)throw new Error("point at infinify");return ut.assertValidity(),ut}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return Sr(this.toDERHex())}toDERHex(){return Dr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Sr(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}let w={isValidPrivateKey(C){try{return u(C),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let C=sa(e.n);return vf(e.randomBytes(C),e.n)},precompute(C=8,R=c.BASE){return R._setWindowSize(C),R.multiply(BigInt(3)),R}};function b(C,R=!0){return c.fromPrivateKey(C).toRawBytes(R)}function L(C){let R=C instanceof Uint8Array,N=typeof C=="string",U=(R||N)&&C.length;return R?U===i||U===o:N?U===2*i||U===2*o:C instanceof c}function E(C,R,N=!0){if(L(C))throw new Error("first arg must be private key");if(!L(R))throw new Error("second arg must be public key");return c.fromHex(R).multiply(u(C)).toRawBytes(N)}let S=e.bits2int||function(C){let R=ze(C),N=C.length*8-e.nBitLength;return N>0?R>>BigInt(N):R},k=e.bits2int_modN||function(C){return s(S(C))},B=Nn(e.nBitLength);function O(C){if(typeof C!="bigint")throw new Error("bigint expected");if(!(Ze<=C&&C<B))throw new Error(`bigint expected < 2^${e.nBitLength}`);return fr(C,e.nByteLength)}function F(C,R,N=P){if(["recovered","canonical"].some(Ct=>Ct in N))throw new Error("sign() legacy options not supported");let{hash:U,randomBytes:I}=e,{lowS:H,prehash:G,extraEntropy:Z}=N;H==null&&(H=!0),C=Tt("msgHash",C),G&&(C=Tt("prehashed msgHash",U(C)));let rt=k(C),it=u(R),dt=[O(it),O(rt)];if(Z!=null){let Ct=Z===!0?I(r.BYTES):Z;dt.push(Tt("extraEntropy",Ct))}let ot=Ge(...dt),ut=rt;function _t(Ct){let Vt=S(Ct);if(!h(Vt))return;let qt=f(Vt),Nt=c.BASE.multiply(Vt).toAffine(),$t=s(Nt.x);if($t===Ze)return;let Ke=s(qt*s(ut+$t*it));if(Ke===Ze)return;let yr=(Nt.x===$t?0:2)|Number(Nt.y&ue),bn=Ke;return H&&d(Ke)&&(bn=p(Ke),yr^=1),new x($t,bn,yr)}return{seed:ot,k2sig:_t}}let P={lowS:e.lowS,prehash:!1},V={lowS:e.lowS,prehash:!1};function W(C,R,N=P){let{seed:U,k2sig:I}=F(C,R,N),H=e;return na(H.hash.outputLen,H.nByteLength,H.hmac)(U,I)}c.BASE._setWindowSize(8);function et(C,R,N,U=V){let I=C;if(R=Tt("msgHash",R),N=Tt("publicKey",N),"strict"in U)throw new Error("options.strict was renamed to lowS");let{lowS:H,prehash:G}=U,Z,rt;try{if(typeof I=="string"||I instanceof Uint8Array)try{Z=x.fromDER(I)}catch(Nt){if(!(Nt instanceof Dr.Err))throw Nt;Z=x.fromCompact(I)}else if(typeof I=="object"&&typeof I.r=="bigint"&&typeof I.s=="bigint"){let{r:Nt,s:$t}=I;Z=new x(Nt,$t)}else throw new Error("PARSE");rt=c.fromHex(N)}catch(Nt){if(Nt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(H&&Z.hasHighS())return!1;G&&(R=e.hash(R));let{r:it,s:dt}=Z,ot=k(R),ut=f(dt),_t=s(ot*ut),Ct=s(it*ut),Vt=c.BASE.multiplyAndAddUnsafe(rt,_t,Ct)?.toAffine();return Vt?s(Vt.x)===it:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:E,sign:W,verify:et,ProjectivePoint:c,Signature:x,utils:w}}var Vi=class extends Zr{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,sf(e);let n=Rn(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=e.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}update(e){return Wr(this),this.iHash.update(e),this}digestInto(e){Wr(this),Qo(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:a,outputLen:s}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=a,e.outputLen=s,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Ka=(t,e,r)=>new Vi(t,e).update(r).digest();Ka.create=(t,e)=>new Vi(t,e);function ug(t){return{hash:t,hmac:(e,...r)=>Ka(t,e,wi(...r)),randomBytes:Qr}}function Vc(t,e){let r=n=>Mc({...t,...ug(n)});return Object.freeze({...r(e),create:r})}var zc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),qc=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),lg=BigInt(1),Fa=BigInt(2),Hc=(t,e)=>(t+e/Fa)/e;function hg(t){let e=zc,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),s=BigInt(44),f=BigInt(88),c=t*t*t%e,u=c*c*t%e,l=Et(u,r,e)*u%e,h=Et(l,r,e)*u%e,g=Et(h,Fa,e)*c%e,d=Et(g,i,e)*g%e,p=Et(d,o,e)*d%e,y=Et(p,s,e)*p%e,x=Et(y,f,e)*y%e,w=Et(x,s,e)*p%e,b=Et(w,r,e)*u%e,L=Et(b,a,e)*d%e,E=Et(L,n,e)*c%e,S=Et(E,Fa,e);if(!Ma.eql(Ma.sqr(S),t))throw new Error("Cannot find square root");return S}var Ma=Ii(zc,void 0,void 0,{sqrt:hg}),Qe=Vc({a:BigInt(0),b:BigInt(7),Fp:Ma,n:qc,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=qc,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-lg*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=BigInt("0x100000000000000000000000000000000"),s=Hc(o*t,e),f=Hc(-n*t,e),c=yt(t-s*r-f*i,e),u=yt(-s*n-f*o,e),l=c>a,h=u>a;if(l&&(c=e-c),h&&(u=e-u),c>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:l,k1:c,k2neg:h,k2:u}}}},Kc),Mb=BigInt(0);var Vb=Qe.ProjectivePoint;function Gc(){return Qe.utils.randomPrivateKey()}async function $c(t,e){let{digest:r}=await zt.digest(e);try{return Qe.sign(r,t).toDERRawBytes()}catch(n){throw new st(String(n),"ERR_INVALID_INPUT")}}async function Yc(t,e,r){try{let{digest:n}=await zt.digest(r);return Qe.verify(e,n,t)}catch(n){throw new st(String(n),"ERR_INVALID_INPUT")}}function Wc(t){return Qe.ProjectivePoint.fromHex(t).toRawBytes(!0)}function Zc(t){try{Qe.getPublicKey(t,!0)}catch(e){throw new st(String(e),"ERR_INVALID_PRIVATE_KEY")}}function Va(t){try{Qe.ProjectivePoint.fromHex(t)}catch(e){throw new st(String(e),"ERR_INVALID_PUBLIC_KEY")}}function Qc(t){try{return Qe.getPublicKey(t,!0)}catch(e){throw new st(String(e),"ERR_INVALID_PRIVATE_KEY")}}var Vn=class{_key;constructor(e){Va(e),this._key=e}async verify(e,r){return Yc(this._key,r,e)}marshal(){return Wc(this._key)}get bytes(){return Ue.encode({Type:St.Secp256k1,Data:this.marshal()}).subarray()}equals(e){return Ot(this.bytes,e.bytes)}async hash(){let{bytes:e}=await zt.digest(this.bytes);return e}},qn=class{_key;_publicKey;constructor(e,r){this._key=e,this._publicKey=r??Qc(e),Zc(this._key),Va(this._publicKey)}async sign(e){return $c(this._key,e)}get public(){return new Vn(this._publicKey)}marshal(){return this._key}get bytes(){return Pe.encode({Type:St.Secp256k1,Data:this.marshal()}).subarray()}equals(e){return Ot(this.bytes,e.bytes)}async hash(){let{bytes:e}=await zt.digest(this.bytes);return e}async id(){let e=await this.public.hash();return Ft(e,"base58btc")}async export(e,r="libp2p-key"){if(r==="libp2p-key")return tn(this.bytes,e);throw new st(`export format '${r}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}};function pg(t){return new qn(t)}function yg(t){return new Vn(t)}async function gg(){let t=Gc();return new qn(t)}var Lr={rsa:Pa,ed25519:Na,secp256k1:qa};function Xc(t){let e=Object.keys(Lr).join(" / ");return new st(`invalid or unsupported key type ${t}. Must be ${e}`,"ERR_UNSUPPORTED_KEY_TYPE")}function Ha(t){let e=Ue.decode(t),r=e.Data??new Uint8Array;switch(e.Type){case St.RSA:return Lr.rsa.unmarshalRsaPublicKey(r);case St.Ed25519:return Lr.ed25519.unmarshalEd25519PublicKey(r);case St.Secp256k1:return Lr.secp256k1.unmarshalSecp256k1PublicKey(r);default:throw Xc(e.Type??"RSA")}}async function Jc(t){let e=Pe.decode(t),r=e.Data??new Uint8Array;switch(e.Type){case St.RSA:return Lr.rsa.unmarshalRsaPrivateKey(r);case St.Ed25519:return Lr.ed25519.unmarshalEd25519PrivateKey(r);case St.Secp256k1:return Lr.secp256k1.unmarshalSecp256k1PrivateKey(r);default:throw Xc(e.Type??"RSA")}}var ee=Bt(nu(),1);ee.default.formatters.b=t=>t==null?"undefined":Ht.baseEncode(t);ee.default.formatters.t=t=>t==null?"undefined":ir.baseEncode(t);ee.default.formatters.m=t=>t==null?"undefined":Hr.baseEncode(t);ee.default.formatters.p=t=>t==null?"undefined":t.toString();ee.default.formatters.c=t=>t==null?"undefined":t.toString();ee.default.formatters.k=t=>t==null?"undefined":t.toString();ee.default.formatters.a=t=>t==null?"undefined":t.toString();function Rg(t){let e=()=>{};return e.enabled=!1,e.color="",e.diff=0,e.log=()=>{},e.namespace=t,e.destroy=()=>!0,e.extend=()=>e,e}function zi(t){let e=Rg(`${t}:trace`);return ee.default.enabled(`${t}:trace`)&&ee.default.names.map(r=>r.toString()).find(r=>r.includes(":trace"))!=null&&(e=(0,ee.default)(`${t}:trace`)),Object.assign((0,ee.default)(t),{error:(0,ee.default)(`${t}:error`),trace:e})}var ls=Bt(za(),1);var au=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");var Xe="/",su=new TextEncoder().encode(Xe),Gi=su[0],$i=class t{_buf;constructor(e,r){if(typeof e=="string")this._buf=bt(e);else if(e instanceof Uint8Array)this._buf=e;else throw new Error("Invalid key, should be String of Uint8Array");if(r==null&&(r=!0),r&&this.clean(),this._buf.byteLength===0||this._buf[0]!==Gi)throw new Error("Invalid key")}toString(e="utf8"){return Ft(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new t(e.join(Xe))}static random(){return new t(au().replace(/-/g,""))}static asKey(e){return e instanceof Uint8Array||typeof e=="string"?new t(e):typeof e.uint8Array=="function"?new t(e.uint8Array()):null}clean(){if((this._buf==null||this._buf.byteLength===0)&&(this._buf=su),this._buf[0]!==Gi){let e=new Uint8Array(this._buf.byteLength+1);e.fill(Gi,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===Gi;)this._buf=this._buf.subarray(0,-1)}less(e){let r=this.list(),n=e.list();for(let i=0;i<r.length;i++){if(n.length<i+1)return!1;let o=r[i],a=n[i];if(o<a)return!0;if(o>a)return!1}return r.length<n.length}reverse(){return t.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){let e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(Xe).slice(1)}type(){return Dg(this.baseNamespace())}name(){return Lg(this.baseNamespace())}instance(e){return new t(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(Xe)||(e+=Xe),e+=this.type(),new t(e)}parent(){let e=this.list();return e.length===1?new t(Xe):new t(e.slice(0,-1).join(Xe))}child(e){return this.toString()===Xe?e:e.toString()===Xe?this:new t(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()===this.toString()?!1:e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()===this.toString()?!1:this.toString().startsWith(e.toString())}isTopLevel(){return this.list().length===1}concat(...e){return t.withNamespaces([...this.namespaces(),...kg(e.map(r=>r.namespaces()))])}};function Dg(t){let e=t.split(":");return e.length<2?"":e.slice(0,-1).join(":")}function Lg(t){let e=t.split(":");return e[e.length-1]}function kg(t){return[].concat(...t)}var hs=Bt($a(),1);var Ya="ERR_UNRECOGNIZED_VALIDITY",fu="ERR_SIGNATURE_CREATION",Ur="ERR_SIGNATURE_VERIFICATION",cu="ERR_UNRECOGNIZED_FORMAT";var Wa="ERR_UNDEFINED_PARAMETER",uu="ERR_INVALID_RECORD_DATA",lu="ERR_INVALID_VALUE",hu="ERR_INVALID_EMBEDDED_KEY",du="ERR_MISSING_PRIVATE_KEY";var re;(function(t){let e;(function(i){i.EOL="EOL"})(e=t.ValidityType||(t.ValidityType={}));let r;(function(i){i[i.EOL=0]="EOL"})(r||(r={})),function(i){i.codec=()=>Un(r)}(e=t.ValidityType||(t.ValidityType={}));let n;t.codec=()=>(n==null&&(n=an((i,o,a={})=>{a.lengthDelimited!==!1&&o.fork(),i.value!=null&&(o.uint32(10),o.bytes(i.value)),i.signatureV1!=null&&(o.uint32(18),o.bytes(i.signatureV1)),i.validityType!=null&&(o.uint32(24),t.ValidityType.codec().encode(i.validityType,o)),i.validity!=null&&(o.uint32(34),o.bytes(i.validity)),i.sequence!=null&&(o.uint32(40),o.uint64(i.sequence)),i.ttl!=null&&(o.uint32(48),o.uint64(i.ttl)),i.pubKey!=null&&(o.uint32(58),o.bytes(i.pubKey)),i.signatureV2!=null&&(o.uint32(66),o.bytes(i.signatureV2)),i.data!=null&&(o.uint32(74),o.bytes(i.data)),a.lengthDelimited!==!1&&o.ldelim()},(i,o)=>{let a={},s=o==null?i.len:i.pos+o;for(;i.pos<s;){let f=i.uint32();switch(f>>>3){case 1:a.value=i.bytes();break;case 2:a.signatureV1=i.bytes();break;case 3:a.validityType=t.ValidityType.codec().decode(i);break;case 4:a.validity=i.bytes();break;case 5:a.sequence=i.uint64();break;case 6:a.ttl=i.uint64();break;case 7:a.pubKey=i.bytes();break;case 8:a.signatureV2=i.bytes();break;case 9:a.data=i.bytes();break;default:i.skipType(f&7);break}}return a})),n),t.encode=i=>nn(i,t.codec()),t.decode=i=>rn(i,t.codec())})(re||(re={}));var Za=Symbol.for("@libp2p/peer-id");function yu(t){return t!=null&&!!t[Za]}var Ug=Symbol.for("nodejs.util.inspect.custom"),gu=Object.values(Yr).map(t=>t.decoder).reduce((t,e)=>t.or(e),Yr.identity.decoder),xu=114,Qa=36,Xa=37,Hn=class{type;multihash;privateKey;publicKey;string;constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[Za]=!0;toString(){return this.string==null&&(this.string=Ht.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return ye.createV1(xu,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return Ot(this.multihash.bytes,e);if(typeof e=="string")return Pg(e).equals(this);if(e?.multihash?.bytes!=null)return Ot(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}[Ug](){return`PeerId(${this.toString()})`}},hn=class extends Hn{type="RSA";publicKey;constructor(e){super({...e,type:"RSA"}),this.publicKey=e.publicKey}},dn=class extends Hn{type="Ed25519";publicKey;constructor(e){super({...e,type:"Ed25519"}),this.publicKey=e.multihash.digest}},pn=class extends Hn{type="secp256k1";publicKey;constructor(e){super({...e,type:"secp256k1"}),this.publicKey=e.multihash.digest}};function Pg(t,e){if(e=e??gu,t.charAt(0)==="1"||t.charAt(0)==="Q"){let r=wr(Ht.decode(`z${t}`));return t.startsWith("12D")?new dn({multihash:r}):t.startsWith("16U")?new pn({multihash:r}):new hn({multihash:r})}return Ja(gu.decode(t))}function Ja(t){try{let e=wr(t);if(e.code===De.code){if(e.digest.length===Qa)return new dn({multihash:e});if(e.digest.length===Xa)return new pn({multihash:e})}if(e.code===zt.code)return new hn({multihash:e})}catch{return Og(ye.decode(t))}throw new Error("Supplied PeerID CID is invalid")}function Og(t){if(t==null||t.multihash==null||t.version==null||t.version===1&&t.code!==xu)throw new Error("Supplied PeerID CID is invalid");let e=t.multihash;if(e.code===zt.code)return new hn({multihash:t.multihash});if(e.code===De.code){if(e.digest.length===Qa)return new dn({multihash:t.multihash});if(e.digest.length===Xa)return new pn({multihash:t.multihash})}throw new Error("Supplied PeerID CID is invalid")}async function mu(t,e){return t.length===Qa?new dn({multihash:Ne(De.code,t),privateKey:e}):t.length===Xa?new pn({multihash:Ne(De.code,t),privateKey:e}):new hn({multihash:await zt.digest(t),publicKey:t,privateKey:e})}var Kg=["string","number","bigint","symbol"],Fg=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function vu(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";let e=typeof t;if(Kg.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if(Mg(t))return"Buffer";let r=Vg(t);return r||"Object"}function Mg(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function Vg(t){let e=Object.prototype.toString.call(t).slice(8,-1);if(Fg.includes(e))return e}var T=class{constructor(e,r,n){this.major=e,this.majorEncoded=e<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};T.uint=new T(0,"uint",!0);T.negint=new T(1,"negint",!0);T.bytes=new T(2,"bytes",!0);T.string=new T(3,"string",!0);T.array=new T(4,"array",!1);T.map=new T(5,"map",!1);T.tag=new T(6,"tag",!1);T.float=new T(7,"float",!0);T.false=new T(7,"false",!0);T.true=new T(7,"true",!0);T.null=new T(7,"null",!0);T.undefined=new T(7,"undefined",!0);T.break=new T(7,"break",!0);var z=class{constructor(e,r,n){this.type=e,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};var yn=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",qg=new TextDecoder,Hg=new TextEncoder;function Yi(t){return yn&&globalThis.Buffer.isBuffer(t)}function ja(t){return t instanceof Uint8Array?Yi(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}var Su=yn?(t,e,r)=>r-e>64?globalThis.Buffer.from(t.subarray(e,r)).toString("utf8"):wu(t,e,r):(t,e,r)=>r-e>64?qg.decode(t.subarray(e,r)):wu(t,e,r),Bu=yn?t=>t.length>64?globalThis.Buffer.from(t):bu(t):t=>t.length>64?Hg.encode(t):bu(t),Oe=t=>Uint8Array.from(t),gn=yn?(t,e,r)=>Yi(t)?new Uint8Array(t.subarray(e,r)):t.slice(e,r):(t,e,r)=>t.slice(e,r),Cu=yn?(t,e)=>(t=t.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),ja(globalThis.Buffer.concat(t,e))):(t,e)=>{let r=new Uint8Array(e),n=0;for(let i of t)n+i.length>r.length&&(i=i.subarray(0,r.length-n)),r.set(i,n),n+=i.length;return r},Au=yn?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function Tu(t,e){if(Yi(t)&&Yi(e))return t.compare(e);for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function bu(t){let e=[],r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e}function wu(t,e,r){let n=[];for(;e<r;){let i=t[e],o=null,a=i>239?4:i>223?3:i>191?2:1;if(e+a<=r){let s,f,c,u;switch(a){case 1:i<128&&(o=i);break;case 2:s=t[e+1],(s&192)===128&&(u=(i&31)<<6|s&63,u>127&&(o=u));break;case 3:s=t[e+1],f=t[e+2],(s&192)===128&&(f&192)===128&&(u=(i&15)<<12|(s&63)<<6|f&63,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:s=t[e+1],f=t[e+2],c=t[e+3],(s&192)===128&&(f&192)===128&&(c&192)===128&&(u=(i&15)<<18|(s&63)<<12|(f&63)<<6|c&63,u>65535&&u<1114112&&(o=u))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),e+=a}return zg(n)}var Eu=4096;function zg(t){let e=t.length;if(e<=Eu)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Eu));return r}var Gg=256,zn=class{constructor(e=Gg){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let r=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let i=r.length-(this.maxCursor-this.cursor)-1;r.set(e,i)}else{if(r){let i=r.length-(this.maxCursor-this.cursor)-1;i<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,i),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(r=Au(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let r;if(this.chunks.length===1){let n=this.chunks[0];e&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=gn(n,0,this.cursor)}else r=Cu(this.chunks,this.cursor);return e&&this.reset(),r}};var Q="CBOR decode error:",ts="CBOR encode error:",Gn=[];Gn[23]=1;Gn[24]=2;Gn[25]=3;Gn[26]=5;Gn[27]=9;function Je(t,e,r){if(t.length-e<r)throw new Error(`${Q} not enough data for type`)}var Mt=[24,256,65536,4294967296,BigInt("18446744073709551616")];function ne(t,e,r){Je(t,e,1);let n=t[e];if(r.strict===!0&&n<Mt[0])throw new Error(`${Q} integer encoded in more bytes than necessary (strict decode)`);return n}function ie(t,e,r){Je(t,e,2);let n=t[e]<<8|t[e+1];if(r.strict===!0&&n<Mt[1])throw new Error(`${Q} integer encoded in more bytes than necessary (strict decode)`);return n}function oe(t,e,r){Je(t,e,4);let n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(r.strict===!0&&n<Mt[2])throw new Error(`${Q} integer encoded in more bytes than necessary (strict decode)`);return n}function ae(t,e,r){Je(t,e,8);let n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],i=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],o=(BigInt(n)<<BigInt(32))+BigInt(i);if(r.strict===!0&&o<Mt[3])throw new Error(`${Q} integer encoded in more bytes than necessary (strict decode)`);if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(r.allowBigInt===!0)return o;throw new Error(`${Q} integers outside of the safe integer range are not supported`)}function Iu(t,e,r,n){return new z(T.uint,ne(t,e+1,n),2)}function _u(t,e,r,n){return new z(T.uint,ie(t,e+1,n),3)}function Ru(t,e,r,n){return new z(T.uint,oe(t,e+1,n),5)}function Nu(t,e,r,n){return new z(T.uint,ae(t,e+1,n),9)}function le(t,e){return Gt(t,0,e.value)}function Gt(t,e,r){if(r<Mt[0]){let n=Number(r);t.push([e|n])}else if(r<Mt[1]){let n=Number(r);t.push([e|24,n])}else if(r<Mt[2]){let n=Number(r);t.push([e|25,n>>>8,n&255])}else if(r<Mt[3]){let n=Number(r);t.push([e|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<Mt[4]){let i=[e|27,0,0,0,0,0,0,0],o=Number(n&BigInt(4294967295)),a=Number(n>>BigInt(32)&BigInt(4294967295));i[8]=o&255,o=o>>8,i[7]=o&255,o=o>>8,i[6]=o&255,o=o>>8,i[5]=o&255,i[4]=a&255,a=a>>8,i[3]=a&255,a=a>>8,i[2]=a&255,a=a>>8,i[1]=a&255,t.push(i)}else throw new Error(`${Q} encountered BigInt larger than allowable range`)}}le.encodedSize=function(e){return Gt.encodedSize(e.value)};Gt.encodedSize=function(e){return e<Mt[0]?1:e<Mt[1]?2:e<Mt[2]?3:e<Mt[3]?5:9};le.compareTokens=function(e,r){return e.value<r.value?-1:e.value>r.value?1:0};function Du(t,e,r,n){return new z(T.negint,-1-ne(t,e+1,n),2)}function Lu(t,e,r,n){return new z(T.negint,-1-ie(t,e+1,n),3)}function ku(t,e,r,n){return new z(T.negint,-1-oe(t,e+1,n),5)}var es=BigInt(-1),Uu=BigInt(1);function Pu(t,e,r,n){let i=ae(t,e+1,n);if(typeof i!="bigint"){let o=-1-i;if(o>=Number.MIN_SAFE_INTEGER)return new z(T.negint,o,9)}if(n.allowBigInt!==!0)throw new Error(`${Q} integers outside of the safe integer range are not supported`);return new z(T.negint,es-BigInt(i),9)}function Wi(t,e){let r=e.value,n=typeof r=="bigint"?r*es-Uu:r*-1-1;Gt(t,e.type.majorEncoded,n)}Wi.encodedSize=function(e){let r=e.value,n=typeof r=="bigint"?r*es-Uu:r*-1-1;return n<Mt[0]?1:n<Mt[1]?2:n<Mt[2]?3:n<Mt[3]?5:9};Wi.compareTokens=function(e,r){return e.value<r.value?1:e.value>r.value?-1:0};function $n(t,e,r,n){Je(t,e,r+n);let i=gn(t,e+r,e+r+n);return new z(T.bytes,i,r+n)}function Ou(t,e,r,n){return $n(t,e,1,r)}function Ku(t,e,r,n){return $n(t,e,2,ne(t,e+1,n))}function Fu(t,e,r,n){return $n(t,e,3,ie(t,e+1,n))}function Mu(t,e,r,n){return $n(t,e,5,oe(t,e+1,n))}function Vu(t,e,r,n){let i=ae(t,e+1,n);if(typeof i=="bigint")throw new Error(`${Q} 64-bit integer bytes lengths not supported`);return $n(t,e,9,i)}function Zi(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===T.string?Bu(t.value):t.value),t.encodedBytes}function xn(t,e){let r=Zi(e);Gt(t,e.type.majorEncoded,r.length),t.push(r)}xn.encodedSize=function(e){let r=Zi(e);return Gt.encodedSize(r.length)+r.length};xn.compareTokens=function(e,r){return Yg(Zi(e),Zi(r))};function Yg(t,e){return t.length<e.length?-1:t.length>e.length?1:Tu(t,e)}function Yn(t,e,r,n,i){let o=r+n;Je(t,e,o);let a=new z(T.string,Su(t,e+r,e+o),o);return i.retainStringBytes===!0&&(a.byteValue=gn(t,e+r,e+o)),a}function qu(t,e,r,n){return Yn(t,e,1,r,n)}function Hu(t,e,r,n){return Yn(t,e,2,ne(t,e+1,n),n)}function zu(t,e,r,n){return Yn(t,e,3,ie(t,e+1,n),n)}function Gu(t,e,r,n){return Yn(t,e,5,oe(t,e+1,n),n)}function $u(t,e,r,n){let i=ae(t,e+1,n);if(typeof i=="bigint")throw new Error(`${Q} 64-bit integer string lengths not supported`);return Yn(t,e,9,i,n)}var Yu=xn;function mn(t,e,r,n){return new z(T.array,n,r)}function Wu(t,e,r,n){return mn(t,e,1,r)}function Zu(t,e,r,n){return mn(t,e,2,ne(t,e+1,n))}function Qu(t,e,r,n){return mn(t,e,3,ie(t,e+1,n))}function Xu(t,e,r,n){return mn(t,e,5,oe(t,e+1,n))}function Ju(t,e,r,n){let i=ae(t,e+1,n);if(typeof i=="bigint")throw new Error(`${Q} 64-bit integer array lengths not supported`);return mn(t,e,9,i)}function ju(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${Q} indefinite length items not allowed`);return mn(t,e,1,1/0)}function Qi(t,e){Gt(t,T.array.majorEncoded,e.value)}Qi.compareTokens=le.compareTokens;Qi.encodedSize=function(e){return Gt.encodedSize(e.value)};function vn(t,e,r,n){return new z(T.map,n,r)}function tl(t,e,r,n){return vn(t,e,1,r)}function el(t,e,r,n){return vn(t,e,2,ne(t,e+1,n))}function rl(t,e,r,n){return vn(t,e,3,ie(t,e+1,n))}function nl(t,e,r,n){return vn(t,e,5,oe(t,e+1,n))}function il(t,e,r,n){let i=ae(t,e+1,n);if(typeof i=="bigint")throw new Error(`${Q} 64-bit integer map lengths not supported`);return vn(t,e,9,i)}function ol(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${Q} indefinite length items not allowed`);return vn(t,e,1,1/0)}function Xi(t,e){Gt(t,T.map.majorEncoded,e.value)}Xi.compareTokens=le.compareTokens;Xi.encodedSize=function(e){return Gt.encodedSize(e.value)};function al(t,e,r,n){return new z(T.tag,r,1)}function sl(t,e,r,n){return new z(T.tag,ne(t,e+1,n),2)}function fl(t,e,r,n){return new z(T.tag,ie(t,e+1,n),3)}function cl(t,e,r,n){return new z(T.tag,oe(t,e+1,n),5)}function ul(t,e,r,n){return new z(T.tag,ae(t,e+1,n),9)}function Ji(t,e){Gt(t,T.tag.majorEncoded,e.value)}Ji.compareTokens=le.compareTokens;Ji.encodedSize=function(e){return Gt.encodedSize(e.value)};var jg=20,t2=21,e2=22,r2=23;function ll(t,e,r,n){if(n.allowUndefined===!1)throw new Error(`${Q} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new z(T.null,null,1):new z(T.undefined,void 0,1)}function hl(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${Q} indefinite length items not allowed`);return new z(T.break,void 0,1)}function rs(t,e,r){if(r){if(r.allowNaN===!1&&Number.isNaN(t))throw new Error(`${Q} NaN values are not supported`);if(r.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${Q} Infinity values are not supported`)}return new z(T.float,t,e)}function dl(t,e,r,n){return rs(ns(t,e+1),3,n)}function pl(t,e,r,n){return rs(is(t,e+1),5,n)}function yl(t,e,r,n){return rs(vl(t,e+1),9,n)}function ji(t,e,r){let n=e.value;if(n===!1)t.push([T.float.majorEncoded|jg]);else if(n===!0)t.push([T.float.majorEncoded|t2]);else if(n===null)t.push([T.float.majorEncoded|e2]);else if(n===void 0)t.push([T.float.majorEncoded|r2]);else{let i,o=!1;(!r||r.float64!==!0)&&(xl(n),i=ns(Se,1),n===i||Number.isNaN(n)?(Se[0]=249,t.push(Se.slice(0,3)),o=!0):(ml(n),i=is(Se,1),n===i&&(Se[0]=250,t.push(Se.slice(0,5)),o=!0))),o||(n2(n),i=vl(Se,1),Se[0]=251,t.push(Se.slice(0,9)))}}ji.encodedSize=function(e,r){let n=e.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){xl(n);let i=ns(Se,1);if(n===i||Number.isNaN(n))return 3;if(ml(n),i=is(Se,1),n===i)return 5}return 9};var gl=new ArrayBuffer(9),he=new DataView(gl,1),Se=new Uint8Array(gl,0);function xl(t){if(t===1/0)he.setUint16(0,31744,!1);else if(t===-1/0)he.setUint16(0,64512,!1);else if(Number.isNaN(t))he.setUint16(0,32256,!1);else{he.setFloat32(0,t);let e=he.getUint32(0),r=(e&2139095040)>>23,n=e&8388607;if(r===255)he.setUint16(0,31744,!1);else if(r===0)he.setUint16(0,(t&2147483648)>>16|n>>13,!1);else{let i=r-127;i<-24?he.setUint16(0,0):i<-14?he.setUint16(0,(e&2147483648)>>16|1<<24+i,!1):he.setUint16(0,(e&2147483648)>>16|i+15<<10|n>>13,!1)}}}function ns(t,e){if(t.length-e<2)throw new Error(`${Q} not enough data for float16`);let r=(t[e]<<8)+t[e+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,i=r&1023,o;return n===0?o=i*2**-24:n!==31?o=(i+1024)*2**(n-25):o=i===0?1/0:NaN,r&32768?-o:o}function ml(t){he.setFloat32(0,t,!1)}function is(t,e){if(t.length-e<4)throw new Error(`${Q} not enough data for float32`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,4).getFloat32(0,!1)}function n2(t){he.setFloat64(0,t,!1)}function vl(t,e){if(t.length-e<8)throw new Error(`${Q} not enough data for float64`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,8).getFloat64(0,!1)}ji.compareTokens=le.compareTokens;function lt(t,e,r){throw new Error(`${Q} encountered invalid minor (${r}) for major ${t[e]>>>5}`)}function to(t){return()=>{throw new Error(`${Q} ${t}`)}}var K=[];for(let t=0;t<=23;t++)K[t]=lt;K[24]=Iu;K[25]=_u;K[26]=Ru;K[27]=Nu;K[28]=lt;K[29]=lt;K[30]=lt;K[31]=lt;for(let t=32;t<=55;t++)K[t]=lt;K[56]=Du;K[57]=Lu;K[58]=ku;K[59]=Pu;K[60]=lt;K[61]=lt;K[62]=lt;K[63]=lt;for(let t=64;t<=87;t++)K[t]=Ou;K[88]=Ku;K[89]=Fu;K[90]=Mu;K[91]=Vu;K[92]=lt;K[93]=lt;K[94]=lt;K[95]=to("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)K[t]=qu;K[120]=Hu;K[121]=zu;K[122]=Gu;K[123]=$u;K[124]=lt;K[125]=lt;K[126]=lt;K[127]=to("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)K[t]=Wu;K[152]=Zu;K[153]=Qu;K[154]=Xu;K[155]=Ju;K[156]=lt;K[157]=lt;K[158]=lt;K[159]=ju;for(let t=160;t<=183;t++)K[t]=tl;K[184]=el;K[185]=rl;K[186]=nl;K[187]=il;K[188]=lt;K[189]=lt;K[190]=lt;K[191]=ol;for(let t=192;t<=215;t++)K[t]=al;K[216]=sl;K[217]=fl;K[218]=cl;K[219]=ul;K[220]=lt;K[221]=lt;K[222]=lt;K[223]=lt;for(let t=224;t<=243;t++)K[t]=to("simple values are not supported");K[244]=lt;K[245]=lt;K[246]=lt;K[247]=ll;K[248]=to("simple values are not supported");K[249]=dl;K[250]=pl;K[251]=yl;K[252]=lt;K[253]=lt;K[254]=lt;K[255]=hl;var Be=[];for(let t=0;t<24;t++)Be[t]=new z(T.uint,t,1);for(let t=-1;t>=-24;t--)Be[31-t]=new z(T.negint,t,1);Be[64]=new z(T.bytes,new Uint8Array(0),1);Be[96]=new z(T.string,"",1);Be[128]=new z(T.array,0,1);Be[160]=new z(T.map,0,1);Be[244]=new z(T.false,!1,1);Be[245]=new z(T.true,!0,1);Be[246]=new z(T.null,null,1);function bl(t){switch(t.type){case T.false:return Oe([244]);case T.true:return Oe([245]);case T.null:return Oe([246]);case T.bytes:return t.value.length?void 0:Oe([64]);case T.string:return t.value===""?Oe([96]):void 0;case T.array:return t.value===0?Oe([128]):void 0;case T.map:return t.value===0?Oe([160]):void 0;case T.uint:return t.value<24?Oe([Number(t.value)]):void 0;case T.negint:if(t.value>=-24)return Oe([31-Number(t.value)])}}var o2={float64:!1,mapSorter:f2,quickEncodeToken:bl};function a2(){let t=[];return t[T.uint.major]=le,t[T.negint.major]=Wi,t[T.bytes.major]=xn,t[T.string.major]=Yu,t[T.array.major]=Qi,t[T.map.major]=Xi,t[T.tag.major]=Ji,t[T.float.major]=ji,t}var wl=a2(),os=new zn,ro=class t{constructor(e,r){this.obj=e,this.parent=r}includes(e){let r=this;do if(r.obj===e)return!0;while(r=r.parent);return!1}static createCheck(e,r){if(e&&e.includes(r))throw new Error(`${ts} object contains circular references`);return new t(r,e)}},dr={null:new z(T.null,null),undefined:new z(T.undefined,void 0),true:new z(T.true,!0),false:new z(T.false,!1),emptyArray:new z(T.array,0),emptyMap:new z(T.map,0)},pr={number(t,e,r,n){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new z(T.float,t):t>=0?new z(T.uint,t):new z(T.negint,t)},bigint(t,e,r,n){return t>=BigInt(0)?new z(T.uint,t):new z(T.negint,t)},Uint8Array(t,e,r,n){return new z(T.bytes,t)},string(t,e,r,n){return new z(T.string,t)},boolean(t,e,r,n){return t?dr.true:dr.false},null(t,e,r,n){return dr.null},undefined(t,e,r,n){return dr.undefined},ArrayBuffer(t,e,r,n){return new z(T.bytes,new Uint8Array(t))},DataView(t,e,r,n){return new z(T.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,r,n){if(!t.length)return r.addBreakTokens===!0?[dr.emptyArray,new z(T.break)]:dr.emptyArray;n=ro.createCheck(n,t);let i=[],o=0;for(let a of t)i[o++]=eo(a,r,n);return r.addBreakTokens?[new z(T.array,t.length),i,new z(T.break)]:[new z(T.array,t.length),i]},Object(t,e,r,n){let i=e!=="Object",o=i?t.keys():Object.keys(t),a=i?t.size:o.length;if(!a)return r.addBreakTokens===!0?[dr.emptyMap,new z(T.break)]:dr.emptyMap;n=ro.createCheck(n,t);let s=[],f=0;for(let c of o)s[f++]=[eo(c,r,n),eo(i?t.get(c):t[c],r,n)];return s2(s,r),r.addBreakTokens?[new z(T.map,a),s,new z(T.break)]:[new z(T.map,a),s]}};pr.Map=pr.Object;pr.Buffer=pr.Uint8Array;for(let t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))pr[`${t}Array`]=pr.DataView;function eo(t,e={},r){let n=vu(t),i=e&&e.typeEncoders&&e.typeEncoders[n]||pr[n];if(typeof i=="function"){let a=i(t,n,e,r);if(a!=null)return a}let o=pr[n];if(!o)throw new Error(`${ts} unsupported type: ${n}`);return o(t,n,e,r)}function s2(t,e){e.mapSorter&&t.sort(e.mapSorter)}function f2(t,e){let r=Array.isArray(t[0])?t[0][0]:t[0],n=Array.isArray(e[0])?e[0][0]:e[0];if(r.type!==n.type)return r.type.compare(n.type);let i=r.type.major,o=wl[i].compareTokens(r,n);return o===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),o}function El(t,e,r,n){if(Array.isArray(e))for(let i of e)El(t,i,r,n);else r[e.type.major](t,e,n)}function c2(t,e,r){let n=eo(t,r);if(!Array.isArray(n)&&r.quickEncodeToken){let i=r.quickEncodeToken(n);if(i)return i;let o=e[n.type.major];if(o.encodedSize){let a=o.encodedSize(n,r),s=new zn(a);if(o(s,n,r),s.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return ja(s.chunks[0])}}return os.reset(),El(os,n,e,r),os.toBytes(!0)}function as(t,e){return e=Object.assign({},o2,e),c2(t,wl,e)}var u2={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},ss=class{constructor(e,r={}){this._pos=0,this.data=e,this.options=r}pos(){return this._pos}done(){return this._pos>=this.data.length}next(){let e=this.data[this._pos],r=Be[e];if(r===void 0){let n=K[e];if(!n)throw new Error(`${Q} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let i=e&31;r=n(this.data,this._pos,i,this.options)}return this._pos+=r.encodedLength,r}},Wn=Symbol.for("DONE"),no=Symbol.for("BREAK");function l2(t,e,r){let n=[];for(let i=0;i<t.value;i++){let o=Zn(e,r);if(o===no){if(t.value===1/0)break;throw new Error(`${Q} got unexpected break to lengthed array`)}if(o===Wn)throw new Error(`${Q} found array but not enough entries (got ${i}, expected ${t.value})`);n[i]=o}return n}function h2(t,e,r){let n=r.useMaps===!0,i=n?void 0:{},o=n?new Map:void 0;for(let a=0;a<t.value;a++){let s=Zn(e,r);if(s===no){if(t.value===1/0)break;throw new Error(`${Q} got unexpected break to lengthed map`)}if(s===Wn)throw new Error(`${Q} found map but not enough entries (got ${a} [no key], expected ${t.value})`);if(n!==!0&&typeof s!="string")throw new Error(`${Q} non-string keys not supported (got ${typeof s})`);if(r.rejectDuplicateMapKeys===!0&&(n&&o.has(s)||!n&&s in i))throw new Error(`${Q} found repeat map key "${s}"`);let f=Zn(e,r);if(f===Wn)throw new Error(`${Q} found map but not enough entries (got ${a} [no value], expected ${t.value})`);n?o.set(s,f):i[s]=f}return n?o:i}function Zn(t,e){if(t.done())return Wn;let r=t.next();if(r.type===T.break)return no;if(r.type.terminal)return r.value;if(r.type===T.array)return l2(r,t,e);if(r.type===T.map)return h2(r,t,e);if(r.type===T.tag){if(e.tags&&typeof e.tags[r.value]=="function"){let n=Zn(t,e);return e.tags[r.value](n)}throw new Error(`${Q} tag not supported (${r.value})`)}throw new Error("unsupported")}function Sl(t,e){if(!(t instanceof Uint8Array))throw new Error(`${Q} data to decode must be a Uint8Array`);e=Object.assign({},u2,e);let r=e.tokenizer||new ss(t,e),n=Zn(r,e);if(n===Wn)throw new Error(`${Q} did not find any content to decode`);if(n===no)throw new Error(`${Q} got unexpected break`);return[n,t.subarray(r.pos())]}function fs(t,e){let[r,n]=Sl(t,e);if(n.length>0)throw new Error(`${Q} too many terminals, data makes no sense`);return r}var Zt=Bt(za(),1);var Bl=Bt($a(),1);var cs=zi("ipns:utils"),Cl=bt("/ipns/"),p2=114;function y2(t){let e=new RegExp("(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})\\.(\\d+)Z"),r=String(t).trim().match(e);if(r==null)throw new Error("Invalid format");let n=parseInt(r[1],10),i=parseInt(r[2],10)-1,o=parseInt(r[3],10),a=parseInt(r[4],10),s=parseInt(r[5],10),f=parseInt(r[6],10),c=parseInt(r[7].padEnd(6,"0").slice(0,3),10);return new Date(Date.UTC(n,i,o,a,s,f,c))}var Al=async(t,e)=>{if(e==null||t==null){let n=new Error("one or more of the provided parameters are not defined");throw cs.error(n),(0,Zt.default)(n,Wa)}let r;if(e.pubKey!=null){try{r=Ha(e.pubKey)}catch(i){throw cs.error(i),i}if(!(await mu(e.pubKey)).equals(t))throw(0,Zt.default)(new Error("Embedded public key did not match PeerID"),hu)}else t.publicKey!=null&&(r=Ha(t.publicKey));if(r!=null)return r;throw(0,Zt.default)(new Error("no public key is available"),Wa)},Tl=(t,e,r)=>{let n=bt(e);return me([t,r,n])},Il=t=>{let e=bt("ipns-signature:");return me([e,t])},_l=t=>"signatureV1"in t?re.encode({value:bt(t.value),signatureV1:t.signatureV1,validityType:t.validityType,validity:bt(t.validity.toString()),sequence:t.sequence,ttl:t.ttl,pubKey:t.pubKey,signatureV2:t.signatureV2,data:t.data}):re.encode({pubKey:t.pubKey,signatureV2:t.signatureV2,data:t.data});function Rl(t){let e=re.decode(t);if(e.sequence!=null&&(e.sequence=BigInt(e.sequence)),e.ttl!=null&&(e.ttl=BigInt(e.ttl)),e.signatureV2==null||e.data==null)throw(0,Zt.default)(new Error("missing data or signatureV2"),Ur);let r=kl(e.data),n=us(r.Value),i;try{i=Bl.default.fromDate(y2(Ft(r.Validity)))}catch{throw cs.error("unrecognized validity format (not an rfc3339 format)"),(0,Zt.default)(new Error("unrecognized validity format (not an rfc3339 format)"),cu)}if(e.value!=null&&e.signatureV1!=null)return g2(e),{value:n,validityType:re.ValidityType.EOL,validity:i,sequence:r.Sequence,ttl:r.TTL,pubKey:e.pubKey,signatureV1:e.signatureV1,signatureV2:e.signatureV2,data:e.data};if(e.signatureV2!=null)return{value:n,validityType:re.ValidityType.EOL,validity:i,sequence:r.Sequence,ttl:r.TTL,pubKey:e.pubKey,signatureV2:e.signatureV2,data:e.data};throw new Error("invalid record: does not include signatureV1 or signatureV2")}var Nl=t=>me([Cl,t.toBytes()]),Dl=t=>Ja(t.slice(Cl.length)),Ll=(t,e,r,n,i)=>{let o;if(r===re.ValidityType.EOL)o=0;else throw(0,Zt.default)(new Error("Unknown validity type"),Ya);return as({Value:t,Validity:e,ValidityType:o,Sequence:n,TTL:i})},kl=t=>{let e=fs(t);if(e.ValidityType===0)e.ValidityType=re.ValidityType.EOL;else throw(0,Zt.default)(new Error("Unknown validity type"),Ya);return Number.isInteger(e.Sequence)&&(e.Sequence=BigInt(e.Sequence)),Number.isInteger(e.TTL)&&(e.TTL=BigInt(e.TTL)),e},us=t=>{if(t!=null){if(yu(t))return`/ipns/${t.toCID().toString(yi)}`;if(t instanceof Uint8Array){let n=Ft(t);n.startsWith("/")&&(t=n)}let e=t.toString().trim();if(e.startsWith("/")&&e.length>1)return e;let r=ye.asCID(t);if(r!=null)return r.code===p2?`/ipns/${r.toString(yi)}`:`/ipfs/${r.toV1().toString()}`;try{return t instanceof Uint8Array?`/ipfs/${ye.decode(t).toV1().toString()}`:`/ipfs/${ye.parse(e).toV1().toString()}`}catch{}}throw(0,Zt.default)(new Error("Value must be a valid content path starting with /"),lu)},g2=t=>{if(t.data==null)throw(0,Zt.default)(new Error("Record data is missing"),uu);let e=kl(t.data);if(!Ot(e.Value,t.value??new Uint8Array(0)))throw(0,Zt.default)(new Error('Field "value" did not match between protobuf and CBOR'),Ur);if(!Ot(e.Validity,t.validity??new Uint8Array(0)))throw(0,Zt.default)(new Error('Field "validity" did not match between protobuf and CBOR'),Ur);if(e.ValidityType!==t.validityType)throw(0,Zt.default)(new Error('Field "validityType" did not match between protobuf and CBOR'),Ur);if(e.Sequence!==t.sequence)throw(0,Zt.default)(new Error('Field "sequence" did not match between protobuf and CBOR'),Ur);if(e.TTL!==t.ttl)throw(0,Zt.default)(new Error('Field "ttl" did not match between protobuf and CBOR'),Ur)};var x2=zi("ipns"),m2=De.code,Ul="/ipns/",v2=Ul.length,ds={v1Compatible:!0};async function b2(t,e,r,n,i=ds){let o=new hs.default(Date.now()+Number(n)),a=re.ValidityType.EOL,[s,f]=n.toString().split("."),c=BigInt(s)*BigInt(1e5)+BigInt(f??"0");return Pl(t,e,r,a,o,c,i)}async function w2(t,e,r,n,i=ds){let o=hs.default.fromString(n),a=re.ValidityType.EOL,s=o.toDate().getTime()-Date.now(),f=BigInt(s)*BigInt(1e5)+BigInt(o.getNano());return Pl(t,e,r,a,o,f,i)}var Pl=async(t,e,r,n,i,o,a=ds)=>{r=BigInt(r);let s=bt(i.toString()),f=us(e),c=bt(f);if(t.privateKey==null)throw(0,ls.default)(new Error("Missing private key"),du);let u=await Jc(t.privateKey),l=Ll(c,s,n,r,o),h=Il(l),g=await u.sign(h),d;if(t.publicKey!=null){let p=wr(t.toBytes());(p.code!==m2||!Ot(t.publicKey,p.digest))&&(d=t.publicKey)}if(a.v1Compatible===!0){let p=await B2(u,c,n,s),y={value:f,signatureV1:p,validity:i,validityType:n,sequence:r,ttl:o,signatureV2:g,data:l};return d!=null&&(y.pubKey=d),y}else{let p={value:f,validity:i,validityType:n,sequence:r,ttl:o,signatureV2:g,data:l};return d!=null&&(p.pubKey=d),p}},E2=t=>Po.encode(t).slice(1),S2=t=>new $i(`/ipns/${E2(t)}`),B2=async(t,e,r,n)=>{try{let i=Tl(e,r,n);return await t.sign(i)}catch(i){throw x2.error("record signature creation failed",i),(0,ls.default)(new Error("record signature creation failed"),fu)}};return Ql(C2);})();
/*! Bundled license information:

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
return Ipns}));
